(window.webpackJsonp=window.webpackJsonp||[]).push([[1],[function(e,t,n){"use strict";e.exports=n(73)},function(e,t,n){"use strict";n.d(t,"a",function(){return P}),n.d(t,"b",function(){return R}),n.d(t,"c",function(){return D}),n.d(t,"d",function(){return L}),n.d(t,"e",function(){return T}),n.d(t,"f",function(){return I}),n.d(t,"g",function(){return x}),n.d(t,"h",function(){return N});var r=n(8),i=n(16),a=n(0),o=Object(a.createContext)(null);var u=Object(a.createContext)(null);var s=Object(a.createContext)({outlet:null,matches:[]});function l(e,t){if(!e)throw new Error(t)}function c(e,t,n){void 0===n&&(n="/");var r=w(("string"===typeof t?Object(i.f)(t):t).pathname||"/",n);if(null==r)return null;var a=function e(t,n,r,i){void 0===n&&(n=[]);void 0===r&&(r=[]);void 0===i&&(i="");t.forEach(function(t,a){var o={relativePath:t.path||"",caseSensitive:!0===t.caseSensitive,childrenIndex:a,route:t};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(i)||l(!1),o.relativePath=o.relativePath.slice(i.length));var u=O([i,o.relativePath]),s=r.concat(o);t.children&&t.children.length>0&&(!0===t.index&&l(!1),e(t.children,n,s,u)),(null!=t.path||t.index)&&n.push({path:u,score:m(u,t.index),routesMeta:s})});return n}(e);!function(e){e.sort(function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){return e.length===t.length&&e.slice(0,-1).every(function(e,n){return e===t[n]})?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(function(e){return e.childrenIndex}),t.routesMeta.map(function(e){return e.childrenIndex}))})}(a);for(var o=null,u=0;null==o&&u<a.length;++u)o=b(a[u],r);return o}var h=/^:\w+$/,f=3,d=2,p=1,v=10,y=-2,g=function(e){return"*"===e};function m(e,t){var n=e.split("/"),r=n.length;return n.some(g)&&(r+=y),t&&(r+=d),n.filter(function(e){return!g(e)}).reduce(function(e,t){return e+(h.test(t)?f:""===t?p:v)},r)}function b(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var u=n[o],s=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=k({path:u.relativePath,caseSensitive:u.caseSensitive,end:s},l);if(!c)return null;Object.assign(r,c.params);var h=u.route;a.push({params:r,pathname:O([i,c.pathname]),pathnameBase:E(O([i,c.pathnameBase])),route:h}),"/"!==c.pathnameBase&&(i=O([i,c.pathnameBase]))}return a}function k(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,function(e,t){return r.push(t),"([^\\/]+)"});e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),i=Object(r.a)(n,2),a=i[0],o=i[1],u=t.match(a);if(!u)return null;var s=u[0],l=s.replace(/(.)\/+$/,"$1"),c=u.slice(1);return{params:o.reduce(function(e,t,n){if("*"===t){var r=c[n]||"";l=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e},{}),pathname:s,pathnameBase:l,pattern:e}}function _(e,t,n){var r,a="string"===typeof e?Object(i.f)(e):e,o=""===e||""===a.pathname?"/":a.pathname;if(null==o)r=n;else{var u=t.length-1;if(o.startsWith("..")){for(var s=o.split("/");".."===s[0];)s.shift(),u-=1;a.pathname=s.join("/")}r=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?Object(i.f)(e):e,r=n.pathname,a=n.search,o=void 0===a?"":a,u=n.hash,s=void 0===u?"":u;return{pathname:r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(r,t):t,search:C(o),hash:S(s)}}(a,r);return o&&"/"!==o&&o.endsWith("/")&&!l.pathname.endsWith("/")&&(l.pathname+="/"),l}function w(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var O=function(e){return e.join("/").replace(/\/\/+/g,"/")},E=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},C=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},S=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function T(e){j()||l(!1);var t=Object(a.useContext)(o),n=t.basename,r=t.navigator,u=N(e),s=u.hash,c=u.pathname,h=u.search,f=c;if("/"!==n){var d=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?Object(i.f)(e).pathname:e.pathname}(e),p=null!=d&&d.endsWith("/");f="/"===c?n+(p?"/":""):O([n,c])}return r.createHref({pathname:f,search:h,hash:s})}function j(){return null!=Object(a.useContext)(u)}function I(){return j()||l(!1),Object(a.useContext)(u).location}function x(){j()||l(!1);var e=Object(a.useContext)(o),t=e.basename,n=e.navigator,r=Object(a.useContext)(s).matches,i=I().pathname,u=JSON.stringify(r.map(function(e){return e.pathnameBase})),c=Object(a.useRef)(!1);return Object(a.useEffect)(function(){c.current=!0}),Object(a.useCallback)(function(e,r){if(void 0===r&&(r={}),c.current)if("number"!==typeof e){var a=_(e,JSON.parse(u),i);"/"!==t&&(a.pathname=O([t,a.pathname])),(r.replace?n.replace:n.push)(a,r.state)}else n.go(e)},[t,n,u,i])}function N(e){var t=Object(a.useContext)(s).matches,n=I().pathname,r=JSON.stringify(t.map(function(e){return e.pathnameBase}));return Object(a.useMemo)(function(){return _(e,JSON.parse(r),n)},[e,r,n])}function A(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight(function(n,r,i){return Object(a.createElement)(s.Provider,{children:void 0!==r.route.element?r.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,i+1))}})},null)}function P(e){var t=e.to,n=e.replace,r=e.state;j()||l(!1);var i=x();return Object(a.useEffect)(function(){i(t,{replace:n,state:r})}),null}function R(e){l(!1)}function D(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,s=void 0===r?null:r,c=e.location,h=e.navigationType,f=void 0===h?i.a.Pop:h,d=e.navigator,p=e.static,v=void 0!==p&&p;j()&&l(!1);var y=E(n),g=Object(a.useMemo)(function(){return{basename:y,navigator:d,static:v}},[y,d,v]);"string"===typeof c&&(c=Object(i.f)(c));var m=c,b=m.pathname,k=void 0===b?"/":b,_=m.search,O=void 0===_?"":_,C=m.hash,S=void 0===C?"":C,T=m.state,I=void 0===T?null:T,x=m.key,N=void 0===x?"default":x,A=Object(a.useMemo)(function(){var e=w(k,y);return null==e?null:{pathname:e,search:O,hash:S,state:I,key:N}},[y,k,O,S,I,N]);return null==A?null:Object(a.createElement)(o.Provider,{value:g},Object(a.createElement)(u.Provider,{children:s,value:{location:A,navigationType:f}}))}function L(e){var t=e.children,n=e.location;return function(e,t){j()||l(!1);var n,r=Object(a.useContext)(s).matches,o=r[r.length-1],u=o?o.params:{},h=(o&&o.pathname,o?o.pathnameBase:"/"),f=(o&&o.route,I());if(t){var d,p="string"===typeof t?Object(i.f)(t):t;"/"===h||null!=(d=p.pathname)&&d.startsWith(h)||l(!1),n=p}else n=f;var v=n.pathname||"/",y=c(e,{pathname:"/"===h?v:v.slice(h.length)||"/"});return A(y&&y.map(function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:O([h,e.pathname]),pathnameBase:"/"===e.pathnameBase?h:O([h,e.pathnameBase])})}),r)}(function e(t){var n=[];a.Children.forEach(t,function(t){if(Object(a.isValidElement)(t))if(t.type!==a.Fragment){t.type!==R&&l(!1);var r={caseSensitive:t.props.caseSensitive,element:t.props.element,index:t.props.index,path:t.props.path};t.props.children&&(r.children=e(t.props.children)),n.push(r)}else n.push.apply(n,e(t.props.children))});return n}(t),n)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",function(){return r})},function(e,t,n){e.exports=n(80)},function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return k}),n.d(t,"b",function(){return D}),n.d(t,"c",function(){return R}),n.d(t,"d",function(){return Y}),n.d(t,"e",function(){return f}),n.d(t,"f",function(){return d}),n.d(t,"g",function(){return v}),n.d(t,"h",function(){return y}),n.d(t,"i",function(){return g}),n.d(t,"j",function(){return B}),n.d(t,"k",function(){return _}),n.d(t,"l",function(){return b}),n.d(t,"m",function(){return K}),n.d(t,"n",function(){return $}),n.d(t,"o",function(){return Z}),n.d(t,"p",function(){return w}),n.d(t,"q",function(){return z}),n.d(t,"r",function(){return E}),n.d(t,"s",function(){return S}),n.d(t,"t",function(){return H}),n.d(t,"u",function(){return T}),n.d(t,"v",function(){return N}),n.d(t,"w",function(){return O}),n.d(t,"x",function(){return I}),n.d(t,"y",function(){return C}),n.d(t,"z",function(){return x}),n.d(t,"A",function(){return j}),n.d(t,"B",function(){return V}),n.d(t,"C",function(){return M}),n.d(t,"D",function(){return W}),n.d(t,"E",function(){return Q}),n.d(t,"F",function(){return q}),n.d(t,"G",function(){return J}),n.d(t,"H",function(){return X}),n.d(t,"I",function(){return F}),n.d(t,"J",function(){return A});var r=n(8),i=n(10),a=n(7),o=n(9),u=n(21),s=n(71),l=n(2),c=n(4);var h={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},f=function(e,t){if(!e)throw d(t)},d=function(e){return new Error("Firebase Database ("+h.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},p=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},v={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,l=s?e[i+2]:0,c=a>>2,h=(3&a)<<4|u>>4,f=(15&u)<<2|l>>6,d=63&l;s||(d=64,o||(f=64)),r.push(n[c],n[h],n[f],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(p(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var l=a<<2|o>>4;if(r.push(l),64!==u){var c=o<<4&240|u>>2;if(r.push(c),64!==s){var h=u<<6&192|s;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},y=function(e){var t=p(e);return v.encodeByteArray(t,!0)},g=function(e){return y(e).replace(/\./g,"")},m=function(e){try{return v.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function b(e){return function e(t,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:var r=n;return new Date(r.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return n}for(var i in n)n.hasOwnProperty(i)&&"__proto__"!==i&&(t[i]=e(t[i],n[i]));return t}(void 0,e)}var k=function(){function e(){var t=this;Object(l.a)(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return Object(c.a)(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch(function(){}),1===e.length?e(n):e(n,r))}}}]),e}();function _(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[g(JSON.stringify({alg:"none",type:"JWT"})),g(JSON.stringify(a)),""].join(".")}function w(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function O(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(w())}function E(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function C(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function S(){return w().indexOf("Electron/")>=0}function T(){var e=w();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function j(){return w().indexOf("MSAppHost/")>=0}function I(){return!0===h.NODE_CLIENT||!0===h.NODE_ADMIN}function x(){return!function(){try{return"[object process]"===Object.prototype.toString.call(e.process)}catch(t){return!1}}()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N(){return"object"===typeof indexedDB}function A(){return new Promise(function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})}var P="FirebaseError",R=function(e){function t(e,n,r){var o;return Object(l.a)(this,t),(o=Object(i.a)(this,Object(a.a)(t).call(this,n))).code=e,o.customData=r,o.name=P,Object.setPrototypeOf(Object(u.a)(Object(u.a)(o)),t.prototype),Error.captureStackTrace&&Error.captureStackTrace(Object(u.a)(Object(u.a)(o)),D.prototype.create),o}return Object(o.a)(t,e),t}(Object(s.a)(Error)),D=function(){function e(t,n,r){Object(l.a)(this,e),this.service=t,this.serviceName=n,this.errors=r}return Object(c.a)(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(L,function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new R(n,a,t)}}]),e}();var L=/\{\$([^}]+)}/g;function M(e){return JSON.parse(e)}function F(e){return JSON.stringify(e)}var U=function(e){var t={},n={},r={},i="";try{var a=e.split(".");t=M(m(a[0])||""),n=M(m(a[1])||""),i=a[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}},V=function(e){var t=U(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},z=function(e){var t=U(e).claims;return"object"===typeof t&&!0===t.admin};function B(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function q(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function H(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function W(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function K(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(G(u)&&G(s)){if(!K(u,s))return!1}else if(u!==s)return!1}for(var l=0,c=r;l<c.length;l++){var h=c[l];if(!n.includes(h))return!1}return!0}function G(e){return null!==e&&"object"===typeof e}function Q(e){for(var t=[],n=function(){var e=Object(r.a)(a[i],2),n=e[0],o=e[1];Array.isArray(o)?o.forEach(function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(o))},i=0,a=Object.entries(e);i<a.length;i++)n();return t.length?"&"+t.join("&"):""}var Y=function(){function e(){Object(l.a)(this,e),this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return Object(c.a)(e,[{key:"reset",value:function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}},{key:"compress_",value:function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(var i=0;i<16;i++)n[i]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(var a=16;a<80;a++){var o=n[a-3]^n[a-8]^n[a-14]^n[a-16];n[a]=4294967295&(o<<1|o>>>31)}for(var u,s,l=this.chain_[0],c=this.chain_[1],h=this.chain_[2],f=this.chain_[3],d=this.chain_[4],p=0;p<80;p++){p<40?p<20?(u=f^c&(h^f),s=1518500249):(u=c^h^f,s=1859775393):p<60?(u=c&h|f&(c|h),s=2400959708):(u=c^h^f,s=3395469782);var v=(l<<5|l>>>27)+u+d+s+n[p]&4294967295;d=f,f=h,h=4294967295&(c<<30|c>>>2),c=l,l=v}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}},{key:"update",value:function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,a=this.inbuf_;r<t;){if(0===a)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[a]=e.charCodeAt(r),++r,++a===this.blockSize){this.compress_(i),a=0;break}}else for(;r<t;)if(i[a]=e[r],++r,++a===this.blockSize){this.compress_(i),a=0;break}}this.inbuf_=a,this.total_+=t}}},{key:"digest",value:function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);for(var r=0,i=0;i<5;i++)for(var a=24;a>=0;a-=8)e[r]=this.chain_[i]>>a&255,++r;return e}}]),e}();function $(e,t){return"".concat(e," failed: ").concat(t," argument ")}var X=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;f(++r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},J=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Z(e){return e&&e._delegate?e._delegate:e}}).call(this,n(26))},function(e,t,n){"use strict";function r(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(l){return void n(l)}u.done?t(s):Promise.resolve(s).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,a){var o=e.apply(t,n);function u(e){r(o,i,a,u,s,"next",e)}function s(e){r(o,i,a,u,s,"throw",e)}u(void 0)})}}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(s){i=!0,a=s}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(25);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Object(r.a)(e,t)}},function(e,t,n){"use strict";function r(e){return(r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return(i="function"===typeof Symbol&&"symbol"===r(Symbol.iterator)?function(e){return r(e)}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)})(e)}var a=n(21);function o(e,t){return!t||"object"!==i(t)&&"function"!==typeof t?Object(a.a)(e):t}n.d(t,"a",function(){return o})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return h});var r=n(8),i=n(0),a=n(16),o=n(1);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var l=["onClick","reloadDocument","replace","state","target","to"];function c(e){var t=e.basename,n=e.children,u=e.window,s=Object(i.useRef)();null==s.current&&(s.current=Object(a.b)({window:u}));var l=s.current,c=Object(i.useState)({action:l.action,location:l.location}),h=Object(r.a)(c,2),f=h[0],d=h[1];return Object(i.useLayoutEffect)(function(){return l.listen(d)},[l]),Object(i.createElement)(o.c,{basename:t,children:n,location:f.location,navigationType:f.action,navigator:l})}var h=Object(i.forwardRef)(function(e,t){var n=e.onClick,r=e.reloadDocument,c=e.replace,h=void 0!==c&&c,f=e.state,d=e.target,p=e.to,v=s(e,l),y=Object(o.e)(p),g=function(e,t){var n=void 0===t?{}:t,r=n.target,u=n.replace,s=n.state,l=Object(o.g)(),c=Object(o.f)(),h=Object(o.h)(e);return Object(i.useCallback)(function(t){if(0===t.button&&(!r||"_self"===r)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!u||Object(a.e)(c)===Object(a.e)(h);l(e,{replace:n,state:s})}},[c,l,h,u,s,r,e])}(p,{replace:h,state:f,target:d});return Object(i.createElement)("a",u({},v,{href:y,onClick:function(e){n&&n(e),e.defaultPrevented||r||g(e)},ref:t,target:d}))})},function(e,t,n){e.exports=n(82)()},function(e,t,n){"use strict";var r,i,a=n(18),o=n(3),u=n.n(o),s=n(6),l=n(11),c=n(2),h=n(4),f=n(23),d=n(20),p=n(5),v=n(15),y=function(e,t){return t.some(function(t){return e instanceof t})};var g=new WeakMap,m=new WeakMap,b=new WeakMap,k=new WeakMap,_=new WeakMap;var w={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return m.get(e);if("objectStoreNames"===t)return e.objectStoreNames||b.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return C(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function O(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(i||(i=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(S(this),n),C(g.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return C(e.apply(S(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[S(this),t].concat(r));return b.set(a,t.sort?t.sort():[t]),C(a)}}function E(e){return"function"===typeof e?O(e):(e instanceof IDBTransaction&&function(e){if(!m.has(e)){var t=new Promise(function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)});m.set(e,t)}}(e),y(e,r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,w):e)}function C(e){if(e instanceof IDBRequest)return function(e){var t=new Promise(function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(C(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)});return t.then(function(t){t instanceof IDBCursor&&g.set(t,e)}).catch(function(){}),_.set(t,e),t}(e);if(k.has(e))return k.get(e);var t=E(e);return t!==e&&(k.set(e,t),_.set(t,e)),t}var S=function(e){return _.get(e)};var T,j,I=["get","getKey","getAll","getAllKeys","count"],x=["put","add","delete","clear"],N=new Map;function A(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(N.get(t))return N.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=x.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||I.includes(n))){var a=function(){var e=Object(s.a)(u.a.mark(function e(t){var a,o,s,l,c,h,f=arguments;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,l=f.length,c=new Array(l>1?l-1:0),h=1;h<l;h++)c[h-1]=f[h];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}();return N.set(t,a),a}}}function P(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return R(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return R(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}w=function(e){return Object(v.a)({},e,{get:function(t,n,r){return A(t,n)||e.get(t,n,r)},has:function(t,n){return!!A(t,n)||e.has(t,n)}})}(w),n.d(t,"a",function(){return $}),n.d(t,"b",function(){return W}),n.d(t,"c",function(){return H}),n.d(t,"d",function(){return K}),n.d(t,"e",function(){return J}),n.d(t,"f",function(){return X}),n.d(t,"g",function(){return Z});var D=function(){function e(t){Object(c.a)(this,e),this.container=t}return Object(h.a)(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map(function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(function(e){return e}).join(" ")}}]),e}();var L="@firebase/app",M="0.7.24",F=new d.b("@firebase/app"),U="[DEFAULT]",V=(T={},Object(l.a)(T,L,"fire-core"),Object(l.a)(T,"@firebase/app-compat","fire-core-compat"),Object(l.a)(T,"@firebase/analytics","fire-analytics"),Object(l.a)(T,"@firebase/analytics-compat","fire-analytics-compat"),Object(l.a)(T,"@firebase/app-check","fire-app-check"),Object(l.a)(T,"@firebase/app-check-compat","fire-app-check-compat"),Object(l.a)(T,"@firebase/auth","fire-auth"),Object(l.a)(T,"@firebase/auth-compat","fire-auth-compat"),Object(l.a)(T,"@firebase/database","fire-rtdb"),Object(l.a)(T,"@firebase/database-compat","fire-rtdb-compat"),Object(l.a)(T,"@firebase/functions","fire-fn"),Object(l.a)(T,"@firebase/functions-compat","fire-fn-compat"),Object(l.a)(T,"@firebase/installations","fire-iid"),Object(l.a)(T,"@firebase/installations-compat","fire-iid-compat"),Object(l.a)(T,"@firebase/messaging","fire-fcm"),Object(l.a)(T,"@firebase/messaging-compat","fire-fcm-compat"),Object(l.a)(T,"@firebase/performance","fire-perf"),Object(l.a)(T,"@firebase/performance-compat","fire-perf-compat"),Object(l.a)(T,"@firebase/remote-config","fire-rc"),Object(l.a)(T,"@firebase/remote-config-compat","fire-rc-compat"),Object(l.a)(T,"@firebase/storage","fire-gcs"),Object(l.a)(T,"@firebase/storage-compat","fire-gcs-compat"),Object(l.a)(T,"@firebase/firestore","fire-fst"),Object(l.a)(T,"@firebase/firestore-compat","fire-fst-compat"),Object(l.a)(T,"fire-js","fire-js"),Object(l.a)(T,"firebase","fire-js-all"),T),z=new Map,B=new Map;function q(e,t){try{e.container.addComponent(t)}catch(n){F.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function H(e){var t=e.name;if(B.has(t))return F.debug("There were multiple attempts to register component ".concat(t,".")),!1;B.set(t,e);var n,r=P(z.values());try{for(r.s();!(n=r.n()).done;){q(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function W(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function K(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:U;W(e,t).clearInstance(n)}var G=(j={},Object(l.a)(j,"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Object(l.a)(j,"bad-app-name","Illegal App name: '{$appName}"),Object(l.a)(j,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Object(l.a)(j,"app-deleted","Firebase App named '{$appName}' already deleted"),Object(l.a)(j,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Object(l.a)(j,"invalid-log-argument","First argument to `onLog` must be null or a function."),Object(l.a)(j,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Object(l.a)(j,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Object(l.a)(j,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Object(l.a)(j,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),j),Q=new p.b("app","Firebase",G),Y=function(){function e(t,n,r){var i=this;Object(c.a)(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new f.a("app",function(){return i},"PUBLIC"))}return Object(h.a)(e,[{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Q.create("app-deleted",{appName:this._name})}},{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}}]),e}(),$="9.8.1";function X(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"object"!==typeof t&&(t={name:t});var n=Object.assign({name:U,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!==typeof r||!r)throw Q.create("bad-app-name",{appName:String(r)});var i=z.get(r);if(i){if(Object(p.m)(e,i.options)&&Object(p.m)(n,i.config))return i;throw Q.create("duplicate-app",{appName:r})}var a,o=new f.b(r),u=P(B.values());try{for(u.s();!(a=u.n()).done;){var s=a.value;o.addComponent(s)}}catch(c){u.e(c)}finally{u.f()}var l=new Y(e,n,o);return z.set(r,l),l}function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=z.get(e);if(!t)throw Q.create("no-app",{appName:e});return t}function Z(e,t,n){var r,i=null!==(r=V[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void F.warn(u.join(" "))}H(new f.a("".concat(i,"-version"),function(){return{library:i,version:t}},"VERSION"))}var ee="firebase-heartbeat-database",te=1,ne="firebase-heartbeat-store",re=null;function ie(){return re||(re=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=C(u);return i&&u.addEventListener("upgradeneeded",function(e){i(C(u.result),e.oldVersion,e.newVersion,C(u.transaction))}),r&&u.addEventListener("blocked",function(){return r()}),s.then(function(e){o&&e.addEventListener("close",function(){return o()}),a&&e.addEventListener("versionchange",function(){return a()})}).catch(function(){}),s}(ee,te,{upgrade:function(e,t){switch(t){case 0:e.createObjectStore(ne)}}}).catch(function(e){throw Q.create("storage-open",{originalErrorMessage:e.message})})),re}function ae(e){return oe.apply(this,arguments)}function oe(){return(oe=Object(s.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ie();case 3:return n=e.sent,e.abrupt("return",n.transaction(ne).objectStore(ne).get(le(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Q.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}},e,null,[[0,7]])}))).apply(this,arguments)}function ue(e,t){return se.apply(this,arguments)}function se(){return(se=Object(s.a)(u.a.mark(function e(t,n){var r,i,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ie();case 3:return r=e.sent,i=r.transaction(ne,"readwrite"),a=i.objectStore(ne),e.next=8,a.put(n,le(t));case 8:return e.abrupt("return",i.done);case 11:throw e.prev=11,e.t0=e.catch(0),Q.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}},e,null,[[0,11]])}))).apply(this,arguments)}function le(e){return"".concat(e.name,"!").concat(e.options.appId)}var ce=1024,he=function(){function e(t){var n=this;Object(c.a)(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new ve(r),this._heartbeatsCachePromise=this._storage.read().then(function(e){return n._heartbeatsCache=e,e})}return Object(h.a)(e,[{key:"triggerHeartbeat",value:function(){var e=Object(s.a)(u.a.mark(function e(){var t,n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=fe(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some(function(e){return e.date===r})){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Object(s.a)(u.a.mark(function e(){var t,n,r,i,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=fe(),n=de(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=Object(p.i)(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}();function fe(){return(new Date).toISOString().substring(0,10)}function de(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ce,r=[],i=e.slice(),a=P(e);try{var o=function(){var e=t.value,a=r.find(function(t){return t.agent===e.agent});if(a){if(a.dates.push(e.date),ye(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),ye(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(u){a.e(u)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var pe,ve=function(){function e(t){Object(c.a)(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Object(h.a)(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(p.v)()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",Object(p.J)().then(function(){return!0}).catch(function(){return!1}));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Object(s.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,ae(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Object(s.a)(u.a.mark(function e(t){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ue(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Object(s.a)(u.a.mark(function e(t){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",ue(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Object(a.a)(r.heartbeats),Object(a.a)(t.heartbeats))}));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),e}();function ye(e){return Object(p.i)(JSON.stringify({version:2,heartbeats:e})).length}pe="",H(new f.a("platform-logger",function(e){return new D(e)},"PRIVATE")),H(new f.a("heartbeat",function(e){return new he(e)},"PRIVATE")),Z(L,M,pe),Z(L,M,"esm2017"),Z("fire-js","")},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(11);function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),i.forEach(function(t){Object(r.a)(e,t,n[t])})}return e}},function(e,t,n){"use strict";function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i;n.d(t,"a",function(){return i}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return h}),n.d(t,"e",function(){return y}),n.d(t,"f",function(){return g}),function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(i||(i={}));var a=function(e){return e};var o="beforeunload",u="hashchange",s="popstate";function l(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,u=n.history;function l(){var e=n.location,t=e.pathname,r=e.search,i=e.hash,o=u.state||{};return[o.idx,a({pathname:t,search:r,hash:i,state:o.usr||null,key:o.key||"default"})]}var c=null;n.addEventListener(s,function(){if(c)_.call(c),c=null;else{var e=i.Pop,t=l(),n=t[0],r=t[1];if(_.length){if(null!=n){var a=m-n;a&&(c={action:e,location:r,retry:function(){T(-1*a)}},T(a))}}else S(e)}});var h=i.Pop,f=l(),m=f[0],b=f[1],k=p(),_=p();function w(e){return"string"===typeof e?e:y(e)}function O(e,t){return void 0===t&&(t=null),a(r({pathname:b.pathname,hash:"",search:""},"string"===typeof e?g(e):e,{state:t,key:v()}))}function E(e,t){return[{usr:e.state,key:e.key,idx:t},w(e)]}function C(e,t,n){return!_.length||(_.call({action:e,location:t,retry:n}),!1)}function S(e){h=e;var t=l();m=t[0],b=t[1],k.call({action:h,location:b})}function T(e){u.go(e)}return null==m&&(m=0,u.replaceState(r({},u.state,{idx:m}),"")),{get action(){return h},get location(){return b},createHref:w,push:function e(t,r){var a=i.Push,o=O(t,r);if(C(a,o,function(){e(t,r)})){var s=E(o,m+1),l=s[0],c=s[1];try{u.pushState(l,"",c)}catch(h){n.location.assign(c)}S(a)}},replace:function e(t,n){var r=i.Replace,a=O(t,n);if(C(r,a,function(){e(t,n)})){var o=E(a,m),s=o[0],l=o[1];u.replaceState(s,"",l),S(r)}},go:T,back:function(){T(-1)},forward:function(){T(1)},listen:function(e){return k.push(e)},block:function(e){var t=_.push(e);return 1===_.length&&n.addEventListener(o,d),function(){t(),_.length||n.removeEventListener(o,d)}}}}function c(e){void 0===e&&(e={});var t=e.window,n=void 0===t?document.defaultView:t,l=n.history;function c(){var e=g(n.location.hash.substr(1)),t=e.pathname,r=void 0===t?"/":t,i=e.search,o=void 0===i?"":i,u=e.hash,s=void 0===u?"":u,c=l.state||{};return[c.idx,a({pathname:r,search:o,hash:s,state:c.usr||null,key:c.key||"default"})]}var h=null;function f(){if(h)O.call(h),h=null;else{var e=i.Pop,t=c(),n=t[0],r=t[1];if(O.length){if(null!=n){var a=k-n;a&&(h={action:e,location:r,retry:function(){I(-1*a)}},I(a))}}else j(e)}}n.addEventListener(s,f),n.addEventListener(u,function(){y(c()[1])!==y(_)&&f()});var m=i.Pop,b=c(),k=b[0],_=b[1],w=p(),O=p();function E(e){return function(){var e=document.querySelector("base"),t="";if(e&&e.getAttribute("href")){var r=n.location.href,i=r.indexOf("#");t=-1===i?r:r.slice(0,i)}return t}()+"#"+("string"===typeof e?e:y(e))}function C(e,t){return void 0===t&&(t=null),a(r({pathname:_.pathname,hash:"",search:""},"string"===typeof e?g(e):e,{state:t,key:v()}))}function S(e,t){return[{usr:e.state,key:e.key,idx:t},E(e)]}function T(e,t,n){return!O.length||(O.call({action:e,location:t,retry:n}),!1)}function j(e){m=e;var t=c();k=t[0],_=t[1],w.call({action:m,location:_})}function I(e){l.go(e)}return null==k&&(k=0,l.replaceState(r({},l.state,{idx:k}),"")),{get action(){return m},get location(){return _},createHref:E,push:function e(t,r){var a=i.Push,o=C(t,r);if(T(a,o,function(){e(t,r)})){var u=S(o,k+1),s=u[0],c=u[1];try{l.pushState(s,"",c)}catch(h){n.location.assign(c)}j(a)}},replace:function e(t,n){var r=i.Replace,a=C(t,n);if(T(r,a,function(){e(t,n)})){var o=S(a,k),u=o[0],s=o[1];l.replaceState(u,"",s),j(r)}},go:I,back:function(){I(-1)},forward:function(){I(1)},listen:function(e){return w.push(e)},block:function(e){var t=O.push(e);return 1===O.length&&n.addEventListener(o,d),function(){t(),O.length||n.removeEventListener(o,d)}}}}function h(e){void 0===e&&(e={});var t=e,n=t.initialEntries,o=void 0===n?["/"]:n,u=t.initialIndex,s=o.map(function(e){return a(r({pathname:"/",search:"",hash:"",state:null,key:v()},"string"===typeof e?g(e):e))}),l=f(null==u?s.length-1:u,0,s.length-1),c=i.Pop,h=s[l],d=p(),m=p();function b(e,t){return void 0===t&&(t=null),a(r({pathname:h.pathname,search:"",hash:""},"string"===typeof e?g(e):e,{state:t,key:v()}))}function k(e,t,n){return!m.length||(m.call({action:e,location:t,retry:n}),!1)}function _(e,t){c=e,h=t,d.call({action:c,location:h})}function w(e){var t=f(l+e,0,s.length-1),n=i.Pop,r=s[t];k(n,r,function(){w(e)})&&(l=t,_(n,r))}return{get index(){return l},get action(){return c},get location(){return h},createHref:function(e){return"string"===typeof e?e:y(e)},push:function e(t,n){var r=i.Push,a=b(t,n);k(r,a,function(){e(t,n)})&&(l+=1,s.splice(l,s.length,a),_(r,a))},replace:function e(t,n){var r=i.Replace,a=b(t,n);k(r,a,function(){e(t,n)})&&(s[l]=a,_(r,a))},go:w,back:function(){w(-1)},forward:function(){w(1)},listen:function(e){return d.push(e)},block:function(e){return m.push(e)}}}function f(e,t,n){return Math.min(Math.max(e,t),n)}function d(e){e.preventDefault(),e.returnValue=""}function p(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter(function(e){return e!==t})}},call:function(t){e.forEach(function(e){return e&&e(t)})}}}function v(){return Math.random().toString(36).substr(2,8)}function y(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function g(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}},function(e,t,n){"use strict";var r=n(30);n.d(t,"a",function(){return r.a}),n.d(t,"b",function(){return r.b}),n.d(t,"c",function(){return r.c}),n.d(t,"d",function(){return r.d})},function(e,t,n){"use strict";function r(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return vr}),n.d(t,"b",function(){return gr}),n.d(t,"c",function(){return yr}),n.d(t,"d",function(){return br}),n.d(t,"e",function(){return mr}),n.d(t,"f",function(){return kr}),n.d(t,"g",function(){return _r}),n.d(t,"h",function(){return dr}),n.d(t,"i",function(){return pr});var r=n(10),i=n(24),a=n(7),o=n(9),u=n(2),s=n(4);function l(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h,f="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof e?e:"undefined"!==typeof self?self:{},d={},p=p||{},v=f||self;function y(){}function g(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function m(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var b="closure_uid_"+(1e9*Math.random()>>>0),k=0;function _(e,t,n){return e.call.apply(e.bind,arguments)}function w(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function O(e,t,n){return(O=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_:w).apply(null,arguments)}function E(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function C(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function S(){this.s=this.s,this.o=this.o}var T={};S.prototype.s=!1,S.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,b)&&e[b]||(e[b]=++k)}(this);delete T[e]}},S.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var j=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},I=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function x(e){return Array.prototype.concat.apply([],arguments)}function N(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function A(e){return/^[\s\xa0]*$/.test(e)}var P,R=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function D(e,t){return-1!=e.indexOf(t)}function L(e,t){return e<t?-1:e>t?1:0}e:{var M=v.navigator;if(M){var F=M.userAgent;if(F){P=F;break e}}P=""}function U(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function V(e){var t={};for(var n in e)t[n]=e[n];return t}var z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function B(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<z.length;a++)n=z[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function q(e){return q[" "](e),e}q[" "]=y;var H,W=D(P,"Opera"),K=D(P,"Trident")||D(P,"MSIE"),G=D(P,"Edge"),Q=G||K,Y=D(P,"Gecko")&&!(D(P.toLowerCase(),"webkit")&&!D(P,"Edge"))&&!(D(P,"Trident")||D(P,"MSIE"))&&!D(P,"Edge"),$=D(P.toLowerCase(),"webkit")&&!D(P,"Edge");function X(){var e=v.document;return e?e.documentMode:void 0}e:{var J="",Z=function(){var e=P;return Y?/rv:([^\);]+)(\)|;)/.exec(e):G?/Edge\/([\d\.]+)/.exec(e):K?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):$?/WebKit\/(\S+)/.exec(e):W?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Z&&(J=Z?Z[1]:""),K){var ee=X();if(null!=ee&&ee>parseFloat(J)){H=String(ee);break e}}H=J}var te,ne={};function re(){return function(e){var t=ne;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}(function(){for(var e=0,t=R(String(H)).split("."),n=R("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=L(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||L(0==a[2].length,0==o[2].length)||L(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e})}if(v.document&&K){var ie=X();te=ie||(parseInt(H,10)||void 0)}else te=void 0;var ae=te,oe=function(){if(!v.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{v.addEventListener("test",y,t),v.removeEventListener("test",y,t)}catch(n){}return e}();function ue(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function se(e,t){if(ue.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Y){e:{try{q(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:le[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&se.Z.h.call(this)}}ue.prototype.h=function(){this.defaultPrevented=!0},C(se,ue);var le={2:"touch",3:"pen",4:"mouse"};se.prototype.h=function(){se.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),he=0;function fe(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++he,this.ca=this.fa=!1}function de(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function pe(e){this.src=e,this.g={},this.h=0}function ve(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=j(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(de(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ye(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}pe.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=ye(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new fe(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var ge="closure_lm_"+(1e6*Math.random()|0),me={};function be(e,t,n,r,i){if(r&&r.once)return function e(t,n,r,i,a){if(Array.isArray(n)){for(var o=0;o<n.length;o++)e(t,n[o],r,i,a);return null}r=Se(r);return t&&t[ce]?t.O(n,r,m(i)?!!i.capture:!!i,a):ke(t,n,r,!0,i,a)}(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)be(e,t[a],n,r,i);return null}return n=Se(n),e&&e[ce]?e.N(t,n,m(r)?!!r.capture:!!r,i):ke(e,t,n,!1,r,i)}function ke(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=m(i)?!!i.capture:!!i,u=Ee(e);if(u||(e[ge]=u=new pe(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){var e=Oe;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)oe||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(we(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function _e(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[ce])ve(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(we(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ee(t))?(ve(n,e),0==n.h&&(n.src=null,t[ge]=null)):de(e)}}}function we(e){return e in me?me[e]:me[e]="on"+e}function Oe(e,t){if(e.ca)e=!0;else{t=new se(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&_e(e),e=n.call(r,t)}return e}function Ee(e){return(e=e[ge])instanceof pe?e:null}var Ce="__closure_events_fn_"+(1e9*Math.random()>>>0);function Se(e){return"function"===typeof e?e:(e[Ce]||(e[Ce]=function(t){return e.handleEvent(t)}),e[Ce])}function Te(){S.call(this),this.i=new pe(this),this.P=this,this.I=null}function je(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ue(t,e);else if(t instanceof ue)t.target=t.target||e;else{var i=t;B(t=new ue(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ie(o,r,!0,t)&&i}if(i=Ie(o=t.g=e,r,!0,t)&&i,i=Ie(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ie(o=t.g=n[a],r,!1,t)&&i}function Ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&ve(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}C(Te,S),Te.prototype[ce]=!0,Te.prototype.removeEventListener=function(e,t,n,r){!function e(t,n,r,i,a){if(Array.isArray(n))for(var o=0;o<n.length;o++)e(t,n[o],r,i,a);else i=m(i)?!!i.capture:!!i,r=Se(r),t&&t[ce]?(t=t.i,(n=String(n).toString())in t.g&&-1<(r=ye(o=t.g[n],r,i,a))&&(de(o[r]),Array.prototype.splice.call(o,r,1),0==o.length&&(delete t.g[n],t.h--))):t&&(t=Ee(t))&&(n=t.g[n.toString()],t=-1,n&&(t=ye(n,r,i,a)),(r=-1<t?n[t]:null)&&_e(r))}(this,e,t,n,r)},Te.prototype.M=function(){if(Te.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)de(n[r]);delete t.g[e],t.h--}}this.I=null},Te.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Te.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var xe=v.JSON.stringify;function Ne(){var e=Ue,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ae,Pe=function(){function e(){Object(u.a)(this,e),this.h=this.g=null}return Object(s.a)(e,[{key:"add",value:function(e,t){var n=Re.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Re=new(function(){function e(t,n){Object(u.a)(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Object(s.a)(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())(function(){return new De},function(e){return e.reset()}),De=function(){function e(){Object(u.a)(this,e),this.next=this.g=this.h=null}return Object(s.a)(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function Le(e){v.setTimeout(function(){throw e},0)}function Me(e,t){Ae||function(){var e=v.Promise.resolve(void 0);Ae=function(){e.then(Ve)}}(),Fe||(Ae(),Fe=!0),Ue.add(e,t)}var Fe=!1,Ue=new Pe;function Ve(){for(var e;e=Ne();){try{e.h.call(e.g)}catch(n){Le(n)}var t=Re;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Fe=!1}function ze(e,t){Te.call(this),this.h=e||1,this.g=t||v,this.j=O(this.kb,this),this.l=Date.now()}function Be(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function qe(e,t,n){if("function"===typeof e)n&&(e=O(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=O(e.handleEvent,e)}return 2147483647<Number(t)?-1:v.setTimeout(e,t||0)}C(ze,Te),(h=ze.prototype).da=!1,h.S=null,h.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),je(this,"tick"),this.da&&(Be(this),this.start()))}},h.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},h.M=function(){ze.Z.M.call(this),Be(this),delete this.g};var He=function(e){function t(e,n){var i;return Object(u.a)(this,t),(i=Object(r.a)(this,Object(a.a)(t).call(this))).m=e,i.j=n,i.h=null,i.i=!1,i.g=null,i}return Object(o.a)(t,e),Object(s.a)(t,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:function e(t){t.g=qe(function(){t.g=null,t.i&&(t.i=!1,e(t))},t.j);var n=t.h;t.h=null,t.m.apply(null,n)}(this)}},{key:"M",value:function(){Object(i.a)(Object(a.a)(t.prototype),"M",this).call(this),this.g&&(v.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),t}(S);function We(e){S.call(this),this.h=e,this.g={}}C(We,S);var Ke=[];function Ge(e,t,n,r){Array.isArray(n)||(n&&(Ke[0]=n.toString()),n=Ke);for(var i=0;i<n.length;i++){var a=be(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Qe(e){U(e.g,function(e,t){this.g.hasOwnProperty(t)&&_e(e)},e),e.g={}}function Ye(){this.g=!0}function $e(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return xe(n)}catch(u){return t}}(e,n)+(r?" "+r:"")})}We.prototype.M=function(){We.Z.M.call(this),Qe(this)},We.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ye.prototype.Aa=function(){this.g=!1},Ye.prototype.info=function(){};var Xe={},Je=null;function Ze(){return Je=Je||new Te}function et(e){ue.call(this,Xe.Ma,e)}function tt(e){var t=Ze();je(t,new et(t,e))}function nt(e,t){ue.call(this,Xe.STAT_EVENT,e),this.stat=t}function rt(e){var t=Ze();je(t,new nt(t,e))}function it(e,t){ue.call(this,Xe.Na,e),this.size=t}function at(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return v.setTimeout(function(){e()},t)}Xe.Ma="serverreachability",C(et,ue),Xe.STAT_EVENT="statevent",C(nt,ue),Xe.Na="timingevent",C(it,ue);var ot={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ut={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function st(){}function lt(e){return e.h||(e.h=e.i())}function ct(){}st.prototype.h=null;var ht,ft={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function dt(){ue.call(this,"d")}function pt(){ue.call(this,"c")}function vt(){}function yt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new We(this),this.P=mt,e=Q?125:void 0,this.W=new ze(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new gt}function gt(){this.i=null,this.g="",this.h=!1}C(dt,ue),C(pt,ue),C(vt,st),vt.prototype.g=function(){return new XMLHttpRequest},vt.prototype.i=function(){return{}},ht=new vt;var mt=45e3,bt={},kt={};function _t(e,t,n){e.K=1,e.v=Ht(Ft(t)),e.s=n,e.U=!0,wt(e,null)}function wt(e,t){e.F=Date.now(),St(e),e.A=Ft(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),rn(n.h,"t",r),e.C=0,n=e.l.H,e.h=new gt,e.g=or(e.l,n?t:null,!e.s),0<e.O&&(e.L=new He(O(e.Ia,e,e.g),e.O)),Ge(e.V,e.g,"readystatechange",e.gb),t=e.H?V(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),tt(1),function(e,t,n,r,i,a){e.info(function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var l=u[s].split("=");if(1<l.length){var c=l[0];l=l[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.X,e.s)}function Ot(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Et(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Ct(e,n))==kt){4==t&&(e.o=4,rt(14),i=!1),$e(e.j,e.m,null,"[Incomplete Response]");break}if(r==bt){e.o=4,rt(15),$e(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}$e(e.j,e.m,r,null),Nt(e,r)}Ot(e)&&r!=kt&&r!=bt&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,rt(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Jn(t),t.L=!0,rt(11))):($e(e.j,e.m,n,"[Invalid Chunked Response]"),xt(e),It(e))}function Ct(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?kt:(n=Number(t.substring(n,r)),isNaN(n)?bt:(r+=1)+n>t.length?kt:(t=t.substr(r,n),e.C=r+n,t))}function St(e){e.Y=Date.now()+e.P,Tt(e,e.P)}function Tt(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=at(O(e.eb,e),t)}function jt(e){e.B&&(v.clearTimeout(e.B),e.B=null)}function It(e){0==e.l.G||e.I||tr(e.l,e)}function xt(e){jt(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Be(e.W),Qe(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Nt(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||fn(n.i,e)))if(n.I=e.N,!e.J&&fn(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;er(n),qn(n)}Xn(n),rt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=at(O(n.ab,n),6e3));if(1>=hn(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else rr(n,11)}else if((e.J||n.g==e)&&er(n),!A(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var h=r.i;!h.g&&(D(c,"spdy")||D(c,"quic")||D(c,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(dn(h,h.h),h.h=null))}if(r.D){var f=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,qt(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=ar(r,r.H?r.la:null,r.W),d.J){pn(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(jt(p),St(p)),r.g=d}else $n(r);0<n.l.length&&Kn(n)}else"stop"!=a[0]&&"close"!=a[0]||rr(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?rr(n,7):Bn(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}tt(4)}catch(a){}}function At(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(g(e)||"string"===typeof e)I(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(g(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(g(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Pt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Pt)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Rt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Dt(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Dt(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Dt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(h=yt.prototype).setTimeout=function(e){this.P=e},h.gb=function(e){e=e.target;var t=this.L;t&&3==Mn(e)?t.l():this.Ia(e)},h.Ia=function(e){try{if(e==this.g)e:{var t=Mn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Q||this.g&&(this.h.h||this.g.ga()||Fn(this.g)))){this.I||4!=t||7==n||tt(8==n||0>=r?3:2),jt(this);var i=this.g.ba();this.N=i;t:if(Ot(this)){var a=Fn(this.g);e="";var o=a.length,u=4==Mn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){xt(this),It(this);var s="";break t}this.h.i=new v.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o})}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(l)){var h=l;break t}}h=null}if(!(i=h)){this.i=!1,this.o=3,rt(12),xt(this),It(this);break e}$e(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Nt(this,i)}this.U?(Et(this,t,s),Q&&this.i&&3==t&&(Ge(this.V,this.W,"tick",this.fb),this.W.start())):($e(this.j,this.m,s,null),Nt(this,s)),4==t&&xt(this),this.i&&!this.I&&(4==t?tr(this.l,this):(this.i=!1,St(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,rt(12)):(this.o=0,rt(13)),xt(this),It(this)}}}catch(t){}},h.fb=function(){if(this.g){var e=Mn(this.g),t=this.g.ga();this.C<t.length&&(jt(this),Et(this,e,t),this.i&&4!=e&&St(this))}},h.cancel=function(){this.I=!0,xt(this)},h.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(tt(3),rt(17)),xt(this),this.o=2,It(this)):Tt(this,this.Y-e)},(h=Pt.prototype).R=function(){Rt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},h.T=function(){return Rt(this),this.g.concat()},h.get=function(e,t){return Dt(this.h,e)?this.h[e]:t},h.set=function(e,t){Dt(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},h.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Lt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Mt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Mt){this.g=void 0!==t?t:e.g,Ut(this,e.j),this.s=e.s,Vt(this,e.i),zt(this,e.m),this.l=e.l,t=e.h;var n=new Zt;n.i=t.i,t.g&&(n.g=new Pt(t.g),n.h=t.h),Bt(this,n),this.o=e.o}else e&&(n=String(e).match(Lt))?(this.g=!!t,Ut(this,n[1]||"",!0),this.s=Wt(n[2]||""),Vt(this,n[3]||"",!0),zt(this,n[4]),this.l=Wt(n[5]||"",!0),Bt(this,n[6]||"",!0),this.o=Wt(n[7]||"")):(this.g=!!t,this.h=new Zt(null,this.g))}function Ft(e){return new Mt(e)}function Ut(e,t,n){e.j=n?Wt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Vt(e,t,n){e.i=n?Wt(t,!0):t}function zt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Bt(e,t,n){t instanceof Zt?(e.h=t,function(e,t){t&&!e.j&&(en(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(tn(this,t),rn(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=Kt(t,Xt)),e.h=new Zt(t,e.g))}function qt(e,t,n){e.h.set(t,n)}function Ht(e){return qt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Wt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Kt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Gt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Gt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Mt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Kt(t,Qt,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Kt(t,Qt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Kt(n,"/"==n.charAt(0)?$t:Yt,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Kt(n,Jt)),e.join("")};var Qt=/[#\/\?@]/g,Yt=/[#\?:]/g,$t=/[#\?]/g,Xt=/[#\?@]/g,Jt=/#/g;function Zt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function en(e){e.g||(e.g=new Pt,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function tn(e,t){en(e),t=an(e,t),Dt(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Dt((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Rt(e)))}function nn(e,t){return en(e),t=an(e,t),Dt(e.g.h,t)}function rn(e,t,n){tn(e,t),0<n.length&&(e.i=null,e.g.set(an(e,t),N(n)),e.h+=n.length)}function an(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(h=Zt.prototype).add=function(e,t){en(this),this.i=null,e=an(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},h.forEach=function(e,t){en(this),this.g.forEach(function(n,r){I(n,function(n){e.call(t,n,r,this)},this)},this)},h.T=function(){en(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},h.R=function(e){en(this);var t=[];if("string"===typeof e)nn(this,e)&&(t=x(t,this.g.get(an(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=x(t,e[n])}return t},h.set=function(e,t){return en(this),this.i=null,nn(this,e=an(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},h.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},h.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var on=function e(t,n){Object(u.a)(this,e),this.h=t,this.g=n};function un(e){this.l=e||ln,v.PerformanceNavigationTiming?e=0<(e=v.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(v.g&&v.g.Ea&&v.g.Ea()&&v.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var sn,ln=10;function cn(e){return!!e.h||!!e.g&&e.g.size>=e.j}function hn(e){return e.h?1:e.g?e.g.size:0}function fn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function dn(e,t){e.g?e.g.add(t):e.h=t}function pn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function vn(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=l(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return N(e.i)}function yn(){}function gn(){this.g=new yn}function mn(e,t,n){var r=n||"";try{At(e,function(e,n){var i=e;m(e)&&(i=xe(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function bn(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function kn(e){this.l=e.$b||null,this.j=e.ib||!1}function _n(e,t){Te.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=wn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}un.prototype.cancel=function(){if(this.i=vn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=l(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},yn.prototype.stringify=function(e){return v.JSON.stringify(e,void 0)},yn.prototype.parse=function(e){return v.JSON.parse(e,void 0)},C(kn,st),kn.prototype.g=function(){return new _n(this.l,this.j)},kn.prototype.i=(sn={},function(){return sn}),C(_n,Te);var wn=0;function On(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function En(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Cn(e)}function Cn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(h=_n.prototype).open=function(e,t){if(this.readyState!=wn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Cn(this)},h.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||v).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},h.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,En(this)),this.readyState=wn},h.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Cn(this)),this.g&&(this.readyState=3,Cn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof v.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;On(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},h.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?En(this):Cn(this),3==this.readyState&&On(this)}},h.Ua=function(e){this.g&&(this.response=this.responseText=e,En(this))},h.Ta=function(e){this.g&&(this.response=e,En(this))},h.ha=function(){this.g&&En(this)},h.setRequestHeader=function(e,t){this.v.append(e,t)},h.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},h.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(_n.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Sn=v.JSON.parse;function Tn(e){Te.call(this),this.headers=new Pt,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=jn,this.K=this.L=!1}C(Tn,Te);var jn="",In=/^https?$/i,xn=["POST","PUT"];function Nn(e){return"content-type"==e.toLowerCase()}function An(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Pn(e),Dn(e)}function Pn(e){e.D||(e.D=!0,je(e,"complete"),je(e,"error"))}function Rn(e){if(e.h&&"undefined"!=typeof p&&(!e.C[1]||4!=Mn(e)||2!=e.ba()))if(e.v&&4==Mn(e))qe(e.Fa,0,e);else if(je(e,"readystatechange"),4==Mn(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Lt)[1]||null;if(!a&&v.self&&v.self.location){var o=v.self.location.protocol;a=o.substr(0,o.length-1)}i=!In.test(a?a.toLowerCase():"")}t=i}if(t)je(e,"complete"),je(e,"success");else{e.m=6;try{var u=2<Mn(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Pn(e)}}finally{Dn(e)}}}function Dn(e,t){if(e.g){Ln(e);var n=e.g,r=e.C[0]?y:null;e.g=null,e.C=null,t||je(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Ln(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(v.clearTimeout(e.A),e.A=null)}function Mn(e){return e.g?e.g.readyState:0}function Fn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case jn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Un(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return U(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):qt(e,t,n))}function Vn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function zn(e){this.za=0,this.l=[],this.h=new Ye,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Vn("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Vn("baseRetryDelayMs",5e3,e),this.$a=Vn("retryDelaySeedMs",1e4,e),this.Ya=Vn("forwardChannelMaxRetries",2,e),this.ra=Vn("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new un(e&&e.concurrentRequestLimit),this.Ca=new gn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Bn(e){if(Hn(e),3==e.G){var t=e.V++,n=Ft(e.F);qt(n,"SID",e.J),qt(n,"RID",t),qt(n,"TYPE","terminate"),Qn(e,n),(t=new yt(e,e.h,t,void 0)).K=2,t.v=Ht(Ft(n)),n=!1,v.navigator&&v.navigator.sendBeacon&&(n=v.navigator.sendBeacon(t.v.toString(),"")),!n&&v.Image&&((new Image).src=t.v,n=!0),n||(t.g=or(t.l,null),t.g.ea(t.v)),t.F=Date.now(),St(t)}ir(e)}function qn(e){e.g&&(Jn(e),e.g.cancel(),e.g=null)}function Hn(e){qn(e),e.u&&(v.clearTimeout(e.u),e.u=null),er(e),e.i.cancel(),e.m&&("number"===typeof e.m&&v.clearTimeout(e.m),e.m=null)}function Wn(e,t){e.l.push(new on(e.Za++,t)),3==e.G&&Kn(e)}function Kn(e){cn(e.i)||e.m||(e.m=!0,Me(e.Ha,e),e.C=0)}function Gn(e,t){var n;n=t?t.m:e.V++;var r=Ft(e.F);qt(r,"SID",e.J),qt(r,"RID",n),qt(r,"AID",e.U),Qn(e,r),e.o&&e.s&&Un(r,e.o,e.s),n=new yt(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Yn(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),dn(e.i,n),_t(n,r,t)}function Qn(e,t){e.j&&At({},function(e,n){qt(t,n,e)})}function Yn(e,t,n){n=Math.min(e.l.length,n);var r=e.j?O(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var l=i[s].h,c=i[s].g;if(0>(l-=a))a=Math.max(0,i[s].h-100),u=!1;else try{mn(c,o,"req"+l+"_")}catch(h){r&&r(c)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function $n(e){e.g||e.u||(e.Y=1,Me(e.Ga,e),e.A=0)}function Xn(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=at(O(e.Ga,e),nr(e,e.A)),e.A++,!0)}function Jn(e){null!=e.B&&(v.clearTimeout(e.B),e.B=null)}function Zn(e){e.g=new yt(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ft(e.oa);qt(t,"RID","rpc"),qt(t,"SID",e.J),qt(t,"CI",e.N?"0":"1"),qt(t,"AID",e.U),Qn(e,t),qt(t,"TYPE","xmlhttp"),e.o&&e.s&&Un(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Ht(Ft(t)),n.s=null,n.U=!0,wt(n,e)}function er(e){null!=e.v&&(v.clearTimeout(e.v),e.v=null)}function tr(e,t){var n=null;if(e.g==t){er(e),Jn(e),e.g=null;var r=2}else{if(!fn(e.i,t))return;n=t.D,pn(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;je(r=Ze(),new it(r,n,t,i)),Kn(e)}else $n(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(hn(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=at(O(e.Ha,e,t),nr(e,e.C)),e.C++,!0))}(e,t)||2==r&&Xn(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:rr(e,5);break;case 4:rr(e,10);break;case 3:rr(e,6);break;default:rr(e,2)}}function nr(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function rr(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=O(e.jb,e);n||(n=new Mt("//www.google.com/images/cleardot.gif"),v.location&&"http"==v.location.protocol||Ut(n,"https"),Ht(n)),function(e,t){var n=new Ye;if(v.Image){var r=new Image;r.onload=E(bn,n,r,"TestLoadImage: loaded",!0,t),r.onerror=E(bn,n,r,"TestLoadImage: error",!1,t),r.onabort=E(bn,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=E(bn,n,r,"TestLoadImage: timeout",!1,t),v.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else rt(2);e.G=0,e.j&&e.j.va(t),ir(e),Hn(e)}function ir(e){e.G=0,e.I=-1,e.j&&(0==vn(e.i).length&&0==e.l.length||(e.i.i.length=0,N(e.l),e.l.length=0),e.j.ua())}function ar(e,t,n){var r=function(e){return e instanceof Mt?Ft(e):new Mt(e,void 0)}(n);if(""!=r.i)t&&Vt(r,t+"."+r.i),zt(r,r.m);else{var i=v.location;r=function(e,t,n,r){var i=new Mt(null,void 0);return e&&Ut(i,e),t&&Vt(i,t),n&&zt(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&U(e.aa,function(e,t){qt(r,t,e)}),t=e.D,n=e.sa,t&&n&&qt(r,t,n),qt(r,"VER",e.ma),Qn(e,r),r}function or(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Tn(new kn({ib:!0})):new Tn(e.qa)).L=e.H,t}function ur(){}function sr(){if(K&&!(10<=Number(ae)))throw Error("Environmental error: no available transport.")}function lr(e,t){Te.call(this),this.g=new zn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!A(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!A(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new fr(this)}function cr(e){dt.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function hr(){pt.call(this),this.status=1}function fr(e){this.g=e}(h=Tn.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ht.g(),this.C=this.u?lt(this.u):lt(ht),this.g.onreadystatechange=O(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void An(this,a)}e=n||"";var i=new Pt(this.headers);r&&At(r,function(e,t){i.set(t,e)}),r=function(e){e:{for(var t=Nn,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=v.FormData&&e instanceof v.FormData,!(0<=j(xn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ln(this),0<this.B&&((this.K=function(e){return K&&re()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=O(this.pa,this)):this.A=qe(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){An(this,a)}},h.pa=function(){"undefined"!=typeof p&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,je(this,"timeout"),this.abort(8))},h.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,je(this,"complete"),je(this,"abort"),Dn(this))},h.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Dn(this,!0)),Tn.Z.M.call(this)},h.Fa=function(){this.s||(this.F||this.v||this.l?Rn(this):this.cb())},h.cb=function(){Rn(this)},h.ba=function(){try{return 2<Mn(this)?this.g.status:-1}catch(sn){return-1}},h.ga=function(){try{return this.g?this.g.responseText:""}catch(sn){return""}},h.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Sn(t)}},h.Da=function(){return this.m},h.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(h=zn.prototype).ma=8,h.G=1,h.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},h.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new yt(this,this.h,e,void 0),n=this.s;if(this.P&&(n?B(n=V(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Yn(this,t,r),qt(i=Ft(this.F),"RID",e),qt(i,"CVER",22),this.D&&qt(i,"X-HTTP-Session-Id",this.D),Qn(this,i),this.o&&n&&Un(i,this.o,n),dn(this.i,t),this.Ra&&qt(i,"TYPE","init"),this.ja?(qt(i,"$req",r),qt(i,"SID","null"),t.$=!0,_t(t,i,null)):_t(t,i,r),this.G=2}}else 3==this.G&&(e?Gn(this,e):0==this.l.length||cn(this.i)||Gn(this))},h.Ga=function(){if(this.u=null,Zn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=at(O(this.bb,this),e)}},h.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,rt(10),qn(this),Zn(this))},h.ab=function(){null!=this.v&&(this.v=null,qn(this),Xn(this),rt(19))},h.jb=function(e){e?(this.h.info("Successfully pinged google.com"),rt(2)):(this.h.info("Failed to ping google.com"),rt(1))},(h=ur.prototype).xa=function(){},h.wa=function(){},h.va=function(){},h.ua=function(){},h.Oa=function(){},sr.prototype.g=function(e,t){return new lr(e,t)},C(lr,Te),lr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Me(O(e.hb,e,t))),rt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=ar(e,null,e.W),Kn(e)},lr.prototype.close=function(){Bn(this.g)},lr.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Wn(this.g,t)}else this.v?((t={}).__data__=xe(e),Wn(this.g,t)):Wn(this.g,e)},lr.prototype.M=function(){this.g.j=null,delete this.j,Bn(this.g),delete this.g,lr.Z.M.call(this)},C(cr,dt),C(hr,pt),C(fr,ur),fr.prototype.xa=function(){je(this.g,"a")},fr.prototype.wa=function(e){je(this.g,new cr(e))},fr.prototype.va=function(e){je(this.g,new hr(e))},fr.prototype.ua=function(){je(this.g,"b")},sr.prototype.createWebChannel=sr.prototype.g,lr.prototype.send=lr.prototype.u,lr.prototype.open=lr.prototype.m,lr.prototype.close=lr.prototype.close,ot.NO_ERROR=0,ot.TIMEOUT=8,ot.HTTP_ERROR=6,ut.COMPLETE="complete",ct.EventType=ft,ft.OPEN="a",ft.CLOSE="b",ft.ERROR="c",ft.MESSAGE="d",Te.prototype.listen=Te.prototype.N,Tn.prototype.listenOnce=Tn.prototype.O,Tn.prototype.getLastError=Tn.prototype.La,Tn.prototype.getLastErrorCode=Tn.prototype.Da,Tn.prototype.getStatus=Tn.prototype.ba,Tn.prototype.getResponseJson=Tn.prototype.Qa,Tn.prototype.getResponseText=Tn.prototype.ga,Tn.prototype.send=Tn.prototype.ea;var dr=d.createWebChannelTransport=function(){return new sr},pr=d.getStatEventTarget=function(){return Ze()},vr=d.ErrorCode=ot,yr=d.EventType=ut,gr=d.Event=Xe,mr=d.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},br=d.FetchXmlHttpFactory=kn,kr=d.WebChannel=ct,_r=d.XhrIo=Tn}).call(this,n(26))},function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return v}),n.d(t,"c",function(){return y}),n.d(t,"d",function(){return g});var r,i=n(2),a=n(4),o=n(11);function u(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l,c=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(l||(l={}));var h={debug:l.DEBUG,verbose:l.VERBOSE,info:l.INFO,warn:l.WARN,error:l.ERROR,silent:l.SILENT},f=l.INFO,d=(r={},Object(o.a)(r,l.DEBUG,"log"),Object(o.a)(r,l.VERBOSE,"log"),Object(o.a)(r,l.INFO,"info"),Object(o.a)(r,l.WARN,"warn"),Object(o.a)(r,l.ERROR,"error"),r),p=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=d[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},v=function(){function e(t){Object(i.a)(this,e),this.name=t,this._logLevel=f,this._logHandler=p,this._userLogHandler=null,c.push(this)}return Object(a.a)(e,[{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?h[e]:e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,l.DEBUG].concat(t)),this._logHandler.apply(this,[this,l.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,l.VERBOSE].concat(t)),this._logHandler.apply(this,[this,l.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,l.INFO].concat(t)),this._logHandler.apply(this,[this,l.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,l.WARN].concat(t)),this._logHandler.apply(this,[this,l.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,l.ERROR].concat(t)),this._logHandler.apply(this,[this,l.ERROR].concat(t))}},{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in l))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}}]),e}();function y(e){c.forEach(function(t){t.setLogLevel(e)})}function g(e,t){var n,r=u(c);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=h[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map(function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(function(e){return e}).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:l[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}},function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return ce});var r=n(13),i=n.n(r),a=n(39),o=n.n(a),u=n(40),s=n.n(u),l=n(0),c=n.n(l),h=n(41),f=n.n(h),d="bodyAttributes",p="htmlAttributes",v="titleAttributes",y={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"},g=(Object.keys(y).map(function(e){return y[e]}),"charset"),m="cssText",b="href",k="http-equiv",_="innerHTML",w="itemprop",O="name",E="property",C="rel",S="src",T="target",j={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},I="defaultTitle",x="defer",N="encodeSpecialCharacters",A="onChangeClientState",P="titleTemplate",R=Object.keys(j).reduce(function(e,t){return e[j[t]]=t,e},{}),D=[y.NOSCRIPT,y.SCRIPT,y.STYLE],L="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},F=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),U=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},V=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},z=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t},B=function(e){return!1===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},q=function(e){var t=Q(e,y.TITLE),n=Q(e,P);if(n&&t)return n.replace(/%s/g,function(){return Array.isArray(t)?t.join(""):t});var r=Q(e,I);return t||r||void 0},H=function(e){return Q(e,A)||function(){}},W=function(e,t){return t.filter(function(t){return"undefined"!==typeof t[e]}).map(function(t){return t[e]}).reduce(function(e,t){return U({},e,t)},{})},K=function(e,t){return t.filter(function(e){return"undefined"!==typeof e[y.BASE]}).map(function(e){return e[y.BASE]}).reverse().reduce(function(t,n){if(!t.length)for(var r=Object.keys(n),i=0;i<r.length;i++){var a=r[i].toLowerCase();if(-1!==e.indexOf(a)&&n[a])return t.concat(n)}return t},[])},G=function(e,t,n){var r={};return n.filter(function(t){return!!Array.isArray(t[e])||("undefined"!==typeof t[e]&&Z("Helmet: "+e+' should be of type "Array". Instead found type "'+L(t[e])+'"'),!1)}).map(function(t){return t[e]}).reverse().reduce(function(e,n){var i={};n.filter(function(e){for(var n=void 0,a=Object.keys(e),o=0;o<a.length;o++){var u=a[o],s=u.toLowerCase();-1===t.indexOf(s)||n===C&&"canonical"===e[n].toLowerCase()||s===C&&"stylesheet"===e[s].toLowerCase()||(n=s),-1===t.indexOf(u)||u!==_&&u!==m&&u!==w||(n=u)}if(!n||!e[n])return!1;var l=e[n].toLowerCase();return r[n]||(r[n]={}),i[n]||(i[n]={}),!r[n][l]&&(i[n][l]=!0,!0)}).reverse().forEach(function(t){return e.push(t)});for(var a=Object.keys(i),o=0;o<a.length;o++){var u=a[o],s=f()({},r[u],i[u]);r[u]=s}return e},[]).reverse()},Q=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.hasOwnProperty(t))return r[t]}return null},Y=function(){var e=Date.now();return function(t){var n=Date.now();n-e>16?(e=n,t(n)):setTimeout(function(){Y(t)},0)}}(),$=function(e){return clearTimeout(e)},X="undefined"!==typeof window?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||Y:e.requestAnimationFrame||Y,J="undefined"!==typeof window?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||$:e.cancelAnimationFrame||$,Z=function(e){return console&&"function"===typeof console.warn&&console.warn(e)},ee=null,te=function(e,t){var n=e.baseTag,r=e.bodyAttributes,i=e.htmlAttributes,a=e.linkTags,o=e.metaTags,u=e.noscriptTags,s=e.onChangeClientState,l=e.scriptTags,c=e.styleTags,h=e.title,f=e.titleAttributes;ie(y.BODY,r),ie(y.HTML,i),re(h,f);var d={baseTag:ae(y.BASE,n),linkTags:ae(y.LINK,a),metaTags:ae(y.META,o),noscriptTags:ae(y.NOSCRIPT,u),scriptTags:ae(y.SCRIPT,l),styleTags:ae(y.STYLE,c)},p={},v={};Object.keys(d).forEach(function(e){var t=d[e],n=t.newTags,r=t.oldTags;n.length&&(p[e]=n),r.length&&(v[e]=d[e].oldTags)}),t&&t(),s(e,p,v)},ne=function(e){return Array.isArray(e)?e.join(""):e},re=function(e,t){"undefined"!==typeof e&&document.title!==e&&(document.title=ne(e)),ie(y.TITLE,t)},ie=function(e,t){var n=document.getElementsByTagName(e)[0];if(n){for(var r=n.getAttribute("data-react-helmet"),i=r?r.split(","):[],a=[].concat(i),o=Object.keys(t),u=0;u<o.length;u++){var s=o[u],l=t[s]||"";n.getAttribute(s)!==l&&n.setAttribute(s,l),-1===i.indexOf(s)&&i.push(s);var c=a.indexOf(s);-1!==c&&a.splice(c,1)}for(var h=a.length-1;h>=0;h--)n.removeAttribute(a[h]);i.length===a.length?n.removeAttribute("data-react-helmet"):n.getAttribute("data-react-helmet")!==o.join(",")&&n.setAttribute("data-react-helmet",o.join(","))}},ae=function(e,t){var n=document.head||document.querySelector(y.HEAD),r=n.querySelectorAll(e+"[data-react-helmet]"),i=Array.prototype.slice.call(r),a=[],o=void 0;return t&&t.length&&t.forEach(function(t){var n=document.createElement(e);for(var r in t)if(t.hasOwnProperty(r))if(r===_)n.innerHTML=t.innerHTML;else if(r===m)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{var u="undefined"===typeof t[r]?"":t[r];n.setAttribute(r,u)}n.setAttribute("data-react-helmet","true"),i.some(function(e,t){return o=t,n.isEqualNode(e)})?i.splice(o,1):a.push(n)}),i.forEach(function(e){return e.parentNode.removeChild(e)}),a.forEach(function(e){return n.appendChild(e)}),{oldTags:i,newTags:a}},oe=function(e){return Object.keys(e).reduce(function(t,n){var r="undefined"!==typeof e[n]?n+'="'+e[n]+'"':""+n;return t?t+" "+r:r},"")},ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce(function(t,n){return t[j[n]||n]=e[n],t},t)},se=function(e,t,n){switch(e){case y.TITLE:return{toComponent:function(){return function(e,t,n){var r,i=((r={key:t})["data-react-helmet"]=!0,r),a=ue(n,i);return[c.a.createElement(y.TITLE,a,t)]}(0,t.title,t.titleAttributes)},toString:function(){return function(e,t,n,r){var i=oe(n),a=ne(t);return i?"<"+e+' data-react-helmet="true" '+i+">"+B(a,r)+"</"+e+">":"<"+e+' data-react-helmet="true">'+B(a,r)+"</"+e+">"}(e,t.title,t.titleAttributes,n)}};case d:case p:return{toComponent:function(){return ue(t)},toString:function(){return oe(t)}};default:return{toComponent:function(){return function(e,t){return t.map(function(t,n){var r,i=((r={key:n})["data-react-helmet"]=!0,r);return Object.keys(t).forEach(function(e){var n=j[e]||e;if(n===_||n===m){var r=t.innerHTML||t.cssText;i.dangerouslySetInnerHTML={__html:r}}else i[n]=t[e]}),c.a.createElement(e,i)})}(e,t)},toString:function(){return function(e,t,n){return t.reduce(function(t,r){var i=Object.keys(r).filter(function(e){return!(e===_||e===m)}).reduce(function(e,t){var i="undefined"===typeof r[t]?t:t+'="'+B(r[t],n)+'"';return e?e+" "+i:i},""),a=r.innerHTML||r.cssText||"",o=-1===D.indexOf(e);return t+"<"+e+' data-react-helmet="true" '+i+(o?"/>":">"+a+"</"+e+">")},"")}(e,t,n)}}}},le=function(e){var t=e.baseTag,n=e.bodyAttributes,r=e.encode,i=e.htmlAttributes,a=e.linkTags,o=e.metaTags,u=e.noscriptTags,s=e.scriptTags,l=e.styleTags,c=e.title,h=void 0===c?"":c,f=e.titleAttributes;return{base:se(y.BASE,t,r),bodyAttributes:se(d,n,r),htmlAttributes:se(p,i,r),link:se(y.LINK,a,r),meta:se(y.META,o,r),noscript:se(y.NOSCRIPT,u,r),script:se(y.SCRIPT,s,r),style:se(y.STYLE,l,r),title:se(y.TITLE,{title:h,titleAttributes:f},r)}},ce=function(e){var t,n;return n=t=function(t){function n(){return M(this,n),z(this,t.apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,t),n.prototype.shouldComponentUpdate=function(e){return!s()(this.props,e)},n.prototype.mapNestedChildrenToProps=function(e,t){if(!t)return null;switch(e.type){case y.SCRIPT:case y.NOSCRIPT:return{innerHTML:t};case y.STYLE:return{cssText:t}}throw new Error("<"+e.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},n.prototype.flattenArrayTypeChildren=function(e){var t,n=e.child,r=e.arrayTypeChildren,i=e.newChildProps,a=e.nestedChildren;return U({},r,((t={})[n.type]=[].concat(r[n.type]||[],[U({},i,this.mapNestedChildrenToProps(n,a))]),t))},n.prototype.mapObjectTypeChildren=function(e){var t,n,r=e.child,i=e.newProps,a=e.newChildProps,o=e.nestedChildren;switch(r.type){case y.TITLE:return U({},i,((t={})[r.type]=o,t.titleAttributes=U({},a),t));case y.BODY:return U({},i,{bodyAttributes:U({},a)});case y.HTML:return U({},i,{htmlAttributes:U({},a)})}return U({},i,((n={})[r.type]=U({},a),n))},n.prototype.mapArrayTypeChildrenToProps=function(e,t){var n=U({},t);return Object.keys(e).forEach(function(t){var r;n=U({},n,((r={})[t]=e[t],r))}),n},n.prototype.warnOnInvalidChildren=function(e,t){return!0},n.prototype.mapChildrenToProps=function(e,t){var n=this,r={};return c.a.Children.forEach(e,function(e){if(e&&e.props){var i=e.props,a=i.children,o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).reduce(function(t,n){return t[R[n]||n]=e[n],t},t)}(V(i,["children"]));switch(n.warnOnInvalidChildren(e,a),e.type){case y.LINK:case y.META:case y.NOSCRIPT:case y.SCRIPT:case y.STYLE:r=n.flattenArrayTypeChildren({child:e,arrayTypeChildren:r,newChildProps:o,nestedChildren:a});break;default:t=n.mapObjectTypeChildren({child:e,newProps:t,newChildProps:o,nestedChildren:a})}}}),t=this.mapArrayTypeChildrenToProps(r,t)},n.prototype.render=function(){var t=this.props,n=t.children,r=V(t,["children"]),i=U({},r);return n&&(i=this.mapChildrenToProps(n,i)),c.a.createElement(e,i)},F(n,null,[{key:"canUseDOM",set:function(t){e.canUseDOM=t}}]),n}(c.a.Component),t.propTypes={base:i.a.object,bodyAttributes:i.a.object,children:i.a.oneOfType([i.a.arrayOf(i.a.node),i.a.node]),defaultTitle:i.a.string,defer:i.a.bool,encodeSpecialCharacters:i.a.bool,htmlAttributes:i.a.object,link:i.a.arrayOf(i.a.object),meta:i.a.arrayOf(i.a.object),noscript:i.a.arrayOf(i.a.object),onChangeClientState:i.a.func,script:i.a.arrayOf(i.a.object),style:i.a.arrayOf(i.a.object),title:i.a.string,titleAttributes:i.a.object,titleTemplate:i.a.string},t.defaultProps={defer:!0,encodeSpecialCharacters:!0},t.peek=e.peek,t.rewind=function(){var t=e.rewind();return t||(t=le({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),t},n}(o()(function(e){return{baseTag:K([b,T],e),bodyAttributes:W(d,e),defer:Q(e,x),encode:Q(e,N),htmlAttributes:W(p,e),linkTags:G(y.LINK,[C,b],e),metaTags:G(y.META,[O,g,k,E,w],e),noscriptTags:G(y.NOSCRIPT,[_],e),onChangeClientState:H(e),scriptTags:G(y.SCRIPT,[S,_],e),styleTags:G(y.STYLE,[m],e),title:q(e),titleAttributes:W(v,e)}},function(e){ee&&J(ee),e.defer?ee=X(function(){te(e,function(){ee=null})}):(te(e),ee=null)},le)(function(){return null}));ce.renderStatic=ce.rewind}).call(this,n(26))},function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"b",function(){return y});var r=n(3),i=n.n(r),a=n(18),o=n(6),u=n(8),s=n(2),l=n(4),c=n(5);function h(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var d=function(){function e(t,n,r){Object(s.a)(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Object(l.a)(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),p="[DEFAULT]",v=function(){function e(t,n){Object(s.a)(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Object(l.a)(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new c.a;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:p})}catch(l){}var t,n=h(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Object(u.a)(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(l){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Object(o.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Object(a.a)(t.filter(function(e){return"INTERNAL"in e}).map(function(e){return e.INTERNAL.delete()})),Object(a.a)(t.filter(function(e){return"_delete"in e}).map(function(e){return e._delete()}))));case 3:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=h(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=Object(u.a)(i.value,2),l=s[0],c=s[1];r===this.normalizeInstanceIdentifier(l)&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=h(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(u){i.e(u)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===p?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;return this.component?this.component.multipleInstances?e:p:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var y=function(){function e(t){Object(s.a)(this,e),this.name=t,this.providers=new Map}return Object(l.a)(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new v(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}()},function(e,t,n){"use strict";var r=n(7);function i(e,t,n){return(i="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Object(r.a)(e)););return e}(e,t);if(i){var a=Object.getOwnPropertyDescriptor(i,t);return a.get?a.get.call(n):a.value}})(e,t,n||e)}n.d(t,"a",function(){return i})},function(e,t,n){"use strict";function r(e,t){return(r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",function(){return r})},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(r){"object"===typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(25);function i(e,t,n){return(i=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?Reflect.construct:function(e,t,n){var i=[null];i.push.apply(i,t);var a=new(Function.bind.apply(e,i));return n&&Object(r.a)(a,n.prototype),a}).apply(null,arguments)}},function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function u(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"===typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"===typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var s,l=[],c=!1,h=-1;function f(){c&&s&&(c=!1,s.length?l=s.concat(l):h=-1,l.length&&d())}function d(){if(!c){var e=u(f);c=!0;for(var t=l.length;t;){for(s=l,l=[];++h<t;)s&&s[h].run();h=-1,t=l.length}s=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||c||u(d)},p.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return ii});var r=n(3),i=n.n(r),a=n(8),o=n(6),u=n(21),s=n(10),l=n(7),c=n(9),h=n(18),f=n(2),d=n(4),p=n(14),v=n(23),y=n(5),g=n(20);function m(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k="@firebase/database",_="0.13.0",w="";var O=function(){function e(t){Object(f.a)(this,e),this.domStorage_=t,this.prefix_="firebase:"}return Object(d.a)(e,[{key:"set",value:function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Object(y.I)(t))}},{key:"get",value:function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Object(y.C)(t)}},{key:"remove",value:function(e){this.domStorage_.removeItem(this.prefixedName_(e))}},{key:"prefixedName_",value:function(e){return this.prefix_+e}},{key:"toString",value:function(){return this.domStorage_.toString()}}]),e}(),E=function(){function e(){Object(f.a)(this,e),this.cache_={},this.isInMemoryStorage=!0}return Object(d.a)(e,[{key:"set",value:function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}},{key:"get",value:function(e){return Object(y.j)(this.cache_,e)?this.cache_[e]:null}},{key:"remove",value:function(e){delete this.cache_[e]}}]),e}(),C=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new O(t)}}catch(n){}return new E},S=C("localStorage"),T=C("sessionStorage"),j=new g.b("@firebase/database"),I=function(){var e=1;return function(){return e++}}(),x=function(e){var t=Object(y.H)(e),n=new y.d;n.update(t);var r=n.digest();return y.g.encodeByteArray(r)},N=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"===typeof r&&"number"===typeof r.length?t+=e.apply(null,r):t+="object"===typeof r?Object(y.I)(r):r,t+=" "}return t},A=null,P=!0,R=function(e,t){Object(y.e)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(j.logLevel=g.a.VERBOSE,A=j.log.bind(j),t&&T.set("logging_enabled",!0)):"function"===typeof e?A=e:(A=null,T.remove("logging_enabled"))},D=function(){if(!0===P&&(P=!1,null===A&&!0===T.get("logging_enabled")&&R(!0)),A){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=N.apply(null,t);A(r)}},L=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];D.apply(void 0,[e].concat(n))}},M=function(){var e="FIREBASE INTERNAL ERROR: "+N.apply(void 0,arguments);j.error(e)},F=function(){var e="FIREBASE FATAL ERROR: ".concat(N.apply(void 0,arguments));throw j.error(e),new Error(e)},U=function(){var e="FIREBASE WARNING: "+N.apply(void 0,arguments);j.warn(e)},V=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},z="[MIN_NAME]",B="[MAX_NAME]",q=function(e,t){if(e===t)return 0;if(e===z||t===B)return-1;if(t===z||e===B)return 1;var n=X(e),r=X(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},H=function(e,t){return e===t?0:e<t?-1:1},W=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Object(y.I)(t))},K=function e(t){if("object"!==typeof t||null===t)return Object(y.I)(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",a=0;a<n.length;a++)0!==a&&(i+=","),i+=Object(y.I)(n[a]),i+=":",i+=e(t[n[a]]);return i+="}"},G=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Q(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var Y=function(e){Object(y.e)(!V(e),"Invalid JSON number");var t,n,r,i,a;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023))+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var o=[];for(a=52;a;a-=1)o.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)o.push(n%2?1:0),n=Math.floor(n/2);o.push(t?1:0),o.reverse();var u=o.join(""),s="";for(a=0;a<64;a+=8){var l=parseInt(u.substr(a,8),2).toString(16);1===l.length&&(l="0"+l),s+=l}return s.toLowerCase()};var $=new RegExp("^-?(0*)\\d{1,10}$"),X=function(e){if($.test(e)){var t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},J=function(e){try{e()}catch(t){setTimeout(function(){var e=t.stack||"";throw U("Exception was thrown by user callback.",e),t},Math.floor(0))}},Z=function(){return("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ee=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},te=function(){function e(t,n){var r=this;Object(f.a)(this,e),this.appName_=t,this.appCheckProvider=n,this.appCheck=null===n||void 0===n?void 0:n.getImmediate({optional:!0}),this.appCheck||null===n||void 0===n||n.get().then(function(e){return r.appCheck=e})}return Object(d.a)(e,[{key:"getToken",value:function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise(function(n,r){setTimeout(function(){t.appCheck?t.getToken(e).then(n,r):n(null)},0)})}},{key:"addTokenChangeListener",value:function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(function(t){return t.addTokenListener(e)})}},{key:"notifyForInvalidToken",value:function(){U('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}]),e}(),ne=function(){function e(t,n,r){var i=this;Object(f.a)(this,e),this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(function(e){return i.auth_=e})}return Object(d.a)(e,[{key:"getToken",value:function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch(function(e){return e&&"auth/token-not-initialized"===e.code?(D("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)}):new Promise(function(n,r){setTimeout(function(){t.auth_?t.getToken(e).then(n,r):n(null)},0)})}},{key:"addTokenChangeListener",value:function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(function(t){return t.addAuthTokenListener(e)})}},{key:"removeTokenChangeListener",value:function(e){this.authProvider_.get().then(function(t){return t.removeAuthTokenListener(e)})}},{key:"notifyForInvalidToken",value:function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',U(e)}}]),e}(),re=function(){function e(t){Object(f.a)(this,e),this.accessToken=t}return Object(d.a)(e,[{key:"getToken",value:function(e){return Promise.resolve({accessToken:this.accessToken})}},{key:"addTokenChangeListener",value:function(e){e(this.accessToken)}},{key:"removeTokenChangeListener",value:function(e){}},{key:"notifyForInvalidToken",value:function(){}}]),e}();re.OWNER="owner";var ie=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,ae="ac",oe="websocket",ue="long_polling",se=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",u=arguments.length>6&&void 0!==arguments[6]&&arguments[6];Object(f.a)(this,e),this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=o,this.includeNamespaceInQueryParams=u,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=S.get("host:"+t)||this._host}return Object(d.a)(e,[{key:"isCacheableHost",value:function(){return"s-"===this.internalHost.substr(0,2)}},{key:"isCustomHost",value:function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}},{key:"toString",value:function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}},{key:"toURLString",value:function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}},{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&S.set("host:"+this._host,this.internalHost))}}]),e}();function le(e,t,n){var r;if(Object(y.e)("string"===typeof t,"typeof type must == string"),Object(y.e)("object"===typeof n,"typeof params must == object"),t===oe)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==ue)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return Q(n,function(e,t){i.push(e+"="+t)}),r+i.join("&")}var ce=function(){function e(){Object(f.a)(this,e),this.counters_={}}return Object(d.a)(e,[{key:"incrementCounter",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Object(y.j)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}},{key:"get",value:function(){return Object(y.l)(this.counters_)}}]),e}(),he={},fe={};function de(e){var t=e.toString();return he[t]||(he[t]=new ce),he[t]}var pe=function(){function e(t){Object(f.a)(this,e),this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return Object(d.a)(e,[{key:"closeAfter",value:function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}},{key:"handleResponse",value:function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&J(function(){n.onMessage_(e[t])})},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}}}]),e}(),ve="pLPCommand",ye="pRTLPCB",ge=function(){function e(t,n,r,i,a,o,u){var s=this;Object(f.a)(this,e),this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=o,this.lastSessionId=u,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=L(t),this.stats_=de(n),this.urlFn=function(e){return s.appCheckToken&&(e[ae]=s.appCheckToken),le(n,ue,e)}}return Object(d.a)(e,[{key:"open",value:function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new pe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if(Object(y.x)()||"complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(function(){if(!n.isClosed_){n.scriptTagHolder=new me(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1],o=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=a,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);a?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(a,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],a=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,a)},function(){n.onClosed_()},n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e[ae]=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&ie.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,function(){})}})}},{key:"start",value:function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}},{key:"markConnectionHealthy",value:function(){}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}},{key:"send",value:function(e){var t=Object(y.I)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=Object(y.h)(t),r=G(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}},{key:"addDisconnectPingFrame",value:function(e,t){if(!Object(y.x)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}}},{key:"incrementIncomingBytes_",value:function(e){var t=Object(y.I)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}],[{key:"forceAllow",value:function(){e.forceAllow_=!0}},{key:"forceDisallow",value:function(){e.forceDisallow_=!0}},{key:"isAvailable",value:function(){return!Object(y.x)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}}]),e}(),me=function(){function e(t,n,r,i){if(Object(f.a)(this,e),this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Object(y.x)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=I(),window[ve+this.uniqueCallbackIdentifier]=t,window[ye+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var o="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(u){D("frame writing exception"),u.stack&&D(u.stack),D(u)}}}return Object(d.a)(e,[{key:"close",value:function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())}},{key:"startLongPoll",value:function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}},{key:"newRequest_",value:function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}},{key:"enqueueSegment",value:function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}},{key:"addLongPollTag_",value:function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,function(){clearTimeout(i),r()})}},{key:"addTag",value:function(e,t){var n=this;Object(y.x)()?this.doNodeLongPoll(e,t):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){D("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}},Math.floor(1))}}],[{key:"createIFrame_",value:function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||D("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}}]),e}(),be=null;"undefined"!==typeof MozWebSocket?be=MozWebSocket:"undefined"!==typeof WebSocket&&(be=WebSocket);var ke=function(){function t(e,n,r,i,a,o,u){Object(f.a)(this,t),this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=L(this.connId),this.stats_=de(n),this.connURL=t.connectionURL_(n,o,u,i,r),this.nodeAdmin=n.nodeAdmin}return Object(d.a)(t,[{key:"open",value:function(t,n){var r=this;this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,S.set("previous_websocket_failure",!0);try{if(Object(y.x)()){var i=this.nodeAdmin?"AdminNode":"Node",a={headers:{"User-Agent":"Firebase/".concat("5","/").concat(w,"/").concat(e.platform,"/").concat(i),"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(a.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(a.headers["X-Firebase-AppCheck"]=this.appCheckToken);var o=Object({NODE_ENV:"production",PUBLIC_URL:"/brusi-propiedades"}),u=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;u&&(a.proxy={origin:u})}this.mySock=new be(this.connURL,[],void 0)}catch(l){this.log_("Error instantiating WebSocket.");var s=l.message||l.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=function(){r.log_("Websocket connected."),r.everConnected_=!0},this.mySock.onclose=function(){r.log_("Websocket connection was disconnected."),r.mySock=null,r.onClosed_()},this.mySock.onmessage=function(e){r.handleIncomingFrame(e)},this.mySock.onerror=function(e){r.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&r.log_(t),r.onClosed_()}}},{key:"start",value:function(){}},{key:"markConnectionHealthy",value:function(){S.remove("previous_websocket_failure")}},{key:"appendFrame_",value:function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=Object(y.C)(t);this.onMessage(n)}}},{key:"handleNewFrameCount_",value:function(e){this.totalFrames=e,this.frames=[]}},{key:"extractFrameCount_",value:function(e){if(Object(y.e)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}},{key:"handleIncomingFrame",value:function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}}},{key:"send",value:function(e){this.resetKeepAlive();var t=Object(y.I)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=G(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])}},{key:"shutdown_",value:function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}},{key:"onClosed_",value:function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}},{key:"close",value:function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}},{key:"resetKeepAlive",value:function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()},Math.floor(45e3))}},{key:"sendString_",value:function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}],[{key:"connectionURL_",value:function(e,t,n,r,i){var a={v:"5"};return!Object(y.x)()&&"undefined"!==typeof location&&location.hostname&&ie.test(location.hostname)&&(a.r="f"),t&&(a.s=t),n&&(a.ls=n),r&&(a[ae]=r),i&&(a.p=i),le(e,oe,a)}},{key:"forceDisallow",value:function(){t.forceDisallow_=!0}},{key:"isAvailable",value:function(){var e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==be&&!t.forceDisallow_}},{key:"previouslyFailed",value:function(){return S.isInMemoryStorage||!0===S.get("previous_websocket_failure")}}]),t}();ke.responsesRequiredToBeHealthy=2,ke.healthyTimeout=3e4;var _e=function(){function e(t){Object(f.a)(this,e),this.initTransports_(t)}return Object(d.a)(e,[{key:"initTransports_",value:function(t){var n=ke&&ke.isAvailable(),r=n&&!ke.previouslyFailed();if(t.webSocketOnly&&(n||U("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[ke];else{var i,a=this.transports_=[],o=m(e.ALL_TRANSPORTS);try{for(o.s();!(i=o.n()).done;){var u=i.value;u&&u.isAvailable()&&a.push(u)}}catch(s){o.e(s)}finally{o.f()}e.globalTransportInitialized_=!0}}},{key:"initialTransport",value:function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}},{key:"upgradeTransport",value:function(){return this.transports_.length>1?this.transports_[1]:null}}],[{key:"ALL_TRANSPORTS",get:function(){return[ge,ke]}},{key:"IS_TRANSPORT_INITIALIZED",get:function(){return this.globalTransportInitialized_}}]),e}();_e.globalTransportInitialized_=!1;var we=function(){function e(t,n,r,i,a,o,u,s,l,c){Object(f.a)(this,e),this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=o,this.onReady_=u,this.onDisconnect_=s,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=L("c:"+this.id+":"),this.transportManager_=new _e(n),this.log_("Connection created"),this.start_()}return Object(d.a)(e,[{key:"start_",value:function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){e.conn_&&e.conn_.open(n,r)},Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=ee(function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))},Math.floor(i)))}},{key:"nextTransportId_",value:function(){return"c:"+this.id+":"+this.connectionCount++}},{key:"disconnReceiver_",value:function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}}},{key:"connReceiver_",value:function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}}},{key:"sendRequest",value:function(e){var t={t:"d",d:e};this.sendData_(t)}},{key:"tryCleanupConnection",value:function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}},{key:"onSecondaryControl_",value:function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}},{key:"onSecondaryMessageReceived_",value:function(e){var t=W("t",e),n=W("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}},{key:"upgradeIfSecondaryHealthy_",value:function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}},{key:"proceedWithUpgrade_",value:function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}},{key:"onPrimaryMessageReceived_",value:function(e){var t=W("t",e),n=W("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}},{key:"onDataMessage_",value:function(e){this.onPrimaryResponse_(),this.onMessage_(e)}},{key:"onPrimaryResponse_",value:function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}},{key:"onControl_",value:function(e){var t=W("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?M("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):M("Unknown control packet command: "+t)}}},{key:"onHandshake_",value:function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&U("Protocol version mismatch detected"),this.tryStartUpgrade_())}},{key:"tryStartUpgrade_",value:function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}},{key:"startUpgrade_",value:function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ee(function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())},Math.floor(6e4))}},{key:"onReset_",value:function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}},{key:"onConnectionEstablished_",value:function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ee(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}},{key:"sendPingOnPrimaryIfNecessary_",value:function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}},{key:"onSecondaryConnectionLost_",value:function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}},{key:"onConnectionLost_",value:function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(S.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}},{key:"onConnectionShutdown_",value:function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}},{key:"sendData_",value:function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}},{key:"close",value:function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}},{key:"closeConnections_",value:function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}]),e}(),Oe=function(){function e(){Object(f.a)(this,e)}return Object(d.a)(e,[{key:"put",value:function(e,t,n,r){}},{key:"merge",value:function(e,t,n,r){}},{key:"refreshAuthToken",value:function(e){}},{key:"refreshAppCheckToken",value:function(e){}},{key:"onDisconnectPut",value:function(e,t,n){}},{key:"onDisconnectMerge",value:function(e,t,n){}},{key:"onDisconnectCancel",value:function(e,t){}},{key:"reportStats",value:function(e){}}]),e}(),Ee=function(){function e(t){Object(f.a)(this,e),this.allowedEvents_=t,this.listeners_={},Object(y.e)(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return Object(d.a)(e,[{key:"trigger",value:function(e){if(Array.isArray(this.listeners_[e])){for(var t=Object(h.a)(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var a=0;a<t.length;a++)t[a].callback.apply(t[a].context,r)}}},{key:"on",value:function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)}},{key:"off",value:function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}},{key:"validateEventType_",value:function(e){Object(y.e)(this.allowedEvents_.find(function(t){return t===e}),"Unknown event: "+e)}}]),e}(),Ce=function(e){function t(){var e;return Object(f.a)(this,t),(e=Object(s.a)(this,Object(l.a)(t).call(this,["online"]))).online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Object(y.w)()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return Object(c.a)(t,e),Object(d.a)(t,[{key:"getInitialEvent",value:function(e){return Object(y.e)("online"===e,"Unknown event type: "+e),[this.online_]}},{key:"currentlyOnline",value:function(){return this.online_}}],[{key:"getInstance",value:function(){return new t}}]),t}(Ee),Se=32,Te=768,je=function(){function e(t,n){if(Object(f.a)(this,e),void 0===n){this.pieces_=t.split("/");for(var r=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}return Object(d.a)(e,[{key:"toString",value:function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}]),e}();function Ie(){return new je("")}function xe(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function Ne(e){return e.pieces_.length-e.pieceNum_}function Ae(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new je(e.pieces_,t)}function Pe(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Re(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function De(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new je(t,0)}function Le(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof je)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var a=t.split("/"),o=0;o<a.length;o++)a[o].length>0&&n.push(a[o]);return new je(n,0)}function Me(e){return e.pieceNum_>=e.pieces_.length}function Fe(e,t){var n=xe(e),r=xe(t);if(null===n)return t;if(n===r)return Fe(Ae(e),Ae(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ue(e,t){if(Ne(e)!==Ne(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ve(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(Ne(e)>Ne(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var ze=function e(t,n){Object(f.a)(this,e),this.errorPrefix_=n,this.parts_=Re(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(var r=0;r<this.parts_.length;r++)this.byteLength_+=Object(y.G)(this.parts_[r]);Be(this)};function Be(e){if(e.byteLength_>Te)throw new Error(e.errorPrefix_+"has a key path longer than "+Te+" bytes ("+e.byteLength_+").");if(e.parts_.length>Se)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Se+") or object contains a cycle "+qe(e))}function qe(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var He=function(e){function t(){var e,n,r;return Object(f.a)(this,t),e=Object(s.a)(this,Object(l.a)(t).call(this,["visible"])),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(r="visibilitychange",n="hidden"):"undefined"!==typeof document.mozHidden?(r="mozvisibilitychange",n="mozHidden"):"undefined"!==typeof document.msHidden?(r="msvisibilitychange",n="msHidden"):"undefined"!==typeof document.webkitHidden&&(r="webkitvisibilitychange",n="webkitHidden")),e.visible_=!0,r&&document.addEventListener(r,function(){var t=!document[n];t!==e.visible_&&(e.visible_=t,e.trigger("visible",t))},!1),e}return Object(c.a)(t,e),Object(d.a)(t,[{key:"getInitialEvent",value:function(e){return Object(y.e)("visible"===e,"Unknown event type: "+e),[this.visible_]}}],[{key:"getInstance",value:function(){return new t}}]),t}(Ee),We=1e3,Ke=3e5,Ge=function(e){function t(e,n,r,i,a,o,c,h){var d;if(Object(f.a)(this,t),(d=Object(s.a)(this,Object(l.a)(t).call(this))).repoInfo_=e,d.applicationId_=n,d.onDataUpdate_=r,d.onConnectStatus_=i,d.onServerInfoUpdate_=a,d.authTokenProvider_=o,d.appCheckTokenProvider_=c,d.authOverride_=h,d.id=t.nextPersistentConnectionId_++,d.log_=L("p:"+d.id+":"),d.interruptReasons_={},d.listens=new Map,d.outstandingPuts_=[],d.outstandingGets_=[],d.outstandingPutCount_=0,d.outstandingGetCount_=0,d.onDisconnectRequestQueue_=[],d.connected_=!1,d.reconnectDelay_=We,d.maxReconnectDelay_=Ke,d.securityDebugCallback_=null,d.lastSessionId=null,d.establishConnectionTimer_=null,d.visible_=!1,d.requestCBHash_={},d.requestNumber_=0,d.realtime_=null,d.authToken_=null,d.appCheckToken_=null,d.forceTokenRefresh_=!1,d.invalidAuthTokenCount_=0,d.invalidAppCheckTokenCount_=0,d.firstConnection_=!0,d.lastConnectionAttemptTime_=null,d.lastConnectionEstablishedTime_=null,h&&!Object(y.x)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return He.getInstance().on("visible",d.onVisible_,Object(u.a)(Object(u.a)(d))),-1===e.host.indexOf("fblocal")&&Ce.getInstance().on("online",d.onOnline_,Object(u.a)(Object(u.a)(d))),d}return Object(c.a)(t,e),Object(d.a)(t,[{key:"sendRequest",value:function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Object(y.I)(i)),Object(y.e)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}},{key:"get",value:function(e){var t=this;this.initConnection_();var n=new y.a,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout(function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(a),n.promise}},{key:"listen",value:function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),Object(y.e)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Object(y.e)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,o),this.connected_&&this.sendListen_(o)}},{key:"sendGet_",value:function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}},{key:"sendListen_",value:function(e){var n=this,r=e.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);var o={p:i};e.tag&&(o.q=r._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest("q",o,function(o){var u=o.d,s=o.s;t.warnOnListenWarnings_(u,r),(n.listens.get(i)&&n.listens.get(i).get(a))===e&&(n.log_("listen response",o),"ok"!==s&&n.removeListen_(i,a),e.onComplete&&e.onComplete(s,u))})}},{key:"refreshAuthToken",value:function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(e)}},{key:"reduceReconnectDelayIfAdminCredential_",value:function(e){(e&&40===e.length||Object(y.q)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}},{key:"refreshAppCheckToken",value:function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},function(){})}},{key:"tryAuth",value:function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=Object(y.B)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))})}}},{key:"tryAppCheck",value:function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)})}},{key:"unlisten",value:function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Object(y.e)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}},{key:"sendUnlisten_",value:function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}},{key:"onDisconnectPut",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}},{key:"onDisconnectMerge",value:function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}},{key:"onDisconnectCancel",value:function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}},{key:"sendOnDisconnect_",value:function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,function(e){r&&setTimeout(function(){r(e.s,e.d)},Math.floor(0))})}},{key:"put",value:function(e,t,n,r){this.putInternal("p",e,t,n,r)}},{key:"merge",value:function(e,t,n,r){this.putInternal("m",e,t,n,r)}},{key:"putInternal",value:function(e,t,n,r,i){this.initConnection_();var a={p:t,d:n};void 0!==i&&(a.h=i),this.outstandingPuts_.push({action:e,request:a,onComplete:r}),this.outstandingPutCount_++;var o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}},{key:"sendPut_",value:function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)})}},{key:"reportStats",value:function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}})}}},{key:"onDataMessage_",value:function(e){if("r"in e){this.log_("from server: "+Object(y.I)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}},{key:"onDataPush_",value:function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):M("Unrecognized action received from server: "+Object(y.I)(e)+"\nAre you using the latest client?")}},{key:"onReady_",value:function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}},{key:"scheduleConnect_",value:function(e){var t=this;Object(y.e)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){t.establishConnectionTimer_=null,t.establishConnection_()},Math.floor(e))}},{key:"initConnection_",value:function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}},{key:"onVisible_",value:function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=We,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}},{key:"onOnline_",value:function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=We,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}},{key:"onRealtimeDisconnect_",value:function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=We),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}},{key:"establishConnection_",value:function(){var e=Object(o.a)(i.a.mark(function e(){var n,r,o,u,s,l,c,h,f,d,p,v,g,m,b=this;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=30;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),u=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,l=!1,c=null,h=function(){c?c.close():(l=!0,o())},f=function(e){Object(y.e)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:h,sendRequest:f},d=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);case 19:p=e.sent,v=Object(a.a)(p,2),g=v[0],m=v[1],l?D("getToken() completed but was canceled"):(D("getToken() completed. Creating connection."),this.authToken_=g&&g.accessToken,this.appCheckToken_=m&&m.token,c=new we(u,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,o,function(e){U(e+" ("+b.repoInfo_.toString()+")"),b.interrupt("server_kill")},s)),e.next=30;break;case 26:e.prev=26,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),l||(this.repoInfo_.nodeAdmin&&U(e.t0),h());case 30:case"end":return e.stop()}},e,this,[[16,26]])}));return function(){return e.apply(this,arguments)}}()},{key:"interrupt",value:function(e){D("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}},{key:"resume",value:function(e){D("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Object(y.t)(this.interruptReasons_)&&(this.reconnectDelay_=We,this.realtime_||this.scheduleConnect_(0))}},{key:"handleTimestamp_",value:function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}},{key:"cancelSentTransactions_",value:function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}},{key:"onListenRevoked_",value:function(e,t){var n;n=t?t.map(function(e){return K(e)}).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}},{key:"removeListen_",value:function(e,t){var n,r=new je(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n}},{key:"onAuthRevoked_",value:function(e,t){D("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}},{key:"onAppCheckRevoked_",value:function(e,t){D("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}},{key:"onSecurityDebugPacket_",value:function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}},{key:"restoreState_",value:function(){this.tryAuth(),this.tryAppCheck();var e,t=m(this.listens.values());try{for(t.s();!(e=t.n()).done;){var n,r=m(e.value.values());try{for(r.s();!(n=r.n()).done;){var i=n.value;this.sendListen_(i)}}catch(s){r.e(s)}finally{r.f()}}}catch(s){t.e(s)}finally{t.f()}for(var a=0;a<this.outstandingPuts_.length;a++)this.outstandingPuts_[a]&&this.sendPut_(a);for(;this.onDisconnectRequestQueue_.length;){var o=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(o.action,o.pathString,o.data,o.onComplete)}for(var u=0;u<this.outstandingGets_.length;u++)this.outstandingGets_[u]&&this.sendGet_(u)}},{key:"sendConnectStats_",value:function(){var e={},t="js";Object(y.x)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+w.replace(/\./g,"-")]=1,Object(y.w)()?e["framework.cordova"]=1:Object(y.y)()&&(e["framework.reactnative"]=1),this.reportStats(e)}},{key:"shouldReconnect_",value:function(){var e=Ce.getInstance().currentlyOnline();return Object(y.t)(this.interruptReasons_)&&e}}],[{key:"warnOnListenWarnings_",value:function(e,t){if(e&&"object"===typeof e&&Object(y.j)(e,"w")){var n=Object(y.F)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();U("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(r," at ")+"".concat(i," to your security rules for better performance."))}}}}]),t}(Oe);Ge.nextPersistentConnectionId_=0,Ge.nextConnectionId_=0;var Qe,Ye=function(){function e(t,n){Object(f.a)(this,e),this.name=t,this.node=n}return Object(d.a)(e,null,[{key:"Wrap",value:function(t,n){return new e(t,n)}}]),e}(),$e=function(){function e(){Object(f.a)(this,e)}return Object(d.a)(e,[{key:"getCompare",value:function(){return this.compare.bind(this)}},{key:"indexedValueChanged",value:function(e,t){var n=new Ye(z,e),r=new Ye(z,t);return 0!==this.compare(n,r)}},{key:"minPost",value:function(){return Ye.MIN}}]),e}(),Xe=function(e){function t(){return Object(f.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(d.a)(t,[{key:"compare",value:function(e,t){return q(e.name,t.name)}},{key:"isDefinedOn",value:function(e){throw Object(y.f)("KeyIndex.isDefinedOn not expected to be called.")}},{key:"indexedValueChanged",value:function(e,t){return!1}},{key:"minPost",value:function(){return Ye.MIN}},{key:"maxPost",value:function(){return new Ye(B,Qe)}},{key:"makePost",value:function(e,t){return Object(y.e)("string"===typeof e,"KeyIndex indexValue must always be a string."),new Ye(e,Qe)}},{key:"toString",value:function(){return".key"}}],[{key:"__EMPTY_NODE",get:function(){return Qe},set:function(e){Qe=e}}]),t}($e),Je=new Xe,Ze=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;Object(f.a)(this,e),this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return Object(d.a)(e,[{key:"getNext",value:function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}},{key:"hasNext",value:function(){return this.nodeStack_.length>0}},{key:"peek",value:function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}]),e}(),et=function(){function e(t,n,r,i,a){Object(f.a)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:rt.EMPTY_NODE,this.right=null!=a?a:rt.EMPTY_NODE}return Object(d.a)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"count",value:function(){return this.left.count()+1+this.right.count()}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min_",value:function(){return this.left.isEmpty()?this:this.left.min_()}},{key:"minKey",value:function(){return this.min_().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()}},{key:"removeMin_",value:function(){if(this.left.isEmpty())return rt.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()}},{key:"remove",value:function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return rt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}},{key:"isRed_",value:function(){return this.color}},{key:"fixUp_",value:function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}},{key:"moveRedLeft_",value:function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e}},{key:"moveRedRight_",value:function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e}},{key:"rotateLeft_",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight_",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip_",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth_",value:function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1}},{key:"check_",value:function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}]),e}();et.RED=!0,et.BLACK=!1;var tt,nt=function(){function e(){Object(f.a)(this,e)}return Object(d.a)(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new et(e,t,null)}},{key:"remove",value:function(e,t){return this}},{key:"count",value:function(){return 0}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"check_",value:function(){return 0}},{key:"isRed_",value:function(){return!1}}]),e}(),rt=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.EMPTY_NODE;Object(f.a)(this,e),this.comparator_=t,this.root_=n}return Object(d.a)(e,[{key:"insert",value:function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,et.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,et.BLACK,null,null))}},{key:"get",value:function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}},{key:"getPredecessorKey",value:function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}},{key:"isEmpty",value:function(){return this.root_.isEmpty()}},{key:"count",value:function(){return this.root_.count()}},{key:"minKey",value:function(){return this.root_.minKey()}},{key:"maxKey",value:function(){return this.root_.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root_.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.root_.reverseTraversal(e)}},{key:"getIterator",value:function(e){return new Ze(this.root_,null,this.comparator_,!1,e)}},{key:"getIteratorFrom",value:function(e,t){return new Ze(this.root_,e,this.comparator_,!1,t)}},{key:"getReverseIteratorFrom",value:function(e,t){return new Ze(this.root_,e,this.comparator_,!0,t)}},{key:"getReverseIterator",value:function(e){return new Ze(this.root_,null,this.comparator_,!0,e)}}]),e}();function it(e,t){return q(e.name,t.name)}function at(e,t){return q(e,t)}rt.EMPTY_NODE=new nt;var ot,ut,st,lt=function(e){return"number"===typeof e?"number:"+Y(e):"string:"+e},ct=function(e){if(e.isLeafNode()){var t=e.val();Object(y.e)("string"===typeof t||"number"===typeof t||"object"===typeof t&&Object(y.j)(t,".sv"),"Priority must be a string or number.")}else Object(y.e)(e===tt||e.isEmpty(),"priority of unexpected type.");Object(y.e)(e===tt||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},ht=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.__childrenNodeConstructor.EMPTY_NODE;Object(f.a)(this,e),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Object(y.e)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),ct(this.priorityNode_)}return Object(d.a)(e,[{key:"isLeafNode",value:function(){return!0}},{key:"getPriority",value:function(){return this.priorityNode_}},{key:"updatePriority",value:function(t){return new e(this.value_,t)}},{key:"getImmediateChild",value:function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"getChild",value:function(t){return Me(t)?this:".priority"===xe(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}},{key:"hasChild",value:function(){return!1}},{key:"getPredecessorChildName",value:function(e,t){return null}},{key:"updateImmediateChild",value:function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}},{key:"updateChild",value:function(t,n){var r=xe(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(Object(y.e)(".priority"!==r||1===Ne(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ae(t),n)))}},{key:"isEmpty",value:function(){return!1}},{key:"numChildren",value:function(){return 0}},{key:"forEachChild",value:function(e,t){return!1}},{key:"val",value:function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+lt(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?Y(this.value_):this.value_,this.lazyHash_=x(e)}return this.lazyHash_}},{key:"getValue",value:function(){return this.value_}},{key:"compareTo",value:function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(Object(y.e)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}},{key:"compareToLeafNode_",value:function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return Object(y.e)(i>=0,"Unknown leaf type: "+n),Object(y.e)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i}},{key:"withIndex",value:function(){return this}},{key:"isIndexed",value:function(){return!0}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}],[{key:"__childrenNodeConstructor",set:function(e){ot=e},get:function(){return ot}}]),e}();ht.VALUE_TYPE_ORDER=["object","boolean","number","string"];var ft,dt,pt=new(function(e){function t(){return Object(f.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(d.a)(t,[{key:"compare",value:function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?q(e.name,t.name):i}},{key:"isDefinedOn",value:function(e){return!e.getPriority().isEmpty()}},{key:"indexedValueChanged",value:function(e,t){return!e.getPriority().equals(t.getPriority())}},{key:"minPost",value:function(){return Ye.MIN}},{key:"maxPost",value:function(){return new Ye(B,new ht("[PRIORITY-POST]",st))}},{key:"makePost",value:function(e,t){var n=ut(e);return new Ye(t,new ht("[PRIORITY-POST]",n))}},{key:"toString",value:function(){return".priority"}}]),t}($e)),vt=Math.log(2),yt=function(){function e(t){Object(f.a)(this,e);var n;this.count=(n=t+1,parseInt(Math.log(n)/vt,10)),this.current_=this.count-1;var r,i=(r=this.count,parseInt(Array(r+1).join("1"),2));this.bits_=t+1&i}return Object(d.a)(e,[{key:"nextBitIsOne",value:function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e}}]),e}(),gt=function(e,t,n,r){e.sort(t);var i=function(t){for(var r=null,i=null,a=e.length,o=function(t,r){var i=a-t,o=a;a-=t;var s=function t(r,i){var a,o,u=i-r;if(0===u)return null;if(1===u)return a=e[r],o=n?n(a):a,new et(o,a.node,et.BLACK,null,null);var s=parseInt(u/2,10)+r,l=t(r,s),c=t(s+1,i);return a=e[s],o=n?n(a):a,new et(o,a.node,et.BLACK,l,c)}(i+1,o),l=e[i],c=n?n(l):l;u(new et(c,l.node,r,null,s))},u=function(e){r?(r.left=e,r=e):(i=e,r=e)},s=0;s<t.count;++s){var l=t.nextBitIsOne(),c=Math.pow(2,t.count-(s+1));l?o(c,et.BLACK):(o(c,et.BLACK),o(c,et.RED))}return i}(new yt(e.length));return new rt(r||t,i)},mt={},bt=function(){function e(t,n){Object(f.a)(this,e),this.indexes_=t,this.indexSet_=n}return Object(d.a)(e,[{key:"get",value:function(e){var t=Object(y.F)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof rt?t:null}},{key:"hasIndex",value:function(e){return Object(y.j)(this.indexSet_,e.toString())}},{key:"addIndex",value:function(t,n){Object(y.e)(t!==Je,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],a=!1,o=n.getIterator(Ye.Wrap),u=o.getNext();u;)a=a||t.isDefinedOn(u.node),i.push(u),u=o.getNext();r=a?gt(i,t.getCompare()):mt;var s=t.toString(),l=Object.assign({},this.indexSet_);l[s]=t;var c=Object.assign({},this.indexes_);return c[s]=r,new e(c,l)}},{key:"addToIndexes",value:function(t,n){var r=this;return new e(Object(y.D)(this.indexes_,function(e,i){var a=Object(y.F)(r.indexSet_,i);if(Object(y.e)(a,"Missing index implementation for "+i),e===mt){if(a.isDefinedOn(t.node)){for(var o=[],u=n.getIterator(Ye.Wrap),s=u.getNext();s;)s.name!==t.name&&o.push(s),s=u.getNext();return o.push(t),gt(o,a.getCompare())}return mt}var l=n.get(t.name),c=e;return l&&(c=c.remove(new Ye(t.name,l))),c.insert(t,t.node)}),this.indexSet_)}},{key:"removeFromIndexes",value:function(t,n){return new e(Object(y.D)(this.indexes_,function(e){if(e===mt)return e;var r=n.get(t.name);return r?e.remove(new Ye(t.name,r)):e}),this.indexSet_)}}],[{key:"Default",get:function(){return Object(y.e)(mt&&pt,"ChildrenNode.ts has not been loaded"),ft=ft||new e({".priority":mt},{".priority":pt})}}]),e}(),kt=function(){function e(t,n,r){Object(f.a)(this,e),this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&ct(this.priorityNode_),this.children_.isEmpty()&&Object(y.e)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object(d.a)(e,[{key:"isLeafNode",value:function(){return!1}},{key:"getPriority",value:function(){return this.priorityNode_||dt}},{key:"updatePriority",value:function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}},{key:"getImmediateChild",value:function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?dt:t}},{key:"getChild",value:function(e){var t=xe(e);return null===t?this:this.getImmediateChild(t).getChild(Ae(e))}},{key:"hasChild",value:function(e){return null!==this.children_.get(e)}},{key:"updateImmediateChild",value:function(t,n){if(Object(y.e)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,a=new Ye(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(a,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(a,this.children_));var o=r.isEmpty()?dt:this.priorityNode_;return new e(r,o,i)}},{key:"updateChild",value:function(e,t){var n=xe(e);if(null===n)return t;Object(y.e)(".priority"!==xe(e)||1===Ne(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(Ae(e),t);return this.updateImmediateChild(n,r)}},{key:"isEmpty",value:function(){return this.children_.isEmpty()}},{key:"numChildren",value:function(){return this.children_.count()}},{key:"val",value:function(t){if(this.isEmpty())return null;var n={},r=0,i=0,a=!0;if(this.forEachChild(pt,function(o,u){n[o]=u.val(t),r++,a&&e.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):a=!1}),!t&&a&&i<2*r){var o=[];for(var u in n)o[u]=n[u];return o}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}},{key:"hash",value:function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+lt(this.getPriority().val())+":"),this.forEachChild(pt,function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":x(e)}return this.lazyHash_}},{key:"getPredecessorChildName",value:function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ye(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)}},{key:"getFirstChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()}},{key:"getFirstChild",value:function(e){var t=this.getFirstChildName(e);return t?new Ye(t,this.children_.get(t)):null}},{key:"getLastChildName",value:function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()}},{key:"getLastChild",value:function(e){var t=this.getLastChildName(e);return t?new Ye(t,this.children_.get(t)):null}},{key:"forEachChild",value:function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal(function(e){return t(e.name,e.node)}):this.children_.inorderTraversal(t)}},{key:"getIterator",value:function(e){return this.getIteratorFrom(e.minPost(),e)}},{key:"getIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,function(e){return e});for(var r=this.children_.getIteratorFrom(e.name,Ye.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r}},{key:"getReverseIterator",value:function(e){return this.getReverseIteratorFrom(e.maxPost(),e)}},{key:"getReverseIteratorFrom",value:function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,function(e){return e});for(var r=this.children_.getReverseIteratorFrom(e.name,Ye.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r}},{key:"compareTo",value:function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===_t?-1:0}},{key:"withIndex",value:function(t){if(t===Je||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}},{key:"isIndexed",value:function(e){return e===Je||this.indexMap_.hasIndex(e)}},{key:"equals",value:function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(pt),r=t.getIterator(pt),i=n.getNext(),a=r.getNext();i&&a;){if(i.name!==a.name||!i.node.equals(a.node))return!1;i=n.getNext(),a=r.getNext()}return null===i&&null===a}return!1}return!1}},{key:"resolveIndex_",value:function(e){return e===Je?null:this.indexMap_.get(e.toString())}}],[{key:"EMPTY_NODE",get:function(){return dt||(dt=new e(new rt(at),null,bt.Default))}}]),e}();kt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var _t=new(function(e){function t(){return Object(f.a)(this,t),Object(s.a)(this,Object(l.a)(t).call(this,new rt(at),kt.EMPTY_NODE,bt.Default))}return Object(c.a)(t,e),Object(d.a)(t,[{key:"compareTo",value:function(e){return e===this?0:1}},{key:"equals",value:function(e){return e===this}},{key:"getPriority",value:function(){return this}},{key:"getImmediateChild",value:function(e){return kt.EMPTY_NODE}},{key:"isEmpty",value:function(){return!1}}]),t}(kt));Object.defineProperties(Ye,{MIN:{value:new Ye(z,kt.EMPTY_NODE)},MAX:{value:new Ye(B,_t)}}),Xe.__EMPTY_NODE=kt.EMPTY_NODE,ht.__childrenNodeConstructor=kt,tt=_t,function(e){st=e}(_t);var wt=!0;function Ot(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return kt.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Object(y.e)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new ht(e,Ot(t));if(e instanceof Array||!wt){var n=kt.EMPTY_NODE;return Q(e,function(t,r){if(Object(y.j)(e,t)&&"."!==t.substring(0,1)){var i=Ot(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}}),n.updatePriority(Ot(t))}var r=[],i=!1;if(Q(e,function(e,t){if("."!==e.substring(0,1)){var n=Ot(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Ye(e,n)))}}),0===r.length)return kt.EMPTY_NODE;var a=gt(r,it,function(e){return e.name},at);if(i){var o=gt(r,pt.getCompare());return new kt(a,Ot(t),new bt({".priority":o},{".priority":pt}))}return new kt(a,Ot(t),bt.Default)}!function(e){ut=e}(Ot);var Et=function(e){function t(e){var n;return Object(f.a)(this,t),(n=Object(s.a)(this,Object(l.a)(t).call(this))).indexPath_=e,Object(y.e)(!Me(e)&&".priority"!==xe(e),"Can't create PathIndex with empty path or .priority key"),n}return Object(c.a)(t,e),Object(d.a)(t,[{key:"extractChild",value:function(e){return e.getChild(this.indexPath_)}},{key:"isDefinedOn",value:function(e){return!e.getChild(this.indexPath_).isEmpty()}},{key:"compare",value:function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?q(e.name,t.name):i}},{key:"makePost",value:function(e,t){var n=Ot(e),r=kt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ye(t,r)}},{key:"maxPost",value:function(){var e=kt.EMPTY_NODE.updateChild(this.indexPath_,_t);return new Ye(B,e)}},{key:"toString",value:function(){return Re(this.indexPath_,0).join("/")}}]),t}($e),Ct=new(function(e){function t(){return Object(f.a)(this,t),Object(s.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(d.a)(t,[{key:"compare",value:function(e,t){var n=e.node.compareTo(t.node);return 0===n?q(e.name,t.name):n}},{key:"isDefinedOn",value:function(e){return!0}},{key:"indexedValueChanged",value:function(e,t){return!e.equals(t)}},{key:"minPost",value:function(){return Ye.MIN}},{key:"maxPost",value:function(){return Ye.MAX}},{key:"makePost",value:function(e,t){var n=Ot(e);return new Ye(t,n)}},{key:"toString",value:function(){return".value"}}]),t}($e)),St="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){var e=0,t=[]}();function Tt(e){return{type:"value",snapshotNode:e}}function jt(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function It(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function xt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var Nt=function(){function e(){Object(f.a)(this,e),this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pt}return Object(d.a)(e,[{key:"hasStart",value:function(){return this.startSet_}},{key:"hasStartAfter",value:function(){return this.startAfterSet_}},{key:"hasEndBefore",value:function(){return this.endBeforeSet_}},{key:"isViewFromLeft",value:function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}},{key:"getIndexStartValue",value:function(){return Object(y.e)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}},{key:"getIndexStartName",value:function(){return Object(y.e)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:z}},{key:"hasEnd",value:function(){return this.endSet_}},{key:"getIndexEndValue",value:function(){return Object(y.e)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}},{key:"getIndexEndName",value:function(){return Object(y.e)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:B}},{key:"hasLimit",value:function(){return this.limitSet_}},{key:"hasAnchoredLimit",value:function(){return this.limitSet_&&""!==this.viewFrom_}},{key:"getLimit",value:function(){return Object(y.e)(this.limitSet_,"Only valid if limit has been set"),this.limit_}},{key:"getIndex",value:function(){return this.index_}},{key:"loadsAllData",value:function(){return!(this.startSet_||this.endSet_||this.limitSet_)}},{key:"isDefault",value:function(){return this.loadsAllData()&&this.index_===pt}},{key:"copy",value:function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}]),e}();function At(e){var t,n={};return e.isDefault()?n:(e.index_===pt?t="$priority":e.index_===Ct?t="$value":e.index_===Je?t="$key":(Object(y.e)(e.index_ instanceof Et,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=Object(y.I)(t),e.startSet_&&(n.startAt=Object(y.I)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+Object(y.I)(e.indexStartName_))),e.endSet_&&(n.endAt=Object(y.I)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+Object(y.I)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_),n)}function Pt(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==pt&&(t.i=e.index_.toString()),t}var Rt=function(e){function t(e,n,r,i){var a;return Object(f.a)(this,t),(a=Object(s.a)(this,Object(l.a)(t).call(this))).repoInfo_=e,a.onDataUpdate_=n,a.authTokenProvider_=r,a.appCheckTokenProvider_=i,a.log_=L("p:rest:"),a.listens_={},a}return Object(c.a)(t,e),Object(d.a)(t,[{key:"reportStats",value:function(e){throw new Error("Method not implemented.")}},{key:"listen",value:function(e,n,r,i){var a=this,o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);var u=t.getListenId_(e,r),s={};this.listens_[u]=s;var l=At(e._queryParams);this.restRequest_(o+".json",l,function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(o,n,!1,r),Object(y.F)(a.listens_,u)===s)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)})}},{key:"unlisten",value:function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]}},{key:"get",value:function(e){var t=this,n=At(e._queryParams),r=e._path.toString(),i=new y.a;return this.restRequest_(r+".json",n,function(e,n){var a=n;404===e&&(a=null,e=null),null===e?(t.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}},{key:"refreshAuthToken",value:function(e){}},{key:"restRequest_",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(function(i){var o=Object(a.a)(i,2),u=o[0],s=o[1];u&&u.accessToken&&(n.auth=u.accessToken),s&&s.token&&(n.ac=s.token);var l=(t.repoInfo_.secure?"https://":"http://")+t.repoInfo_.host+e+"?ns="+t.repoInfo_.namespace+Object(y.E)(n);t.log_("Sending REST request for "+l);var c=new XMLHttpRequest;c.onreadystatechange=function(){if(r&&4===c.readyState){t.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);var e=null;if(c.status>=200&&c.status<300){try{e=Object(y.C)(c.responseText)}catch(n){U("Failed to parse JSON response for "+l+": "+c.responseText)}r(null,e)}else 401!==c.status&&404!==c.status&&U("Got unsuccessful REST response for "+l+" Status: "+c.status),r(c.status);r=null}},c.open("GET",l,!0),c.send()})}}],[{key:"getListenId_",value:function(e,t){return void 0!==t?"tag$"+t:(Object(y.e)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}}]),t}(Oe),Dt=function(){function e(){Object(f.a)(this,e),this.rootNode_=kt.EMPTY_NODE}return Object(d.a)(e,[{key:"getNode",value:function(e){return this.rootNode_.getChild(e)}},{key:"updateSnapshot",value:function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}]),e}();function Lt(){return{value:null,children:new Map}}function Mt(e,t,n){if(Me(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=xe(t);e.children.has(r)||e.children.set(r,Lt()),Mt(e.children.get(r),t=Ae(t),n)}}function Ft(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(function(e,n){t(n,e)})}(e,function(e,r){Ft(r,new je(t.toString()+"/"+e),n)})}var Ut,Vt=function(){function e(t){Object(f.a)(this,e),this.collection_=t,this.last_=null}return Object(d.a)(e,[{key:"get",value:function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Q(this.last_,function(e,n){t[e]=t[e]-n}),this.last_=e,t}}]),e}(),zt=1e4,Bt=3e4,qt=function(){function e(t,n){Object(f.a)(this,e),this.server_=n,this.statsToReport_={},this.statsListener_=new Vt(t);var r=zt+(Bt-zt)*Math.random();ee(this.reportStats_.bind(this),Math.floor(r))}return Object(d.a)(e,[{key:"reportStats_",value:function(){var e=this,t=this.statsListener_.get(),n={},r=!1;Q(t,function(t,i){i>0&&Object(y.j)(e.statsToReport_,t)&&(n[t]=i,r=!0)}),r&&this.server_.reportStats(n),ee(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}]),e}();function Ht(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ut||(Ut={}));var Wt,Kt=function(){function e(t,n,r){Object(f.a)(this,e),this.path=t,this.affectedTree=n,this.revert=r,this.type=Ut.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return Object(d.a)(e,[{key:"operationForChild",value:function(t){if(Me(this.path)){if(null!=this.affectedTree.value)return Object(y.e)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new je(t));return new e(Ie(),n,this.revert)}return Object(y.e)(xe(this.path)===t,"operationForChild called for unrelated child."),new e(Ae(this.path),this.affectedTree,this.revert)}}]),e}(),Gt=function(){function e(t,n,r){Object(f.a)(this,e),this.source=t,this.path=n,this.snap=r,this.type=Ut.OVERWRITE}return Object(d.a)(e,[{key:"operationForChild",value:function(t){return Me(this.path)?new e(this.source,Ie(),this.snap.getImmediateChild(t)):new e(this.source,Ae(this.path),this.snap)}}]),e}(),Qt=function(){function e(t,n,r){Object(f.a)(this,e),this.source=t,this.path=n,this.children=r,this.type=Ut.MERGE}return Object(d.a)(e,[{key:"operationForChild",value:function(t){if(Me(this.path)){var n=this.children.subtree(new je(t));return n.isEmpty()?null:n.value?new Gt(this.source,Ie(),n.value):new e(this.source,Ie(),n)}return Object(y.e)(xe(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,Ae(this.path),this.children)}},{key:"toString",value:function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}]),e}(),Yt=function(){function e(t,n,r){Object(f.a)(this,e),this.node_=t,this.fullyInitialized_=n,this.filtered_=r}return Object(d.a)(e,[{key:"isFullyInitialized",value:function(){return this.fullyInitialized_}},{key:"isFiltered",value:function(){return this.filtered_}},{key:"isCompleteForPath",value:function(e){if(Me(e))return this.isFullyInitialized()&&!this.filtered_;var t=xe(e);return this.isCompleteForChild(t)}},{key:"isCompleteForChild",value:function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}},{key:"getNode",value:function(){return this.node_}}]),e}();function $t(e,t,n,r,i,a){var o=r.filter(function(e){return e.type===n});o.sort(function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw Object(y.f)("Should only compare child_ events.");var r=new Ye(t.childName,t.snapshotNode),i=new Ye(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)}),o.forEach(function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_),t)}(e,n,a);i.forEach(function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}function Xt(e,t){return{eventCache:e,serverCache:t}}function Jt(e,t,n,r){return Xt(new Yt(t,n,r),e.serverCache)}function Zt(e,t,n,r){return Xt(e.eventCache,new Yt(t,n,r))}function en(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function tn(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var nn=function(){return Wt||(Wt=new rt(H)),Wt},rn=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:nn();Object(f.a)(this,e),this.value=t,this.children=n}return Object(d.a)(e,[{key:"isEmpty",value:function(){return null===this.value&&this.children.isEmpty()}},{key:"findRootMostMatchingPathAndValue",value:function(e,t){if(null!=this.value&&t(this.value))return{path:Ie(),value:this.value};if(Me(e))return null;var n=xe(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(Ae(e),t);return null!=i?{path:Le(new je(n),i.path),value:i.value}:null}return null}},{key:"findRootMostValueAndPath",value:function(e){return this.findRootMostMatchingPathAndValue(e,function(){return!0})}},{key:"subtree",value:function(t){if(Me(t))return this;var n=xe(t),r=this.children.get(n);return null!==r?r.subtree(Ae(t)):new e(null)}},{key:"set",value:function(t,n){if(Me(t))return new e(n,this.children);var r=xe(t),i=(this.children.get(r)||new e(null)).set(Ae(t),n),a=this.children.insert(r,i);return new e(this.value,a)}},{key:"remove",value:function(t){if(Me(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=xe(t),r=this.children.get(n);if(r){var i,a=r.remove(Ae(t));return i=a.isEmpty()?this.children.remove(n):this.children.insert(n,a),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this}},{key:"get",value:function(e){if(Me(e))return this.value;var t=xe(e),n=this.children.get(t);return n?n.get(Ae(e)):null}},{key:"setTree",value:function(t,n){if(Me(t))return n;var r,i=xe(t),a=(this.children.get(i)||new e(null)).setTree(Ae(t),n);return r=a.isEmpty()?this.children.remove(i):this.children.insert(i,a),new e(this.value,r)}},{key:"fold",value:function(e){return this.fold_(Ie(),e)}},{key:"fold_",value:function(e,t){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(Le(e,r),t)}),t(e,this.value,n)}},{key:"findOnPath",value:function(e,t){return this.findOnPath_(e,Ie(),t)}},{key:"findOnPath_",value:function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Me(e))return null;var i=xe(e),a=this.children.get(i);return a?a.findOnPath_(Ae(e),Le(t,i),n):null}},{key:"foreachOnPath",value:function(e,t){return this.foreachOnPath_(e,Ie(),t)}},{key:"foreachOnPath_",value:function(t,n,r){if(Me(t))return this;this.value&&r(n,this.value);var i=xe(t),a=this.children.get(i);return a?a.foreachOnPath_(Ae(t),Le(n,i),r):new e(null)}},{key:"foreach",value:function(e){this.foreach_(Ie(),e)}},{key:"foreach_",value:function(e,t){this.children.inorderTraversal(function(n,r){r.foreach_(Le(e,n),t)}),this.value&&t(e,this.value)}},{key:"foreachChild",value:function(e){this.children.inorderTraversal(function(t,n){n.value&&e(t,n.value)})}}],[{key:"fromObject",value:function(t){var n=new e(null);return Q(t,function(e,t){n=n.set(new je(e),t)}),n}}]),e}(),an=function(){function e(t){Object(f.a)(this,e),this.writeTree_=t}return Object(d.a)(e,null,[{key:"empty",value:function(){return new e(new rn(null))}}]),e}();function on(e,t,n){if(Me(t))return new an(new rn(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,a=r.value,o=Fe(i,t);return a=a.updateChild(o,n),new an(e.writeTree_.set(i,a))}var u=new rn(n),s=e.writeTree_.setTree(t,u);return new an(s)}function un(e,t,n){var r=e;return Q(n,function(e,n){r=on(r,Le(t,e),n)}),r}function sn(e,t){if(Me(t))return an.empty();var n=e.writeTree_.setTree(t,new rn(null));return new an(n)}function ln(e,t){return null!=cn(e,t)}function cn(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Fe(n.path,t)):null}function hn(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(pt,function(e,n){t.push(new Ye(e,n))}):e.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new Ye(e,n.value))}),t}function fn(e,t){if(Me(t))return e;var n=cn(e,t);return new an(null!=n?new rn(n):e.writeTree_.subtree(t))}function dn(e){return e.writeTree_.isEmpty()}function pn(e,t){return function e(t,n,r){if(null!=n.value)return r.updateChild(t,n.value);var i=null;return n.children.inorderTraversal(function(n,a){".priority"===n?(Object(y.e)(null!==a.value,"Priority writes must always be leaf nodes"),i=a.value):r=e(Le(t,n),a,r)}),r.getChild(t).isEmpty()||null===i||(r=r.updateChild(Le(t,".priority"),i)),r}(Ie(),e.writeTree_,t)}function vn(e,t){return jn(t,e)}function yn(e,t){var n=e.allWrites.findIndex(function(e){return e.writeId===t});Object(y.e)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,o=e.allWrites.length-1;i&&o>=0;){var u=e.allWrites[o];u.visible&&(o>=n&&gn(u,r.path)?i=!1:Ve(r.path,u.path)&&(a=!0)),o--}if(i){if(a)return function(e){e.visibleWrites=bn(e.allWrites,mn,Ie()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=sn(e.visibleWrites,r.path):Q(r.children,function(t){e.visibleWrites=sn(e.visibleWrites,Le(r.path,t))});return!0}return!1}function gn(e,t){if(e.snap)return Ve(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&Ve(Le(e.path,n),t))return!0;return!1}function mn(e){return e.visible}function bn(e,t,n){for(var r=an.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var o=a.path,u=void 0;if(a.snap)Ve(n,o)?r=on(r,u=Fe(n,o),a.snap):Ve(o,n)&&(u=Fe(o,n),r=on(r,Ie(),a.snap.getChild(u)));else{if(!a.children)throw Object(y.f)("WriteRecord should have .snap or .children");if(Ve(n,o))r=un(r,u=Fe(n,o),a.children);else if(Ve(o,n))if(Me(u=Fe(o,n)))r=un(r,Ie(),a.children);else{var s=Object(y.F)(a.children,xe(u));if(s){var l=s.getChild(Ae(u));r=on(r,Ie(),l)}}}}}return r}function kn(e,t,n,r,i){if(r||i){var a=fn(e.visibleWrites,t);if(!i&&dn(a))return n;if(i||null!=n||ln(a,Ie())){return pn(bn(e.allWrites,function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Ve(e.path,t)||Ve(t,e.path))},t),n||kt.EMPTY_NODE)}return null}var o=cn(e.visibleWrites,t);if(null!=o)return o;var u=fn(e.visibleWrites,t);return dn(u)?n:null!=n||ln(u,Ie())?pn(u,n||kt.EMPTY_NODE):null}function _n(e,t,n,r){return kn(e.writeTree,e.treePath,t,n,r)}function wn(e,t){return function(e,t,n){var r=kt.EMPTY_NODE,i=cn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(pt,function(e,t){r=r.updateImmediateChild(e,t)}),r;if(n){var a=fn(e.visibleWrites,t);return n.forEachChild(pt,function(e,t){var n=pn(fn(a,new je(e)),t);r=r.updateImmediateChild(e,n)}),hn(a).forEach(function(e){r=r.updateImmediateChild(e.name,e.node)}),r}return hn(fn(e.visibleWrites,t)).forEach(function(e){r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function On(e,t,n,r){return function(e,t,n,r,i){Object(y.e)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Le(t,n);if(ln(e.visibleWrites,a))return null;var o=fn(e.visibleWrites,a);return dn(o)?i.getChild(n):pn(o,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function En(e,t){return function(e,t){return cn(e.visibleWrites,t)}(e.writeTree,Le(e.treePath,t))}function Cn(e,t,n,r,i,a){return function(e,t,n,r,i,a,o){var u,s=fn(e.visibleWrites,t),l=cn(s,Ie());if(null!=l)u=l;else{if(null==n)return[];u=pn(s,n)}if((u=u.withIndex(o)).isEmpty()||u.isLeafNode())return[];for(var c=[],h=o.getCompare(),f=a?u.getReverseIteratorFrom(r,o):u.getIteratorFrom(r,o),d=f.getNext();d&&c.length<i;)0!==h(d,r)&&c.push(d),d=f.getNext();return c}(e.writeTree,e.treePath,t,n,r,i,a)}function Sn(e,t,n){return function(e,t,n,r){var i=Le(t,n),a=cn(e.visibleWrites,i);return null!=a?a:r.isCompleteForChild(n)?pn(fn(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Tn(e,t){return jn(Le(e.treePath,t),e.writeTree)}function jn(e,t){return{treePath:e,writeTree:t}}var In=function(){function e(){Object(f.a)(this,e),this.changeMap=new Map}return Object(d.a)(e,[{key:"trackChildChange",value:function(e){var t=e.type,n=e.childName;Object(y.e)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Object(y.e)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,xt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,It(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,jt(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Object(y.f)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,xt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}},{key:"getChanges",value:function(){return Array.from(this.changeMap.values())}}]),e}(),xn=new(function(){function e(){Object(f.a)(this,e)}return Object(d.a)(e,[{key:"getCompleteChild",value:function(e){return null}},{key:"getChildAfterChild",value:function(e,t,n){return null}}]),e}()),Nn=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;Object(f.a)(this,e),this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}return Object(d.a)(e,[{key:"getCompleteChild",value:function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Yt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Sn(this.writes_,e,n)}},{key:"getChildAfterChild",value:function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:tn(this.viewCache_),i=Cn(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}]),e}();function An(e,t,n,r,i){var a,o,u=new In;if(n.type===Ut.OVERWRITE){var s=n;s.source.fromUser?a=Dn(e,t,s.path,s.snap,r,i,u):(Object(y.e)(s.source.fromServer,"Unknown source."),o=s.source.tagged||t.serverCache.isFiltered()&&!Me(s.path),a=Rn(e,t,s.path,s.snap,r,i,o,u))}else if(n.type===Ut.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,a,o){var u=t;return r.foreach(function(r,s){var l=Le(n,r);Ln(t,xe(l))&&(u=Dn(e,u,l,s,i,a,o))}),r.foreach(function(r,s){var l=Le(n,r);Ln(t,xe(l))||(u=Dn(e,u,l,s,i,a,o))}),u}(e,t,l.path,l.children,r,i,u):(Object(y.e)(l.source.fromServer,"Unknown source."),o=l.source.tagged||t.serverCache.isFiltered(),a=Fn(e,t,l.path,l.children,r,i,o,u))}else if(n.type===Ut.ACK_USER_WRITE){var c=n;a=c.revert?function(e,t,n,r,i,a){var o;if(null!=En(r,n))return t;var u,s=new Nn(r,t,i),l=t.eventCache.getNode();if(Me(n)||".priority"===xe(n)){var c;if(t.serverCache.isFullyInitialized())c=_n(r,tn(t));else{var h=t.serverCache.getNode();Object(y.e)(h instanceof kt,"serverChildren would be complete if leaf node"),c=wn(r,h)}c=c,u=e.filter.updateFullNode(l,c,a)}else{var f=xe(n),d=Sn(r,f,t.serverCache);null==d&&t.serverCache.isCompleteForChild(f)&&(d=l.getImmediateChild(f)),(u=null!=d?e.filter.updateChild(l,f,d,Ae(n),s,a):t.eventCache.getNode().hasChild(f)?e.filter.updateChild(l,f,kt.EMPTY_NODE,Ae(n),s,a):l).isEmpty()&&t.serverCache.isFullyInitialized()&&(o=_n(r,tn(t))).isLeafNode()&&(u=e.filter.updateFullNode(u,o,a))}return o=t.serverCache.isFullyInitialized()||null!=En(r,Ie()),Jt(t,u,o,e.filter.filtersNodes())}(e,t,c.path,r,i,u):function(e,t,n,r,i,a,o){if(null!=En(i,n))return t;var u=t.serverCache.isFiltered(),s=t.serverCache;if(null!=r.value){if(Me(n)&&s.isFullyInitialized()||s.isCompleteForPath(n))return Rn(e,t,n,s.getNode().getChild(n),i,a,u,o);if(Me(n)){var l=new rn(null);return s.getNode().forEachChild(Je,function(e,t){l=l.set(new je(e),t)}),Fn(e,t,n,l,i,a,u,o)}return t}var c=new rn(null);return r.foreach(function(e,t){var r=Le(n,e);s.isCompleteForPath(r)&&(c=c.set(e,s.getNode().getChild(r)))}),Fn(e,t,n,c,i,a,u,o)}(e,t,c.path,c.affectedTree,r,i,u)}else{if(n.type!==Ut.LISTEN_COMPLETE)throw Object(y.f)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var a=t.serverCache,o=Zt(t,a.getNode(),a.isFullyInitialized()||Me(n),a.isFiltered());return Pn(e,o,n,r,xn,i)}(e,t,n.path,r,u)}var h=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=en(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&n.push(Tt(en(t)))}}(t,a,h),{viewCache:a,changes:h}}function Pn(e,t,n,r,i,a){var o,u,s=t.eventCache;if(null!=En(r,n))return t;if(Me(n))if(Object(y.e)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=tn(t),c=wn(r,l instanceof kt?l:kt.EMPTY_NODE);o=e.filter.updateFullNode(t.eventCache.getNode(),c,a)}else{var h=_n(r,tn(t));o=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var f=xe(n);if(".priority"===f){Object(y.e)(1===Ne(n),"Can't have a priority with additional path components");var d=s.getNode(),p=On(r,n,d,u=t.serverCache.getNode());o=null!=p?e.filter.updatePriority(d,p):s.getNode()}else{var v,g=Ae(n);if(s.isCompleteForChild(f)){u=t.serverCache.getNode();var m=On(r,n,s.getNode(),u);v=null!=m?s.getNode().getImmediateChild(f).updateChild(g,m):s.getNode().getImmediateChild(f)}else v=Sn(r,f,t.serverCache);o=null!=v?e.filter.updateChild(s.getNode(),f,v,g,i,a):s.getNode()}}return Jt(t,o,s.isFullyInitialized()||Me(n),e.filter.filtersNodes())}function Rn(e,t,n,r,i,a,o,u){var s,l=t.serverCache,c=o?e.filter:e.filter.getIndexedFilter();if(Me(n))s=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){var h=l.getNode().updateChild(n,r);s=c.updateFullNode(l.getNode(),h,null)}else{var f=xe(n);if(!l.isCompleteForPath(n)&&Ne(n)>1)return t;var d=Ae(n),p=l.getNode().getImmediateChild(f).updateChild(d,r);s=".priority"===f?c.updatePriority(l.getNode(),p):c.updateChild(l.getNode(),f,p,d,xn,null)}var v=Zt(t,s,l.isFullyInitialized()||Me(n),c.filtersNodes());return Pn(e,v,n,i,new Nn(i,v,a),u)}function Dn(e,t,n,r,i,a,o){var u,s,l=t.eventCache,c=new Nn(i,t,a);if(Me(n))s=e.filter.updateFullNode(t.eventCache.getNode(),r,o),u=Jt(t,s,!0,e.filter.filtersNodes());else{var h=xe(n);if(".priority"===h)s=e.filter.updatePriority(t.eventCache.getNode(),r),u=Jt(t,s,l.isFullyInitialized(),l.isFiltered());else{var f,d=Ae(n),p=l.getNode().getImmediateChild(h);if(Me(d))f=r;else{var v=c.getCompleteChild(h);f=null!=v?".priority"===Pe(d)&&v.getChild(De(d)).isEmpty()?v:v.updateChild(d,r):kt.EMPTY_NODE}if(p.equals(f))u=t;else u=Jt(t,e.filter.updateChild(l.getNode(),h,f,d,c,o),l.isFullyInitialized(),e.filter.filtersNodes())}}return u}function Ln(e,t){return e.eventCache.isCompleteForChild(t)}function Mn(e,t,n){return n.foreach(function(e,n){t=t.updateChild(e,n)}),t}function Fn(e,t,n,r,i,a,o,u){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var s,l=t;s=Me(n)?r:new rn(null).setTree(n,r);var c=t.serverCache.getNode();return s.children.inorderTraversal(function(n,r){if(c.hasChild(n)){var s=Mn(0,t.serverCache.getNode().getImmediateChild(n),r);l=Rn(e,l,new je(n),s,i,a,o,u)}}),s.children.inorderTraversal(function(n,r){var s=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!c.hasChild(n)&&!s){var h=Mn(0,t.serverCache.getNode().getImmediateChild(n),r);l=Rn(e,l,new je(n),h,i,a,o,u)}}),l}var Un;function Vn(e,t){var n=tn(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Me(t)&&!n.getImmediateChild(xe(t)).isEmpty())?n.getChild(t):null}function zn(e,t,n,r){t.type===Ut.MERGE&&null!==t.source.queryId&&(Object(y.e)(tn(e.viewCache_),"We should always have a full cache before handling merges"),Object(y.e)(en(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,o=e.viewCache_,u=An(e.processor_,o,t,n,r);return i=e.processor_,a=u.viewCache,Object(y.e)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),Object(y.e)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),Object(y.e)(u.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,Bn(e,u.changes,u.viewCache.eventCache.getNode(),null)}function Bn(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],a=[];return t.forEach(function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&a.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))}),$t(e,i,"child_removed",t,r,n),$t(e,i,"child_added",t,r,n),$t(e,i,"child_moved",a,r,n),$t(e,i,"child_changed",t,r,n),$t(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var qn;function Hn(e,t,n,r){var i=t.source.queryId;if(null!==i){var a=e.views.get(i);return Object(y.e)(null!=a,"SyncTree gave us an op for an invalid query."),zn(a,t,n,r)}var o,u=[],s=m(e.views.values());try{for(s.s();!(o=s.n()).done;){var l=o.value;u=u.concat(zn(l,t,n,r))}}catch(c){s.e(c)}finally{s.f()}return u}function Wn(e,t){var n,r=null,i=m(e.views.values());try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r||Vn(a,t)}}catch(o){i.e(o)}finally{i.f()}return r}var Kn=function e(t){Object(f.a)(this,e),this.listenProvider_=t,this.syncPointTree_=new rn(null),this.pendingWriteTree_={visibleWrites:an.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function Gn(e,t,n,r,i){return function(e,t,n,r,i){Object(y.e)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=on(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Xn(e,new Gt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function Qn(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(yn(e.pendingWriteTree_,t)){var i=new rn(null);return null!=r.snap?i=i.set(Ie(),!0):Q(r.children,function(e){i=i.set(new je(e),!0)}),Xn(e,new Kt(r.path,i,n))}return[]}function Yn(e,t,n){return Xn(e,new Gt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function $n(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,function(e,n){var r=Wn(n,Fe(e,t));if(r)return r});return kn(r,t,i,n,!0)}function Xn(e,t){return function e(t,n,r,i){if(Me(t.path))return function e(t,n,r,i){var a=n.get(Ie());null==r&&null!=a&&(r=Wn(a,Ie()));var o=[];n.children.inorderTraversal(function(n,a){var u=r?r.getImmediateChild(n):null,s=Tn(i,n),l=t.operationForChild(n);l&&(o=o.concat(e(l,a,u,s)))});a&&(o=o.concat(Hn(a,t,i,r)));return o}(t,n,r,i);var a=n.get(Ie());null==r&&null!=a&&(r=Wn(a,Ie()));var o=[],u=xe(t.path),s=t.operationForChild(u),l=n.children.get(u);if(l&&s){var c=r?r.getImmediateChild(u):null,h=Tn(i,u);o=o.concat(e(s,l,c,h))}return a&&(o=o.concat(Hn(a,t,i,r))),o}(t,e.syncPointTree_,null,vn(e.pendingWriteTree_,Ie()))}function Jn(e,t){return e.tagToQueryMap.get(t)}function Zn(e){var t=e.indexOf("$");return Object(y.e)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new je(e.substr(0,t))}}function er(e,t,n){var r=e.syncPointTree_.get(t);return Object(y.e)(r,"Missing sync point for query tag that we're tracking"),Hn(r,n,vn(e.pendingWriteTree_,t),null)}var tr=function(){function e(t){Object(f.a)(this,e),this.node_=t}return Object(d.a)(e,[{key:"getImmediateChild",value:function(t){return new e(this.node_.getImmediateChild(t))}},{key:"node",value:function(){return this.node_}}]),e}(),nr=function(){function e(t,n){Object(f.a)(this,e),this.syncTree_=t,this.path_=n}return Object(d.a)(e,[{key:"getImmediateChild",value:function(t){var n=Le(this.path_,t);return new e(this.syncTree_,n)}},{key:"node",value:function(){return $n(this.syncTree_,this.path_)}}]),e}(),rr=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},ir=function(e,t,n){return e&&"object"===typeof e?(Object(y.e)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?ar(e[".sv"],t,n):"object"===typeof e[".sv"]?or(e[".sv"],t):void Object(y.e)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},ar=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Object(y.e)(!1,"Unexpected server value: "+e)}},or=function(e,t,n){e.hasOwnProperty("increment")||Object(y.e)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&Object(y.e)(!1,"Unexpected increment value: "+r);var i=t.node();if(Object(y.e)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},ur=function(e,t,n,r){return lr(t,new nr(n,e),r)},sr=function(e,t,n){return lr(e,new tr(t),n)};function lr(e,t,n){var r,i=e.getPriority().val(),a=ir(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var o=e,u=ir(o.getValue(),t,n);return u!==o.getValue()||a!==o.getPriority().val()?new ht(u,Ot(a)):e}var s=e;return r=s,a!==s.getPriority().val()&&(r=r.updatePriority(new ht(a))),s.forEachChild(pt,function(e,i){var a=lr(i,t.getImmediateChild(e),n);a!==i&&(r=r.updateImmediateChild(e,a))}),r}var cr=function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};Object(f.a)(this,e),this.name=t,this.parent=n,this.node=r};function hr(e,t){for(var n=t instanceof je?t:new je(t),r=e,i=xe(n);null!==i;){var a=Object(y.F)(r.node.children,i)||{children:{},childCount:0};r=new cr(i,r,a),i=xe(n=Ae(n))}return r}function fr(e){return e.node.value}function dr(e,t){e.node.value=t,gr(e)}function pr(e){return e.node.childCount>0}function vr(e,t){Q(e.node.children,function(n,r){t(new cr(n,e,r))})}function yr(e){return new je(null===e.parent?e.name:yr(e.parent)+"/"+e.name)}function gr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===fr(e)&&!pr(e)}(n),i=Object(y.j)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,gr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,gr(e))}(e.parent,e.name,e)}var mr=/[\[\].#$\/\u0000-\u001F\u007F]/,br=/[\[\].#$\u0000-\u001F\u007F]/,kr=function(e){return"string"===typeof e&&0!==e.length&&!mr.test(e)},_r=function(e){return"string"===typeof e&&0!==e.length&&!br.test(e)},wr=function e(t,n,r){var i=r instanceof je?new ze(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+qe(i));if("function"===typeof n)throw new Error(t+"contains a function "+qe(i)+" with contents = "+n.toString());if(V(n))throw new Error(t+"contains "+n.toString()+" "+qe(i));if("string"===typeof n&&n.length>10485760/3&&Object(y.G)(n)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+qe(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"===typeof n){var a=!1,o=!1;if(Q(n,function(n,r){if(".value"===n)a=!0;else if(".priority"!==n&&".sv"!==n&&(o=!0,!kr(n)))throw new Error(t+" contains an invalid key ("+n+") "+qe(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var u,s;s=n,(u=i).parts_.length>0&&(u.byteLength_+=1),u.parts_.push(s),u.byteLength_+=Object(y.G)(s),Be(u),e(t,r,i),function(e){var t=e.parts_.pop();e.byteLength_-=Object(y.G)(t),e.parts_.length>0&&(e.byteLength_-=1)}(i)}),a&&o)throw new Error(t+' contains ".value" child '+qe(i)+" in addition to actual children.")}},Or=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!kr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),_r(e)}(n))throw new Error(Object(y.n)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Er=function e(){Object(f.a)(this,e),this.eventLists_=[],this.recursionDepth_=0};function Cr(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],a=i.getPath();null===n||Ue(a,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:a}),n.events.push(i)}n&&e.eventLists_.push(n)}function Sr(e,t,n){Cr(e,n),Tr(e,function(e){return Ve(e,t)||Ve(t,e)})}function Tr(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(jr(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function jr(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();A&&D("event: "+n.toString()),J(r)}}}var Ir="repo_interrupt",xr=25,Nr=function(){function e(t,n,r,i){Object(f.a)(this,e),this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Er,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Lt(),this.transactionQueueTree_=new cr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return Object(d.a)(e,[{key:"toString",value:function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}]),e}();function Ar(e,t,n){if(e.stats_=de(e.repoInfo_),e.forceRestClient_||Z())e.server_=new Rt(e.repoInfo_,function(t,n,r,i){Dr(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(function(){return Lr(e,!0)},0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Object(y.I)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Ge(e.repoInfo_,t,function(t,n,r,i){Dr(e,t,n,r,i)},function(t){Lr(e,t)},function(t){!function(e,t){Q(t,function(t,n){Mr(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(function(t){e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(function(t){e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(e,t){var n=e.toString();return fe[n]||(fe[n]=t()),fe[n]}(e.repoInfo_,function(){return new qt(e.stats_,e.server_)}),e.infoData_=new Dt,e.infoSyncTree_=new Kn({startListening:function(t,n,r,i){var a=[],o=e.infoData_.getNode(t._path);return o.isEmpty()||(a=Yn(e.infoSyncTree_,t._path,o),setTimeout(function(){i("ok")},0)),a},stopListening:function(){}}),Mr(e,"connected",!1),e.serverSyncTree_=new Kn({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,function(n,r){var a=i(n,r);Sr(e.eventQueue_,t._path,a)}),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function Pr(e){var t=e.infoData_.getNode(new je(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Rr(e){return rr({timestamp:Pr(e)})}function Dr(e,t,n,r,i){e.dataUpdateCount++;var a=new je(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var o=[];if(i)if(r){var u=Object(y.D)(n,function(e){return Ot(e)});o=function(e,t,n,r){var i=Jn(e,r);if(i){var a=Zn(i),o=a.path,u=a.queryId,s=Fe(o,t),l=rn.fromObject(n);return er(e,o,new Qt(Ht(u),s,l))}return[]}(e.serverSyncTree_,a,u,i)}else{var s=Ot(n);o=function(e,t,n,r){var i=Jn(e,r);if(null!=i){var a=Zn(i),o=a.path,u=a.queryId,s=Fe(o,t);return er(e,o,new Gt(Ht(u),s,n))}return[]}(e.serverSyncTree_,a,s,i)}else if(r){var l=Object(y.D)(n,function(e){return Ot(e)});o=function(e,t,n){var r=rn.fromObject(n);return Xn(e,new Qt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var c=Ot(n);o=Yn(e.serverSyncTree_,a,c)}var h=a;o.length>0&&(h=qr(e,a)),Sr(e.eventQueue_,h,o)}function Lr(e,t){Mr(e,"connected",t),!1===t&&function(e){Vr(e,"onDisconnectEvents");var t=Rr(e),n=Lt();Ft(e.onDisconnect_,Ie(),function(r,i){var a=ur(r,i,e.serverSyncTree_,t);Mt(n,r,a)});var r=[];Ft(n,Ie(),function(t,n){r=r.concat(Yn(e.serverSyncTree_,t,n));var i=Gr(e,t);qr(e,i)}),e.onDisconnect_=Lt(),Sr(e.eventQueue_,Ie(),r)}(e)}function Mr(e,t,n){var r=new je("/.info/"+t),i=Ot(n);e.infoData_.updateSnapshot(r,i);var a=Yn(e.infoSyncTree_,r,i);Sr(e.eventQueue_,r,a)}function Fr(e){return e.nextWriteId_++}function Ur(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Ir)}function Vr(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];D.apply(void 0,[t].concat(r))}function zr(e,t,n){return $n(e.serverSyncTree_,t,n)||kt.EMPTY_NODE}function Br(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Kr(e,t),fr(t)){var n=Wr(e,t);Object(y.e)(n.length>0,"Sending zero length transaction queue"),n.every(function(e){return 0===e.status})&&function(e,t,n){for(var r=n.map(function(e){return e.currentWriteId}),i=zr(e,t,r),a=i,o=i.hash(),u=0;u<n.length;u++){var s=n[u];Object(y.e)(0===s.status,"tryToSendTransactionQueue_: items in queue should all be run."),s.status=1,s.retryCount++;var l=Fe(t,s.path);a=a.updateChild(l,s.currentOutputSnapshotRaw)}var c=a.val(!0),h=t;e.server_.put(h.toString(),c,function(r){Vr(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var a=[],o=function(t){n[t].status=2,i=i.concat(Qn(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&a.push(function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)}),n[t].unwatcher()},u=0;u<n.length;u++)o(u);Kr(e,hr(e.transactionQueueTree_,t)),Br(e,e.transactionQueueTree_),Sr(e.eventQueue_,t,i);for(var s=0;s<a.length;s++)J(a[s])}else{if("datastale"===r)for(var l=0;l<n.length;l++)3===n[l].status?n[l].status=4:n[l].status=0;else{U("transaction at "+h.toString()+" failed: "+r);for(var c=0;c<n.length;c++)n[c].status=4,n[c].abortReason=r}qr(e,t)}},o)}(e,yr(t),n)}else pr(t)&&vr(t,function(t){Br(e,t)})}function qr(e,t){var n=Hr(e,t),r=yr(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter(function(e){return 0===e.status}).map(function(e){return e.currentWriteId}),o=function(o){var u,s=t[o],l=Fe(n,s.path),c=!1,h=void 0;if(Object(y.e)(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)c=!0,h=s.abortReason,i=i.concat(Qn(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=xr)c=!0,h="maxretry",i=i.concat(Qn(e.serverSyncTree_,s.currentWriteId,!0));else{var f=zr(e,s.path,a);s.currentInputSnapshot=f;var d=t[o].update(f.val());if(void 0!==d){wr("transaction failed: Data returned ",d,s.path);var p=Ot(d),v="object"===typeof d&&null!=d&&Object(y.j)(d,".priority");v||(p=p.updatePriority(f.getPriority()));var g=s.currentWriteId,m=Rr(e),b=sr(p,f,m);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=b,s.currentWriteId=Fr(e),a.splice(a.indexOf(g),1),i=(i=i.concat(Gn(e.serverSyncTree_,s.path,b,s.currentWriteId,s.applyLocally))).concat(Qn(e.serverSyncTree_,g,!0))}else c=!0,h="nodata",i=i.concat(Qn(e.serverSyncTree_,s.currentWriteId,!0))}Sr(e.eventQueue_,n,i),i=[],c&&(t[o].status=2,u=t[o].unwatcher,setTimeout(u,Math.floor(0)),t[o].onComplete&&("nodata"===h?r.push(function(){return t[o].onComplete(null,!1,t[o].currentInputSnapshot)}):r.push(function(){return t[o].onComplete(new Error(h),!1,null)})))},u=0;u<t.length;u++)o(u);Kr(e,e.transactionQueueTree_);for(var s=0;s<r.length;s++)J(r[s]);Br(e,e.transactionQueueTree_)}(e,Wr(e,n),r),r}function Hr(e,t){var n,r=e.transactionQueueTree_;for(n=xe(t);null!==n&&void 0===fr(r);)r=hr(r,n),n=xe(t=Ae(t));return r}function Wr(e,t){var n=[];return function e(t,n,r){var i=fr(n);if(i)for(var a=0;a<i.length;a++)r.push(i[a]);vr(n,function(n){e(t,n,r)})}(e,t,n),n.sort(function(e,t){return e.order-t.order}),n}function Kr(e,t){var n=fr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,dr(t,n.length>0?n:void 0)}vr(t,function(t){Kr(e,t)})}function Gr(e,t){var n=yr(Hr(e,t)),r=hr(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,function(t){Qr(e,t)}),Qr(e,r),function e(t,n,r,i){r&&!i&&n(t),vr(t,function(t){e(t,n,!0,i)}),r&&i&&n(t)}(r,function(t){Qr(e,t)}),n}function Qr(e,t){var n=fr(t);if(n){for(var r=[],i=[],a=-1,o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(Object(y.e)(a===o-1,"All SENT items should be at beginning of queue."),a=o,n[o].status=3,n[o].abortReason="set"):(Object(y.e)(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Qn(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===a?dr(t,void 0):n.length=a+1,Sr(e.eventQueue_,yr(t),i);for(var u=0;u<r.length;u++)J(r[u])}}var Yr=function(e,t){var n=$r(e),r=n.namespace;"firebase.com"===n.domain&&F(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||F("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&U("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new se(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new je(n.pathString)}},$r=function(e){var t="",n="",r="",i="",a="",o=!0,u="https",s=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var c=e.indexOf("/");-1===c&&(c=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(c,h)),c<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(a){}t+="/"+i}return t}(e.substring(c,h)));var f=function(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));var n,r=m(e.split("&"));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(0!==i.length){var a=i.split("=");2===a.length?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):U("Invalid query segment '".concat(i,"' in query '").concat(e,"'"))}}}catch(o){r.e(o)}finally{r.f()}return t}(e.substring(Math.min(e.length,h)));(l=t.indexOf(":"))>=0?(o="https"===u||"wss"===u,s=parseInt(t.substring(l+1),10)):l=t.length;var d=t.slice(0,l);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),a=r}"ns"in f&&(a=f.ns)}return{host:t,port:s,domain:n,subdomain:r,secure:o,scheme:u,pathString:i,namespace:a}},Xr=function(){function e(t,n,r,i){Object(f.a)(this,e),this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}return Object(d.a)(e,[{key:"isEqual",value:function(t){if(!((t=Object(y.o)(t))instanceof e))return!1;var n=this._repo===t._repo,r=Ue(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}},{key:"toJSON",value:function(){return this.toString()}},{key:"toString",value:function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}},{key:"key",get:function(){return Me(this._path)?null:Pe(this._path)}},{key:"ref",get:function(){return new Jr(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=Pt(this._queryParams),t=K(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return Pt(this._queryParams)}}]),e}();var Jr=function(e){function t(e,n){return Object(f.a)(this,t),Object(s.a)(this,Object(l.a)(t).call(this,e,n,new Nt,!1))}return Object(c.a)(t,e),Object(d.a)(t,[{key:"parent",get:function(){var e=De(this._path);return null===e?null:new t(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),t}(Xr);!function(e){Object(y.e)(!Un,"__referenceConstructor has already been defined"),Un=e}(Jr),function(e){Object(y.e)(!qn,"__referenceConstructor has already been defined"),qn=e}(Jr);var Zr="FIREBASE_DATABASE_EMULATOR_HOST",ei={},ti=!1;function ni(t,n,r,i,a){var o=i||t.options.databaseURL;void 0===o&&(t.options.projectId||F("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),D("Using default host for project ",t.options.projectId),o="".concat(t.options.projectId,"-default-rtdb.firebaseio.com"));var u,s=Yr(o,a),l=s.repoInfo,c=void 0;"undefined"!==typeof e&&Object({NODE_ENV:"production",PUBLIC_URL:"/brusi-propiedades"})&&(c=Object({NODE_ENV:"production",PUBLIC_URL:"/brusi-propiedades"})[Zr]),c?(u=!0,o="http://".concat(c,"?ns=").concat(l.namespace),l=(s=Yr(o,a)).repoInfo):u=!s.repoInfo.secure;var h=a&&u?new re(re.OWNER):new ne(t.name,t.options,n);Or("Invalid Firebase Database URL",s),Me(s.path)||F("Database URL must point to the root of a Firebase Database (not including a child path).");var f=function(e,t,n,r){var i=ei[t.name];i||(i={},ei[t.name]=i);var a=i[e.toURLString()];a&&F("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return a=new Nr(e,ti,n,r),i[e.toURLString()]=a,a}(l,t,h,new te(t.name,r));return new ri(f,t)}var ri=function(){function e(t,n){Object(f.a)(this,e),this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}return Object(d.a)(e,[{key:"_delete",value:function(){return null!==this._rootInternal&&(!function(e,t){var n=ei[t];n&&n[e.key]===e||F("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Ur(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}},{key:"_checkNotDeleted",value:function(e){null===this._rootInternal&&F("Cannot call "+e+" on a deleted database.")}},{key:"_repo",get:function(){return this._instanceStarted||(Ar(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new Jr(this._repo,Ie())),this._rootInternal}}]),e}();function ii(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(p.e)(),t=arguments.length>1?arguments[1]:void 0;return Object(p.b)(e,"database").getImmediate({identifier:t})}Ge.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Ge.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var ai;!function(e){w=e}(p.a),Object(p.c)(new v.a("database",function(e,t){var n=t.instanceIdentifier;return ni(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)},"PUBLIC").setMultipleInstances(!0)),Object(p.g)(k,_,ai),Object(p.g)(k,_,"esm2017")}).call(this,n(28))},function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return ja}),n.d(t,"b",function(){return Ja}),n.d(t,"c",function(){return Na}),n.d(t,"d",function(){return Ya});var r=n(27),i=n(24),a=n(8),o=n(3),u=n.n(o),s=n(6),l=n(10),c=n(7),h=n(9),f=n(18),d=n(2),p=n(4),v=n(14),y=n(23),g=n(20),m=n(5),b=n(19);function k(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w="@firebase/firestore",O=function(){function e(t){Object(d.a)(this,e),this.uid=t}return Object(p.a)(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();O.UNAUTHENTICATED=new O(null),O.GOOGLE_CREDENTIALS=new O("google-credentials-uid"),O.FIRST_PARTY=new O("first-party-uid"),O.MOCK_USER=new O("mock-user");var E="9.8.0",C=new g.b("@firebase/firestore");function S(){return C.logLevel}function T(e){if(C.logLevel<=g.a.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(x);C.debug.apply(C,["Firestore (".concat(E,"): ").concat(e)].concat(Object(f.a)(i)))}}function j(e){if(C.logLevel<=g.a.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(x);C.error.apply(C,["Firestore (".concat(E,"): ").concat(e)].concat(Object(f.a)(i)))}}function I(e){if(C.logLevel<=g.a.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(x);C.warn.apply(C,["Firestore (".concat(E,"): ").concat(e)].concat(Object(f.a)(i)))}}function x(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(E,") INTERNAL ASSERTION FAILED: ")+e;throw j(t),new Error(t)}function A(e,t){e||N()}function P(e,t){return e}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},D=function(e){function t(e,n){var r;return Object(d.a)(this,t),(r=Object(l.a)(this,Object(c.a)(t).call(this,e,n))).code=e,r.message=n,r.toString=function(){return"".concat(r.name,": [code=").concat(r.code,"]: ").concat(r.message)},r}return Object(h.a)(t,e),t}(m.c),L=function e(){var t=this;Object(d.a)(this,e),this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},M=function e(t,n){Object(d.a)(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))},F=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable(function(){return t(O.UNAUTHENTICATED)})}},{key:"shutdown",value:function(){}}]),e}(),U=function(){function e(t){Object(d.a)(this,e),this.t=t,this.currentUser=O.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Object(p.a)(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new L;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new L,e.enqueueRetryable(function(){return i(n.currentUser)})};var o=function(){var t=a;e.enqueueRetryable(Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}},e)})))},l=function(e){T("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit(function(e){return l(e)}),setTimeout(function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?l(e):(T("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new L)}},0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return e.i!==t?(T("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(A("string"==typeof n.accessToken),new M(n.accessToken,e.currentUser)):null}):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return A(null===e||"string"==typeof e),new O(e)}}]),e}(),V=function e(t,n,r){Object(d.a)(this,e),this.type="FirstParty",this.user=O.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)},z=function(){function e(t,n,r){Object(d.a)(this,e),this.h=t,this.l=n,this.m=r}return Object(p.a)(e,[{key:"getToken",value:function(){return Promise.resolve(new V(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable(function(){return t(O.FIRST_PARTY)})}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),B=function e(t){Object(d.a)(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)},q=function(){function e(t){Object(d.a)(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Object(p.a)(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&T("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,T("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable(function(){return r(t)})};var i=function(e){T("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit(function(e){return i(e)}),setTimeout(function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):T("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(function(t){return t?(A("string"==typeof t.token),e.p=t.token,new B(t.token)):null}):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),H=function(){function e(t,n){var r=this;Object(d.a)(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Object(p.a)(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function W(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}H.A=-1;var K=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=W(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function G(e,t){return e<t?-1:e>t?1:0}function Q(e,t,n){return e.length===t.length&&e.every(function(e,r){return n(e,t[r])})}var Y=function(){function e(t,n){if(Object(d.a)(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new D(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new D(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new D(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new D(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Object(p.a)(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?G(this.nanoseconds,e.nanoseconds):G(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),$=function(){function e(t){Object(d.a)(this,e),this.timestamp=t}return Object(p.a)(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new Y(0,0))}},{key:"max",value:function(){return new e(new Y(253402300799,999999999))}}]),e}();function X(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function J(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Z(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var ee=function(){function e(t,n,r){Object(d.a)(this,e),void 0===n?n=0:n>t.length&&N(),void 0===r?r=t.length-n:r>t.length-n&&N(),this.segments=t,this.offset=n,this.len=r}return Object(p.a)(e,[{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach(function(e){n.push(e)}):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}},{key:"length",get:function(){return this.len}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),te=function(e){function t(){return Object(d.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"construct",value:function(e,n,r){return new t(e,n,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new D(R.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Object(f.a)(u.split("/").filter(function(e){return e.length>0})))}return new t(e)}},{key:"emptyPath",value:function(){return new t([])}}]),t}(ee),ne=/^[_a-zA-Z][_a-zA-Z0-9]*$/,re=function(e){function t(){return Object(d.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"construct",value:function(e,n,r){return new t(e,n,r)}},{key:"canonicalString",value:function(){return this.toArray().map(function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e}).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return ne.test(e)}},{key:"keyField",value:function(){return new t(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var n=[],r="",i=0,a=function(){if(0===r.length)throw new D(R.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));n.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new D(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new D(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new D(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}},{key:"emptyPath",value:function(){return new t([])}}]),t}(ee);var ie=function(){function e(t){Object(d.a)(this,e),this.binaryString=t}return Object(p.a)(e,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return G(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){return new e(atob(t))}},{key:"fromUint8Array",value:function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))}}]),e}();ie.EMPTY_BYTE_STRING=new ie("");var ae=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oe(e){if(A(!!e),"string"==typeof e){var t=0,n=ae.exec(e);if(A(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ue(e.seconds),nanos:ue(e.nanos)}}function ue(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function se(e){return"string"==typeof e?ie.fromBase64String(e):ie.fromUint8Array(e)}function le(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ce(e){var t=oe(e.mapValue.fields.__local_write_time__.timestampValue);return new Y(t.seconds,t.nanos)}var he=function e(t,n,r,i,a,o,u,s){Object(d.a)(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s},fe=function(){function e(t,n){Object(d.a)(this,e),this.projectId=t,this.database=n||"(default)"}return Object(p.a)(e,[{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}},{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function de(e){return null==e}function pe(e){return 0===e&&1/e==-1/0}var ve=function(){function e(t){Object(d.a)(this,e),this.path=t}return Object(p.a)(e,[{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===te.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}},{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}}],[{key:"fromPath",value:function(t){return new e(te.fromString(t))}},{key:"fromName",value:function(t){return new e(te.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(te.emptyPath())}},{key:"comparator",value:function(e,t){return te.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new te(t.slice()))}}]),e}(),ye={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ge(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?le(e)?4:Ie(e)?9007199254740991:10:N()}function me(e,t){if(e===t)return!0;var n=ge(e);if(n!==ge(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ce(e).isEqual(ce(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=oe(e.timestampValue),r=oe(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return se(e.bytesValue).isEqual(se(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ue(e.geoPointValue.latitude)===ue(t.geoPointValue.latitude)&&ue(e.geoPointValue.longitude)===ue(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ue(e.integerValue)===ue(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=ue(e.doubleValue),r=ue(t.doubleValue);return n===r?pe(n)===pe(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Q(e.arrayValue.values||[],t.arrayValue.values||[],me);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(X(n)!==X(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!me(n[i],r[i])))return!1;return!0}(e,t);default:return N()}}function be(e,t){return void 0!==(e.values||[]).find(function(e){return me(e,t)})}function ke(e,t){if(e===t)return 0;var n=ge(e),r=ge(t);if(n!==r)return G(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return G(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=ue(e.integerValue||e.doubleValue),r=ue(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return _e(e.timestampValue,t.timestampValue);case 4:return _e(ce(e),ce(t));case 5:return G(e.stringValue,t.stringValue);case 6:return function(e,t){var n=se(e),r=se(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=G(n[i],r[i]);if(0!==a)return a}return G(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=G(ue(e.latitude),ue(t.latitude));return 0!==n?n:G(ue(e.longitude),ue(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=ke(n[i],r[i]);if(a)return a}return G(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===ye.mapValue&&t===ye.mapValue)return 0;if(e===ye.mapValue)return 1;if(t===ye.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=G(r[o],a[o]);if(0!==u)return u;var s=ke(n[r[o]],i[a[o]]);if(0!==s)return s}return G(r.length,a.length)}(e.mapValue,t.mapValue);default:throw N()}}function _e(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return G(e,t);var n=oe(e),r=oe(t),i=G(n.seconds,r.seconds);return 0!==i?i:G(n.nanos,r.nanos)}function we(e){return function e(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(e){var t=oe(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?se(t.bytesValue).toBase64():"referenceValue"in t?(r=t.referenceValue,ve.fromName(r).toString()):"geoPointValue"in t?"geo(".concat((n=t.geoPointValue).latitude,",").concat(n.longitude,")"):"arrayValue"in t?function(t){var n,r="[",i=!0,a=k(t.values||[]);try{for(a.s();!(n=a.n()).done;){var o=n.value;i?i=!1:r+=",",r+=e(o)}}catch(u){a.e(u)}finally{a.f()}return r+"]"}(t.arrayValue):"mapValue"in t?function(t){var n,r=Object.keys(t.fields||{}).sort(),i="{",a=!0,o=k(r);try{for(o.s();!(n=o.n()).done;){var u=n.value;a?a=!1:i+=",",i+="".concat(u,":").concat(e(t.fields[u]))}}catch(s){o.e(s)}finally{o.f()}return i+"}"}(t.mapValue):N();var n,r}(e)}function Oe(e){return!!e&&"integerValue"in e}function Ee(e){return!!e&&"arrayValue"in e}function Ce(e){return!!e&&"nullValue"in e}function Se(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Te(e){return!!e&&"mapValue"in e}function je(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return J(e.mapValue.fields,function(e,n){return t.mapValue.fields[e]=je(n)}),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=je(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Ie(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var xe=function(){function e(t){Object(d.a)(this,e),this.value=t}return Object(p.a)(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Te(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=je(t)}},{key:"setAll",value:function(e){var t=this,n=re.emptyPath(),r={},i=[];e.forEach(function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=je(e):i.push(a.lastSegment())});var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Te(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return me(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Te(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){J(t,function(t,n){return e[t]=n});var r,i=k(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(je(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();var Ne=function(){function e(t,n,r,i,a,o){Object(d.a)(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Object(p.a)(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=xe.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=xe.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,$.min(),$.min(),xe.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,$.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,$.min(),xe.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,$.min(),xe.empty(),2)}}]),e}(),Ae=function e(t,n,r,i){Object(d.a)(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i};Ae.UNKNOWN_ID=-1;function Pe(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=$.fromTimestamp(1e9===r?new Y(n+1,0):new Y(n,r));return new De(i,ve.empty(),t)}function Re(e){return new De(e.readTime,e.key,-1)}var De=function(){function e(t,n,r){Object(d.a)(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Object(p.a)(e,null,[{key:"min",value:function(){return new e($.min(),ve.empty(),-1)}},{key:"max",value:function(){return new e($.max(),ve.empty(),-1)}}]),e}();function Le(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=ve.comparator(e.documentKey,t.documentKey))?n:G(e.largestBatchId,t.largestBatchId)}var Me=function(){function e(t,n){Object(d.a)(this,e),this.comparator=t,this.root=n||Ue.EMPTY}return Object(p.a)(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Ue.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ue.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal(function(t,n){return e(t,n),!1})}},{key:"toString",value:function(){var e=[];return this.inorderTraversal(function(t,n){return e.push("".concat(t,":").concat(n)),!1}),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Fe(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Fe(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Fe(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Fe(this.root,e,this.comparator,!0)}},{key:"size",get:function(){return this.root.size}}]),e}(),Fe=function(){function e(t,n,r,i){Object(d.a)(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Object(p.a)(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Ue=function(){function e(t,n,r,i,a){Object(d.a)(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Object(p.a)(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw N();if(this.right.isRed())throw N();var e=this.left.check();if(e!==this.right.check())throw N();return e+(this.isRed()?0:1)}}]),e}();Ue.EMPTY=null,Ue.RED=!0,Ue.BLACK=!1,Ue.EMPTY=new(function(){function e(){Object(d.a)(this,e),this.size=0}return Object(p.a)(e,[{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Ue(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}},{key:"key",get:function(){throw N()}},{key:"value",get:function(){throw N()}},{key:"color",get:function(){throw N()}},{key:"left",get:function(){throw N()}},{key:"right",get:function(){throw N()}}]),e}());var Ve=function(){function e(t){Object(d.a)(this,e),this.comparator=t,this.data=new Me(this.comparator)}return Object(p.a)(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal(function(t,n){return e(t),!1})}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new ze(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new ze(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach(function(e){t=t.add(e)}),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach(function(t){e.push(t)}),e}},{key:"toString",value:function(){var e=[];return this.forEach(function(t){return e.push(t)}),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}},{key:"size",get:function(){return this.data.size}}]),e}(),ze=function(){function e(t){Object(d.a)(this,e),this.iter=t}return Object(p.a)(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var Be=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Object(d.a)(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null};function qe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Be(e,t,n,r,i,a,o)}function He(e){var t=P(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(function(e){return(t=e).field.canonicalString()+t.op.toString()+we(t.value);var t}).join(","),n+="|ob:",n+=t.orderBy.map(function(e){return function(e){return e.field.canonicalString()+e.dir}(e)}).join(","),de(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(function(e){return we(e)}).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(function(e){return we(e)}).join(",")),t.P=n}return t.P}function We(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!it(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!me(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!ot(e.startAt,t.startAt)&&ot(e.endAt,t.endAt)}function Ke(e){return ve.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Ge=function(e){function t(e,n,r){var i;return Object(d.a)(this,t),(i=Object(l.a)(this,Object(c.a)(t).call(this))).field=e,i.op=n,i.value=r,i}return Object(h.a)(t,e),Object(p.a)(t,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(ke(t,this.value)):null!==t&&ge(this.value)===ge(t)&&this.v(ke(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return N()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.V(e,n,r):new Qe(e,n,r):"array-contains"===n?new Je(e,r):"in"===n?new Ze(e,r):"not-in"===n?new et(e,r):"array-contains-any"===n?new tt(e,r):new t(e,n,r)}},{key:"V",value:function(e,t,n){return"in"===t?new Ye(e,n):new $e(e,n)}}]),t}(function(){return function e(){Object(d.a)(this,e)}}()),Qe=function(e){function t(e,n,r){var i;return Object(d.a)(this,t),(i=Object(l.a)(this,Object(c.a)(t).call(this,e,n,r))).key=ve.fromName(r.referenceValue),i}return Object(h.a)(t,e),Object(p.a)(t,[{key:"matches",value:function(e){var t=ve.comparator(e.key,this.key);return this.v(t)}}]),t}(Ge),Ye=function(e){function t(e,n){var r;return Object(d.a)(this,t),(r=Object(l.a)(this,Object(c.a)(t).call(this,e,"in",n))).keys=Xe("in",n),r}return Object(h.a)(t,e),Object(p.a)(t,[{key:"matches",value:function(e){return this.keys.some(function(t){return t.isEqual(e.key)})}}]),t}(Ge),$e=function(e){function t(e,n){var r;return Object(d.a)(this,t),(r=Object(l.a)(this,Object(c.a)(t).call(this,e,"not-in",n))).keys=Xe("not-in",n),r}return Object(h.a)(t,e),Object(p.a)(t,[{key:"matches",value:function(e){return!this.keys.some(function(t){return t.isEqual(e.key)})}}]),t}(Ge);function Xe(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(e){return ve.fromName(e.referenceValue)})}var Je=function(e){function t(e,n){return Object(d.a)(this,t),Object(l.a)(this,Object(c.a)(t).call(this,e,"array-contains",n))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Ee(t)&&be(t.arrayValue,this.value)}}]),t}(Ge),Ze=function(e){function t(e,n){return Object(d.a)(this,t),Object(l.a)(this,Object(c.a)(t).call(this,e,"in",n))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&be(this.value.arrayValue,t)}}]),t}(Ge),et=function(e){function t(e,n){return Object(d.a)(this,t),Object(l.a)(this,Object(c.a)(t).call(this,e,"not-in",n))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"matches",value:function(e){if(be(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!be(this.value.arrayValue,t)}}]),t}(Ge),tt=function(e){function t(e,n){return Object(d.a)(this,t),Object(l.a)(this,Object(c.a)(t).call(this,e,"array-contains-any",n))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Ee(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(e){return be(t.value.arrayValue,e)})}}]),t}(Ge),nt=function e(t,n){Object(d.a)(this,e),this.position=t,this.inclusive=n},rt=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Object(d.a)(this,e),this.field=t,this.dir=n};function it(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function at(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?ve.comparator(ve.fromName(o.referenceValue),n.key):ke(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function ot(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!me(e.position[n],t.position[n]))return!1;return!0}var ut=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Object(d.a)(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt};function st(e,t,n,r,i,a,o,u){return new ut(e,t,n,r,i,a,o,u)}function lt(e){return new ut(e)}function ct(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ht(e){var t,n=k(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function ft(e){return null!==e.collectionGroup}function dt(e){var t=P(e);if(null===t.D){t.D=[];var n=ht(t),r=ct(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new rt(n)),t.D.push(new rt(re.keyField(),"asc"));else{var i,a=!1,o=k(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(l){o.e(l)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new rt(re.keyField(),s))}}}return t.D}function pt(e){var t=P(e);if(!t.C)if("F"===t.limitType)t.C=qe(t.path,t.collectionGroup,dt(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=k(dt(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new rt(a.field,o))}}catch(l){i.e(l)}finally{i.f()}var u=t.endAt?new nt(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new nt(t.startAt.position,t.startAt.inclusive):null;t.C=qe(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function vt(e,t,n){return new ut(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function yt(e,t){return We(pt(e),pt(t))&&e.limitType===t.limitType}function gt(e){return"".concat(He(pt(e)),"|lt:").concat(e.limitType)}function mt(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(we(t.value));var t}).join(", "),"]")),de(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)}).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(function(e){return we(e)}).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(function(e){return we(e)}).join(",")),"Target(".concat(t,")")}(pt(e)),"; limitType=").concat(e.limitType,")")}function bt(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):ve.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=k(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=k(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=at(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,dt(e),t))&&!(e.endAt&&!function(e,t,n){var r=at(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,dt(e),t))}(e,t)}function kt(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function _t(e){return function(t,n){var r,i=!1,a=k(dt(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=wt(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function wt(e,t,n){var r=e.field.isKeyField()?ve.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?ke(r,i):N()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return N()}}function Ot(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pe(t)?"-0":t}}function Et(e){return{integerValue:""+e}}var Ct=function e(){Object(d.a)(this,e),this._=void 0};function St(e,t,n){return e instanceof It?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof xt?Nt(e,t):e instanceof At?Pt(e,t):function(e,t){var n=jt(e,t),r=Dt(n)+Dt(e.k);return Oe(n)&&Oe(e.k)?Et(r):Ot(e.M,r)}(e,t)}function Tt(e,t,n){return e instanceof xt?Nt(e,t):e instanceof At?Pt(e,t):n}function jt(e,t){return e instanceof Rt?Oe(n=t)||n&&"doubleValue"in n?t:{integerValue:0}:null;var n}var It=function(e){function t(){return Object(d.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(h.a)(t,e),t}(Ct),xt=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this))).elements=e,n}return Object(h.a)(t,e),t}(Ct);function Nt(e,t){var n,r=Lt(t),i=k(e.elements);try{var a=function(){var e=n.value;r.some(function(t){return me(t,e)})||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var At=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this))).elements=e,n}return Object(h.a)(t,e),t}(Ct);function Pt(e,t){var n,r=Lt(t),i=k(e.elements);try{var a=function(){var e=n.value;r=r.filter(function(t){return!me(t,e)})};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Rt=function(e){function t(e,n){var r;return Object(d.a)(this,t),(r=Object(l.a)(this,Object(c.a)(t).call(this))).M=e,r.k=n,r}return Object(h.a)(t,e),t}(Ct);function Dt(e){return ue(e.integerValue||e.doubleValue)}function Lt(e){return Ee(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function Mt(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Ft=function e(){Object(d.a)(this,e)};function Ut(e,t,n){e instanceof qt?function(e,t,n){var r=e.value.clone(),i=Kt(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Ht?function(e,t,n){if(Mt(e.precondition,t)){var r=Kt(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Wt(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Vt(e,t,n){e instanceof qt?function(e,t,n){if(Mt(e.precondition,t)){var r=e.value.clone(),i=Gt(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Bt(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Ht?function(e,t,n){if(Mt(e.precondition,t)){var r=Gt(e.fieldTransforms,n,t),i=t.data;i.setAll(Wt(e)),i.setAll(r),t.convertToFoundDocument(Bt(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Mt(e.precondition,t)&&t.convertToNoDocument($.min())}(e,t)}function zt(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Q(e,t,function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof xt&&t instanceof xt||e instanceof At&&t instanceof At?Q(e.elements,t.elements,me):e instanceof Rt&&t instanceof Rt?me(e.k,t.k):e instanceof It&&t instanceof It}(e.transform,t.transform)}(e,t)})}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Bt(e){return e.isFoundDocument()?e.version:$.min()}var qt=function(e){function t(e,n,r){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Object(d.a)(this,t),(i=Object(l.a)(this,Object(c.a)(t).call(this))).key=e,i.value=n,i.precondition=r,i.fieldTransforms=a,i.type=0,i}return Object(h.a)(t,e),t}(Ft),Ht=function(e){function t(e,n,r,i){var a,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Object(d.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this))).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return Object(h.a)(t,e),t}(Ft);function Wt(e){var t=new Map;return e.fieldMask.fields.forEach(function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}}),t}function Kt(e,t,n){var r=new Map;A(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Tt(o,u,n[i]))}return r}function Gt(e,t,n){var r,i=new Map,a=k(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,St(u,s,t))}}catch(l){a.e(l)}finally{a.f()}return i}var Qt,Yt,$t=function e(t){Object(d.a)(this,e),this.count=t};function Xt(e){if(void 0===e)return j("GRPC error has no .code"),R.UNKNOWN;switch(e){case Qt.OK:return R.OK;case Qt.CANCELLED:return R.CANCELLED;case Qt.UNKNOWN:return R.UNKNOWN;case Qt.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Qt.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Qt.INTERNAL:return R.INTERNAL;case Qt.UNAVAILABLE:return R.UNAVAILABLE;case Qt.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Qt.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Qt.NOT_FOUND:return R.NOT_FOUND;case Qt.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Qt.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Qt.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Qt.ABORTED:return R.ABORTED;case Qt.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Qt.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Qt.DATA_LOSS:return R.DATA_LOSS;default:return N()}}(Yt=Qt||(Qt={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";var Jt=function(){function e(t,n){Object(d.a)(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Object(p.a)(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=k(n);try{for(i.s();!(r=i.n()).done;){var o=Object(a.a)(r.value,2),u=o[0],s=o[1];if(this.equalsFn(u,e))return s}}catch(l){i.e(l)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){J(this.inner,function(t,n){var r,i=k(n);try{for(i.s();!(r=i.n()).done;){var o=Object(a.a)(r.value,2),u=o[0],s=o[1];e(u,s)}}catch(l){i.e(l)}finally{i.f()}})}},{key:"isEmpty",value:function(){return Z(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Zt=new Me(ve.comparator);function en(){return Zt}var tn=new Me(ve.comparator);function nn(){for(var e=tn,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function rn(){return new Jt(function(e){return e.toString()},function(e,t){return e.isEqual(t)})}new Me(ve.comparator);var an=new Ve(ve.comparator);function on(){for(var e=an,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var un=new Ve(G);function sn(){return un}var ln=function(){function e(t,n,r,i,a){Object(d.a)(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Object(p.a)(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,cn.createSynthesizedTargetChangeForCurrentChange(t,n)),new e($.min(),r,sn(),en(),on())}}]),e}(),cn=function(){function e(t,n,r,i,a){Object(d.a)(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Object(p.a)(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(ie.EMPTY_BYTE_STRING,n,on(),on(),on())}}]),e}(),hn=function e(t,n,r,i){Object(d.a)(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i},fn=function e(t,n){Object(d.a)(this,e),this.targetId=t,this.$=n},dn=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ie.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Object(d.a)(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i},pn=function(){function e(){Object(d.a)(this,e),this.B=0,this.L=gn(),this.U=ie.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return Object(p.a)(e,[{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=on(),t=on(),n=on();return this.L.forEach(function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:N()}}),new cn(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=gn()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}},{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}}]),e}(),vn=function(){function e(t){Object(d.a)(this,e),this.nt=t,this.st=new Map,this.it=en(),this.rt=yn(),this.ot=new Ve(G)}return Object(p.a)(e,[{key:"ut",value:function(e){var t,n=k(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=k(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:N()}})}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach(function(e,r){n.ft(r)&&t(r)})}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(Ke(i))if(0===n){var a=new ve(i.path);this.ct(t,a,Ne.newNoDocument(a,$.min()))}else A(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach(function(r,i){var a=t.wt(i);if(a){if(r.current&&Ke(a.target)){var o=new ve(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,Ne.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}});var r=on();this.rt.forEach(function(e,n){var i=!0;n.forEachWhile(function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)}),i&&(r=r.add(e))}),this.it.forEach(function(t,n){return n.setReadTime(e)});var i=new ln(e,n,this.ot,this.it,r);return this.it=en(),this.rt=yn(),this.ot=new Ve(G),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new pn,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new Ve(G),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||T("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new pn),this.nt.getRemoteKeysForTarget(e).forEach(function(n){t.ct(e,n,null)})}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function yn(){return new Me(ve.comparator)}function gn(){return new Me(ve.comparator)}var mn={asc:"ASCENDING",desc:"DESCENDING"},bn={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kn=function e(t,n){Object(d.a)(this,e),this.databaseId=t,this.N=n};function _n(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function wn(e,t){return e.N?t.toBase64():t.toUint8Array()}function On(e){return A(!!e),$.fromTimestamp(function(e){var t=oe(e);return new Y(t.seconds,t.nanos)}(e))}function En(e,t){return function(e){return new te(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Cn(e){var t=te.fromString(e);return A(Vn(t)),t}function Sn(e,t){var n=Cn(t);if(n.get(1)!==e.databaseId.projectId)throw new D(R.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new D(R.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new ve(xn(n))}function Tn(e,t){return En(e.databaseId,t)}function jn(e){var t=Cn(e);return 4===t.length?te.emptyPath():xn(t)}function In(e){return new te(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function xn(e){return A(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Nn(e,t){return{documents:[Tn(e,t.path)]}}function An(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Tn(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Tn(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map(function(e){return function(e){if("=="===e.op){if(Se(e.value))return{unaryFilter:{field:Ln(e.field),op:"IS_NAN"}};if(Ce(e.value))return{unaryFilter:{field:Ln(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Se(e.value))return{unaryFilter:{field:Ln(e.field),op:"IS_NOT_NAN"}};if(Ce(e.value))return{unaryFilter:{field:Ln(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ln(e.field),op:Dn(e.op),value:e.value}}}(e)});return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map(function(e){return function(e){return{field:Ln(e.field),direction:Rn(e.dir)}}(e)})}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||de(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Pn(e){var t=jn(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){A(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function e(t){return t?void 0!==t.unaryFilter?[Un(t)]:void 0!==t.fieldFilter?[Fn(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e(t)}).reduce(function(e,t){return e.concat(t)}):N():[]}(n.where));var u=[];n.orderBy&&(u=n.orderBy.map(function(e){return function(e){return new rt(Mn(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}));var s=null;n.limit&&(s=function(e){var t;return de(t="object"==typeof e?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new nt(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new nt(n,t)}(n.endAt)),st(t,i,u,o,s,"F",l,c)}function Rn(e){return mn[e]}function Dn(e){return bn[e]}function Ln(e){return{fieldPath:e.canonicalString()}}function Mn(e){return re.fromServerFormat(e.fieldPath)}function Fn(e){return Ge.create(Mn(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return N()}}(e.fieldFilter.op),e.fieldFilter.value)}function Un(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Mn(e.unaryFilter.field);return Ge.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Mn(e.unaryFilter.field);return Ge.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Mn(e.unaryFilter.field);return Ge.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Mn(e.unaryFilter.field);return Ge.create(i,"!=",{nullValue:"NULL_VALUE"});default:return N()}}function Vn(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var zn=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),Bn=([].concat(Object(f.a)(zn),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),qn=([].concat(Bn,["indexConfiguration","indexState","indexEntries"]),"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."),Hn=function(){function e(){Object(d.a)(this,e),this.onCommittedListeners=[]}return Object(p.a)(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach(function(e){return e()})}}]),e}(),Wn=function(){function e(t){var n=this;Object(d.a)(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)},function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)})}return Object(p.a)(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&N(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}})}},{key:"toPromise",value:function(){var e=this;return new Promise(function(t,n){e.next(t,n)})}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction(function(){return t(n)}):e.reject(n)}}],[{key:"resolve",value:function(t){return new e(function(e,n){e(t)})}},{key:"reject",value:function(t){return new e(function(e,n){n(t)})}},{key:"waitFor",value:function(t){return new e(function(e,n){var r=0,i=0,a=!1;t.forEach(function(t){++r,t.next(function(){++i,a&&i===r&&e()},function(e){return n(e)})}),a=!0,i===r&&e()})}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=k(t);try{var a=function(){var t=n.value;r=r.next(function(n){return n?e.resolve(n):t()})};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach(function(e,i){r.push(t.call(n,e,i))}),this.waitFor(r)}}]),e}();function Kn(e){return"IndexedDbTransactionError"===e.name}var Gn=function(){function e(t,n,r,i){Object(d.a)(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Object(p.a)(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Ut(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=k(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&Vt(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=k(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&Vt(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach(function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument($.min())})}},{key:"keys",value:function(){return this.mutations.reduce(function(e,t){return e.add(t.key)},on())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&Q(this.mutations,e.mutations,function(e,t){return zt(e,t)})&&Q(this.baseMutations,e.baseMutations,function(e,t){return zt(e,t)})}}]),e}(),Qn=function(){function e(t,n){Object(d.a)(this,e),this.largestBatchId=t,this.mutation=n}return Object(p.a)(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),Yn=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:$.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:$.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:ie.EMPTY_BYTE_STRING;Object(d.a)(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Object(p.a)(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),$n=function e(t){Object(d.a)(this,e),this.Jt=t};function Xn(e){var t=Pn({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?vt(t,t.limit,"L"):t}var Jn=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(ue(e.integerValue));else if("doubleValue"in e){var n=ue(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),pe(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(se(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Ie(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):N()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=k(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),ve.fromName(e).path.forEach(function(e){n.ne(t,60),n.le(e,t)})}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();Jn.fe=new Jn;var Zn=function(){function e(){Object(d.a)(this,e),this.qe=new er}return Object(p.a)(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),Wn.resolve()}},{key:"getCollectionParents",value:function(e,t){return Wn.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Wn.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Wn.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Wn.resolve(null)}},{key:"getIndexType",value:function(e,t){return Wn.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Wn.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Wn.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Wn.resolve(De.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Wn.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Wn.resolve()}}]),e}(),er=function(){function e(){Object(d.a)(this,e),this.index={}}return Object(p.a)(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Ve(te.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Ve(te.comparator)).toArray()}}]),e}();new Uint8Array(0);var tr=function(){function e(t,n,r){Object(d.a)(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Object(p.a)(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();tr.DEFAULT_COLLECTION_PERCENTILE=10,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,tr.DEFAULT=new tr(41943040,tr.DEFAULT_COLLECTION_PERCENTILE,tr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),tr.DISABLED=new tr(-1,0,0);var nr=function(){function e(t){Object(d.a)(this,e),this.mn=t}return Object(p.a)(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}();function rr(e){return ir.apply(this,arguments)}function ir(){return(ir=Object(s.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===R.FAILED_PRECONDITION&&t.message===qn){e.next=2;break}throw t;case 2:T("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}},e)}))).apply(this,arguments)}var ar=function(){function e(){Object(d.a)(this,e),this.changes=new Jt(function(e){return e.toString()},function(e,t){return e.isEqual(t)}),this.changesApplied=!1}return Object(p.a)(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Ne.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Wn.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var or=function(){function e(t,n,r){Object(d.a)(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return Object(p.a)(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next(function(r){return n.Us(e,t,r)})}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next(function(e){var t,r=k(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e})}},{key:"qs",value:function(e,t){e.forEach(function(e,n){var r,i=k(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}})}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next(function(t){return n.Gs(e,t).next(function(){return t})})}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(function(e){return n.qs(t,e)})}},{key:"Qs",value:function(e,t,n){return function(e){return ve.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):ft(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new ve(t)).next(function(e){var t=nn();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=nn();return this.indexManager.getCollectionParents(e,i).next(function(o){return Wn.forEach(o,function(o){var u=function(e,t){return new ut(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,u,n).next(function(e){e.forEach(function(e,t){a=a.insert(e,t)})})}).next(function(){return a})})}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next(function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)}).next(function(e){var t,n=k(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=k(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,l=r.get(s);null==l&&(l=Ne.newInvalidDocument(s),r=r.insert(s,l)),Vt(u,l,a.localWriteTime),l.isFoundDocument()||(r=r.remove(s))}}catch(c){o.e(c)}finally{o.f()}}}catch(c){n.e(c)}finally{n.f()}}).next(function(){return r.forEach(function(e,n){bt(t,n)||(r=r.remove(e))}),r})}}]),e}(),ur=function(){function e(t,n,r,i){Object(d.a)(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return Object(p.a)(e,null,[{key:"Ys",value:function(t,n){var r,i=on(),a=on(),o=k(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),sr=function(){function e(){Object(d.a)(this,e),this.Xs=!1}return Object(p.a)(e,[{key:"initialize",value:function(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}},{key:"Qs",value:function(e,t,n,r){var i=this;return this.ti(e,t).next(function(a){return a||i.ei(e,t,r,n)}).next(function(n){return n||i.ni(e,t)})}},{key:"ti",value:function(e,t){return Wn.resolve(null)}},{key:"ei",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual($.min())?this.ni(e,t):this.Zs.Ks(e,n).next(function(a){var o=i.si(t,a);return i.ii(t,o,n,r)?i.ni(e,t):(S()<=g.a.DEBUG&&T("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),mt(t)),i.ri(e,o,t,Pe(r,-1)))})}},{key:"si",value:function(e,t){var n=new Ve(_t(e));return t.forEach(function(t,r){bt(e,r)&&(n=n.add(r))}),n}},{key:"ii",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ni",value:function(e,t){return S()<=g.a.DEBUG&&T("QueryEngine","Using full collection scan to execute query:",mt(t)),this.Zs.Qs(e,t,De.min())}},{key:"ri",value:function(e,t,n,r){return this.Zs.Qs(e,n,r).next(function(e){return t.forEach(function(t){e=e.insert(t.key,t)}),e})}}]),e}(),lr=function(){function e(t,n,r,i){Object(d.a)(this,e),this.persistence=t,this.oi=n,this.M=i,this.ui=new Me(G),this.ai=new Jt(function(e){return He(e)},We),this.ci=new Map,this.hi=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.li(r)}return Object(p.a)(e,[{key:"li",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new or(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return e.collect(n,t.ui)})}}]),e}();function cr(e,t,n,r){return new lr(e,t,n,r)}function hr(e,t){return fr.apply(this,arguments)}function fr(){return(fr=Object(s.a)(u.a.mark(function e(t,n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",function(e){var t;return r.Bs.getAllMutationBatches(e).next(function(i){return t=i,r.li(n),r.Bs.getAllMutationBatches(e)}).next(function(n){var i,a=[],o=[],u=on(),s=k(t);try{for(s.s();!(i=s.n()).done;){var l=i.value;a.push(l.batchId);var c,h=k(l.mutations);try{for(h.s();!(c=h.n()).done;){var f=c.value;u=u.add(f.key)}}catch(b){h.e(b)}finally{h.f()}}}catch(b){s.e(b)}finally{s.f()}var d,p=k(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,g=k(v.mutations);try{for(g.s();!(y=g.n()).done;){var m=y.value;u=u.add(m.key)}}catch(b){g.e(b)}finally{g.f()}}}catch(b){p.e(b)}finally{p.f()}return r.fi.Ks(e,u).next(function(e){return{di:e,removedBatchIds:a,addedBatchIds:o}})})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function dr(e){var t=P(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.fs.getLastRemoteSnapshotVersion(e)})}function pr(e,t){var n=P(e),r=t.snapshotVersion,i=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(e){var a=n.hi.newChangeBuffer({trackRemovals:!0});i=n.ui;var o=[];t.targetChanges.forEach(function(a,u){var s=i.get(u);if(s){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,u).next(function(){return n.fs.addMatchingKeys(e,a.addedDocuments,u)}));var l=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?l=l.withResumeToken(ie.EMPTY_BYTE_STRING,$.min()).withLastLimboFreeSnapshotVersion($.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(u,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,l,a)&&o.push(n.fs.updateTargetData(e,l))}});var u=en();if(t.documentUpdates.forEach(function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(vr(e,a,t.documentUpdates).next(function(e){u=e})),!r.isEqual($.min())){var s=n.fs.getLastRemoteSnapshotVersion(e).next(function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)});o.push(s)}return Wn.waitFor(o).next(function(){return a.apply(e)}).next(function(){return n.fi.Gs(e,u)}).next(function(){return u})}).then(function(e){return n.ui=i,e})}function vr(e,t,n){var r=on();return n.forEach(function(e){return r=r.add(e)}),t.getEntries(e,r).next(function(e){var r=en();return n.forEach(function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual($.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):T("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)}),r})}function yr(e,t){var n=P(e);return n.persistence.runTransaction("Allocate target","readwrite",function(e){var r;return n.fs.getTargetData(e,t).next(function(i){return i?(r=i,Wn.resolve(r)):n.fs.allocateTargetId(e).next(function(i){return r=new Yn(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next(function(){return r})})})}).then(function(e){var r=n.ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ui=n.ui.insert(e.targetId,e),n.ai.set(t,e.targetId)),e})}function gr(e,t,n){return mr.apply(this,arguments)}function mr(){return(mr=Object(s.a)(u.a.mark(function e(t,n,r){var i,a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=P(t),a=i.ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,function(e){return i.persistence.referenceDelegate.removeTarget(e,a)});case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Kn(e.t1)){e.next=12;break}throw e.t1;case 12:T("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ui=i.ui.remove(n),i.ai.delete(a.target);case 14:case"end":return e.stop()}},e,null,[[1,8]])}))).apply(this,arguments)}function br(e,t,n){var r=P(e),i=$.min(),a=on();return r.persistence.runTransaction("Execute query","readonly",function(e){return function(e,t,n){var r=P(e),i=r.ai.get(n);return void 0!==i?Wn.resolve(r.ui.get(i)):r.fs.getTargetData(t,n)}(r,e,pt(t)).next(function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next(function(e){a=e})}).next(function(){return r.oi.Qs(e,t,n?i:$.min(),n?a:on())}).next(function(e){return kr(r,kt(t),e),{documents:e,_i:a}})})}function kr(e,t,n){var r=$.min();n.forEach(function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.ci.set(t,r)}var _r=function(){function e(t){Object(d.a)(this,e),this.M=t,this.yi=new Map,this.pi=new Map}return Object(p.a)(e,[{key:"getBundleMetadata",value:function(e,t){return Wn.resolve(this.yi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.yi.set(t.id,{id:(n=t).id,version:n.version,createTime:On(n.createTime)}),Wn.resolve()}},{key:"getNamedQuery",value:function(e,t){return Wn.resolve(this.pi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.pi.set(t.name,function(e){return{name:e.name,query:Xn(e.bundledQuery),readTime:On(e.readTime)}}(t)),Wn.resolve()}}]),e}(),wr=function(){function e(){Object(d.a)(this,e),this.overlays=new Me(ve.comparator),this.Ii=new Map}return Object(p.a)(e,[{key:"getOverlay",value:function(e,t){return Wn.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach(function(n,i){r.Xt(e,t,i)}),Wn.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Ii.get(n);return void 0!==i&&(i.forEach(function(e){return r.overlays=r.overlays.remove(e)}),this.Ii.delete(n)),Wn.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=rn(),i=t.length+1,a=new ve(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return Wn.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Me(function(e,t){return e-t}),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=rn(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=rn(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach(function(e,t){return s.set(e,t)}),!(s.size()>=r)););return Wn.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Ii.get(r.largestBatchId).delete(n.key);this.Ii.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new Qn(t,n));var a=this.Ii.get(t);void 0===a&&(a=on(),this.Ii.set(t,a)),this.Ii.set(t,a.add(n.key))}}}]),e}(),Or=function(){function e(){Object(d.a)(this,e),this.Ti=new Ve(Er.Ei),this.Ai=new Ve(Er.Ri)}return Object(p.a)(e,[{key:"isEmpty",value:function(){return this.Ti.isEmpty()}},{key:"addReference",value:function(e,t){var n=new Er(e,t);this.Ti=this.Ti.add(n),this.Ai=this.Ai.add(n)}},{key:"bi",value:function(e,t){var n=this;e.forEach(function(e){return n.addReference(e,t)})}},{key:"removeReference",value:function(e,t){this.Pi(new Er(e,t))}},{key:"Vi",value:function(e,t){var n=this;e.forEach(function(e){return n.removeReference(e,t)})}},{key:"vi",value:function(e){var t=this,n=new ve(new te([])),r=new Er(n,e),i=new Er(n,e+1),a=[];return this.Ai.forEachInRange([r,i],function(e){t.Pi(e),a.push(e.key)}),a}},{key:"Si",value:function(){var e=this;this.Ti.forEach(function(t){return e.Pi(t)})}},{key:"Pi",value:function(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}},{key:"Di",value:function(e){var t=new ve(new te([])),n=new Er(t,e),r=new Er(t,e+1),i=on();return this.Ai.forEachInRange([n,r],function(e){i=i.add(e.key)}),i}},{key:"containsKey",value:function(e){var t=new Er(e,0),n=this.Ti.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),Er=function(){function e(t,n){Object(d.a)(this,e),this.key=t,this.Ci=n}return Object(p.a)(e,null,[{key:"Ei",value:function(e,t){return ve.comparator(e.key,t.key)||G(e.Ci,t.Ci)}},{key:"Ri",value:function(e,t){return G(e.Ci,t.Ci)||ve.comparator(e.key,t.key)}}]),e}(),Cr=function(){function e(t,n){Object(d.a)(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new Ve(Er.Ei)}return Object(p.a)(e,[{key:"checkEmpty",value:function(e){return Wn.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.xi;this.xi++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new Gn(i,t,n,r);this.Bs.push(a);var o,u=k(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Ni=this.Ni.add(new Er(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(l){u.e(l)}finally{u.f()}return Wn.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Wn.resolve(this.ki(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Mi(n),i=r<0?0:r;return Wn.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Wn.resolve(0===this.Bs.length?-1:this.xi-1)}},{key:"getAllMutationBatches",value:function(e){return Wn.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new Er(t,0),i=new Er(t,Number.POSITIVE_INFINITY),a=[];return this.Ni.forEachInRange([r,i],function(e){var t=n.ki(e.Ci);a.push(t)}),Wn.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Ve(G);return t.forEach(function(e){var t=new Er(e,0),i=new Er(e,Number.POSITIVE_INFINITY);n.Ni.forEachInRange([t,i],function(e){r=r.add(e.Ci)})}),Wn.resolve(this.Oi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;ve.isDocumentKey(i)||(i=i.child(""));var a=new Er(new ve(i),0),o=new Ve(G);return this.Ni.forEachWhile(function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Ci)),!0)},a),Wn.resolve(this.Oi(o))}},{key:"Oi",value:function(e){var t=this,n=[];return e.forEach(function(e){var r=t.ki(e);null!==r&&n.push(r)}),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;A(0===this.Fi(t.batchId,"removed")),this.Bs.shift();var r=this.Ni;return Wn.forEach(t.mutations,function(i){var a=new Er(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(function(){n.Ni=r})}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new Er(t,0),r=this.Ni.firstAfterOrEqual(n);return Wn.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,Wn.resolve()}},{key:"Fi",value:function(e,t){return this.Mi(e)}},{key:"Mi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"ki",value:function(e){var t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),Sr=function(){function e(t){Object(d.a)(this,e),this.$i=t,this.docs=new Me(ve.comparator),this.size=0}return Object(p.a)(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.$i(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Wn.resolve(n?n.document.mutableCopy():Ne.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=en();return t.forEach(function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Ne.newInvalidDocument(e))}),Wn.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=en(),i=new ve(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Le(Re(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return Wn.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){N()}},{key:"Bi",value:function(e,t){return Wn.forEach(this.docs,function(e){return t(e)})}},{key:"newChangeBuffer",value:function(e){return new Tr(this)}},{key:"getSize",value:function(e){return Wn.resolve(this.size)}}]),e}(),Tr=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this))).Kn=e,n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach(function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)}),Wn.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),t}(ar),jr=function(){function e(t){Object(d.a)(this,e),this.persistence=t,this.Li=new Jt(function(e){return He(e)},We),this.lastRemoteSnapshotVersion=$.min(),this.highestTargetId=0,this.Ui=0,this.qi=new Or,this.targetCount=0,this.Ki=nr.gn()}return Object(p.a)(e,[{key:"forEachTarget",value:function(e,t){return this.Li.forEach(function(e,n){return t(n)}),Wn.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Wn.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Wn.resolve(this.Ui)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ki.next(),Wn.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ui&&(this.Ui=t),Wn.resolve()}},{key:"Tn",value:function(e){this.Li.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ki=new nr(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,Wn.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),Wn.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,Wn.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Li.forEach(function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Li.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),Wn.waitFor(a).next(function(){return i})}},{key:"getTargetCount",value:function(e){return Wn.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Li.get(t)||null;return Wn.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.qi.bi(t,n),Wn.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.qi.Vi(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(function(t){i.push(r.markPotentiallyOrphaned(e,t))}),Wn.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.qi.vi(t),Wn.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.qi.Di(t);return Wn.resolve(n)}},{key:"containsKey",value:function(e,t){return Wn.resolve(this.qi.containsKey(t))}}]),e}(),Ir=function(){function e(t,n){var r=this;Object(d.a)(this,e),this.Gi={},this.overlays={},this.es=new H(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new jr(this),this.indexManager=new Zn,this.ds=new Sr(function(e){return r.referenceDelegate.Qi(e)}),this.M=new $n(n),this._s=new _r(this.M)}return Object(p.a)(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new wr,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Gi[e.toKey()];return n||(n=new Cr(t,this.referenceDelegate),this.Gi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;T("MemoryPersistence","Starting transaction:",e);var i=new xr(this.es.next());return this.referenceDelegate.ji(),n(i).next(function(e){return r.referenceDelegate.Wi(i).next(function(){return e})}).toPromise().then(function(e){return i.raiseOnCommittedEvent(),e})}},{key:"zi",value:function(e,t){return Wn.or(Object.values(this.Gi).map(function(n){return function(){return n.containsKey(e,t)}}))}},{key:"started",get:function(){return this.ns}}]),e}(),xr=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this))).currentSequenceNumber=e,n}return Object(h.a)(t,e),t}(Hn),Nr=function(){function e(t){Object(d.a)(this,e),this.persistence=t,this.Hi=new Or,this.Ji=null}return Object(p.a)(e,[{key:"addReference",value:function(e,t,n){return this.Hi.addReference(n,t),this.Xi.delete(n.toString()),Wn.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Hi.removeReference(n,t),this.Xi.add(n.toString()),Wn.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Xi.add(t.toString()),Wn.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Hi.vi(t.targetId).forEach(function(e){return n.Xi.add(e.toString())});var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(function(e){e.forEach(function(e){return n.Xi.add(e.toString())})}).next(function(){return r.removeTargetData(e,t)})}},{key:"ji",value:function(){this.Ji=new Set}},{key:"Wi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Wn.forEach(this.Xi,function(r){var i=ve.fromPath(r);return t.Zi(e,i).next(function(e){e||n.removeEntry(i,$.min())})}).next(function(){return t.Ji=null,n.apply(e)})}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Zi(e,t).next(function(e){e?n.Xi.delete(t.toString()):n.Xi.add(t.toString())})}},{key:"Qi",value:function(e){return 0}},{key:"Zi",value:function(e,t){var n=this;return Wn.or([function(){return Wn.resolve(n.Hi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.zi(e,t)}])}},{key:"Xi",get:function(){if(this.Ji)return this.Ji;throw N()}}],[{key:"Yi",value:function(t){return new e(t)}}]),e}();var Ar=function(){function e(){Object(d.a)(this,e),this.activeTargetIds=sn()}return Object(p.a)(e,[{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"er",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Pr=function(){function e(){Object(d.a)(this,e),this.Ur=new Ar,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Object(p.a)(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.nr(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.sr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new Ar,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Rr=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,[{key:"Kr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),Dr=function(){function e(){var t=this;Object(d.a)(this,e),this.Gr=function(){return t.Qr()},this.jr=function(){return t.Wr()},this.zr=[],this.Hr()}return Object(p.a)(e,[{key:"Kr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}},{key:"Hr",value:function(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}},{key:"Qr",value:function(){T("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=k(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){T("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=k(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Lr={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Mr=function(){function e(t){Object(d.a)(this,e),this.Jr=t.Jr,this.Yr=t.Yr}return Object(p.a)(e,[{key:"Xr",value:function(e){this.Zr=e}},{key:"eo",value:function(e){this.no=e}},{key:"onMessage",value:function(e){this.so=e}},{key:"close",value:function(){this.Yr()}},{key:"send",value:function(e){this.Jr(e)}},{key:"io",value:function(){this.Zr()}},{key:"ro",value:function(e){this.no(e)}},{key:"oo",value:function(e){this.so(e)}}]),e}(),Fr=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this,e))).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"fo",value:function(e,t,n,r){return new Promise(function(i,a){var o=new b.g;o.listenOnce(b.c.COMPLETE,function(){try{switch(o.getLastErrorCode()){case b.a.NO_ERROR:var t=o.getResponseJson();T("Connection","XHR received:",JSON.stringify(t)),i(t);break;case b.a.TIMEOUT:T("Connection",'RPC "'+e+'" timed out'),a(new D(R.DEADLINE_EXCEEDED,"Request time out"));break;case b.a.HTTP_ERROR:var n=o.getStatus();if(T("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=r.status.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(t)>=0?t:R.UNKNOWN}();a(new D(u,r.message))}else a(new D(R.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new D(R.UNAVAILABLE,"Connection failed."));break;default:N()}}finally{T("Connection",'RPC "'+e+'" completed.')}});var u=JSON.stringify(r);o.send(t,"POST",u,n,15)})}},{key:"wo",value:function(e,t,n){var r=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Object(b.h)(),a=Object(b.i)(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new b.d({})),this.lo(o.initMessageHeaders,t,n),Object(m.w)()||Object(m.y)()||Object(m.s)()||Object(m.u)()||Object(m.A)()||Object(m.r)()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");T("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),l=!1,c=!1,h=new Mr({Jr:function(e){c?T("Connection","Not sending because WebChannel is closed:",e):(l||(T("Connection","Opening WebChannel transport."),s.open(),l=!0),T("Connection","WebChannel sending:",e),s.send(e))},Yr:function(){return s.close()}}),f=function(e,t,n){e.listen(t,function(e){try{n(e)}catch(e){setTimeout(function(){throw e},0)}})};return f(s,b.f.EventType.OPEN,function(){c||T("Connection","WebChannel transport opened.")}),f(s,b.f.EventType.CLOSE,function(){c||(c=!0,T("Connection","WebChannel transport closed"),h.ro())}),f(s,b.f.EventType.ERROR,function(e){c||(c=!0,I("Connection","WebChannel transport errored:",e),h.ro(new D(R.UNAVAILABLE,"The operation could not be completed")))}),f(s,b.f.EventType.MESSAGE,function(e){var t;if(!c){var n=e.data[0];A(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){T("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=Qt[a];if(void 0!==t)return Xt(t)}(),u=i.message;void 0===o&&(o=R.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),c=!0,h.ro(new D(o,u)),s.close()}else T("Connection","WebChannel received:",n),h.oo(n)}}),f(a,b.b.STAT_EVENT,function(e){e.stat===b.e.PROXY?T("Connection","Detected buffering proxy"):e.stat===b.e.NOPROXY&&T("Connection","Detected no buffering proxy")}),setTimeout(function(){h.io()},0),h}}]),t}(function(){function e(t){Object(d.a)(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.uo=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Object(p.a)(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ho(e,t);T("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then(function(e){return T("RestConnection","Received: ",e),e},function(t){throw I("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t})}},{key:"_o",value:function(e,t,n,r,i){return this.co(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+E,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(function(t,n){return e[n]=t}),n&&n.headers.forEach(function(t,n){return e[n]=t})}},{key:"ho",value:function(e,t){var n=Lr[e];return"".concat(this.uo,"/v1/").concat(t,":").concat(n)}}]),e}());function Ur(){return"undefined"!=typeof document?document:null}function Vr(e){return new kn(e,!0)}var zr=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Object(d.a)(this,e),this.Yn=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return Object(p.a)(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&T("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,function(){return t.Eo=Date.now(),e()}),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),Br=function(){function e(t,n,r,i,a,o,u,s){Object(d.a)(this,e),this.Yn=t,this.Vo=r,this.vo=i,this.So=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new zr(t,n)}return Object(p.a)(e,[{key:"ko",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ko(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.state=0,this.No.reset()}},{key:"$o",value:function(){var e=this;this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,function(){return e.Bo()}))}},{key:"Lo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Bo",value:function(){var e=Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"qo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"close",value:function(){var e=Object(s.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.qo(),this.No.cancel(),this.Do++,4!==t?this.No.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(j(n.toString()),j("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===R.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Ko(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.eo(n);case 9:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"Ko",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(function(t){var r=Object(a.a)(t,2),i=r[0],o=r[1];e.Do===n&&e.Qo(i,o)},function(n){t(function(){var t=new D(R.UNKNOWN,"Fetching auth token failed: "+n.message);return e.jo(t)})})}},{key:"Qo",value:function(e,t){var n=this,r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr(function(){r(function(){return n.state=2,n.xo=n.Yn.enqueueAfterDelay(n.vo,1e4,function(){return n.Mo()&&(n.state=3),Promise.resolve()}),n.listener.Xr()})}),this.stream.eo(function(e){r(function(){return n.jo(e)})}),this.stream.onMessage(function(e){r(function(){return n.onMessage(e)})})}},{key:"Oo",value:function(){var e=this;this.state=5,this.No.Ro(Object(s.a)(u.a.mark(function t(){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}},t)})))}},{key:"jo",value:function(e){return T("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Go",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget(function(){return t.Do===e?n():(T("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}}}]),e}(),qr=function(e){function t(e,n,r,i,a,o){var u;return Object(d.a)(this,t),(u=Object(l.a)(this,Object(c.a)(t).call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o))).M=a,u}return Object(h.a)(t,e),Object(p.a)(t,[{key:"Wo",value:function(e,t){return this.So.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.No.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:N()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(A(void 0===t||"string"==typeof t),ie.fromBase64String(t||"")):(A(void 0===t||t instanceof Uint8Array),ie.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?R.UNKNOWN:Xt(e.code);return new D(t,e.message||"")}(o);n=new dn(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var l=Sn(e,s.document.name),c=On(s.document.updateTime),h=new xe({mapValue:{fields:s.document.fields}}),f=Ne.newFoundDocument(l,c,h),d=s.targetIds||[],p=s.removedTargetIds||[];n=new hn(d,p,f.key,f)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=Sn(e,v.document),g=v.readTime?On(v.readTime):$.min(),m=Ne.newNoDocument(y,g),b=v.removedTargetIds||[];n=new hn([],b,m.key,m)}else if("documentRemove"in t){t.documentRemove;var k=t.documentRemove;k.document;var _=Sn(e,k.document),w=k.removedTargetIds||[];n=new hn([],w,_,null)}else{if(!("filter"in t))return N();t.filter;var O=t.filter;O.targetId;var E=O.count||0,C=new $t(E),S=O.targetId;n=new fn(S,C)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return $.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?$.min():t.readTime?On(t.readTime):$.min()}(e);return this.listener.zo(t,n)}},{key:"Ho",value:function(e){var t={};t.database=In(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=Ke(r)?{documents:Nn(e,r)}:{query:An(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=wn(e,t.resumeToken):t.snapshotVersion.compareTo($.min())>0&&(n.readTime=_n(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return N()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Lo(t)}},{key:"Jo",value:function(e){var t={};t.database=In(this.M),t.removeTarget=e,this.Lo(t)}}]),t}(Br),Hr=function(e){function t(e,n,r,i){var a;return Object(d.a)(this,t),(a=Object(l.a)(this,Object(c.a)(t).call(this))).authCredentials=e,a.appCheckCredentials=n,a.So=r,a.M=i,a.su=!1,a}return Object(h.a)(t,e),Object(p.a)(t,[{key:"iu",value:function(){if(this.su)throw new D(R.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(function(i){var o=Object(a.a)(i,2),u=o[0],s=o[1];return r.So.co(e,t,n,u,s)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===R.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new D(R.UNKNOWN,e.toString())})}},{key:"_o",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(function(i){var o=Object(a.a)(i,2),u=o[0],s=o[1];return r.So._o(e,t,n,u,s)}).catch(function(e){throw"FirebaseError"===e.name?(e.code===R.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new D(R.UNKNOWN,e.toString())})}},{key:"terminate",value:function(){this.su=!0}}]),t}(function(){return function e(){Object(d.a)(this,e)}}()),Wr=function(){function e(t,n){Object(d.a)(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}return Object(p.a)(e,[{key:"au",value:function(){var e=this;0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,function(){return e.ou=null,e.hu("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()}))}},{key:"lu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"hu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.uu?(j(t),this.uu=!1):T("OnlineStateTracker",t)}},{key:"fu",value:function(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}]),e}(),Kr=function e(t,n,r,i,a){var o=this;Object(d.a)(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.Kr(function(e){r.enqueueAndForget(Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=ri(o),!e.t0){e.next=5;break}return T("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Object(s.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=P(t)).wu.add(4),e.next=4,Yr(n);case 4:return n.yu.set("Unknown"),n.wu.delete(4),e.next=8,Gr(n);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}},e)})))}),this.yu=new Wr(r,i)};function Gr(e){return Qr.apply(this,arguments)}function Qr(){return(Qr=Object(s.a)(u.a.mark(function e(t){var n,r,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!ri(t)){e.next=18;break}n=k(t.mu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}},e,null,[[2,12,15,18]])}))).apply(this,arguments)}function Yr(e){return $r.apply(this,arguments)}function $r(){return($r=Object(s.a)(u.a.mark(function e(t){var n,r,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=k(t.mu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[1,11,14,17]])}))).apply(this,arguments)}function Xr(e,t){var n=P(e);n._u.has(t.targetId)||(n._u.set(t.targetId,t),ni(n)?ti(n):gi(n).Mo()&&Zr(n,t))}function Jr(e,t){var n=P(e),r=gi(n);n._u.delete(t),r.Mo()&&ei(n,t),0===n._u.size&&(r.Mo()?r.$o():ri(n)&&n.yu.set("Unknown"))}function Zr(e,t){e.pu.Z(t.targetId),gi(e).Ho(t)}function ei(e,t){e.pu.Z(t),gi(e).Jo(t)}function ti(e){e.pu=new vn({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e._u.get(t)||null}}),gi(e).start(),e.yu.au()}function ni(e){return ri(e)&&!gi(e).ko()&&e._u.size>0}function ri(e){return 0===P(e).wu.size}function ii(e){e.pu=void 0}function ai(e){return oi.apply(this,arguments)}function oi(){return(oi=Object(s.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t._u.forEach(function(e,n){Zr(t,e)});case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ui(e,t){return si.apply(this,arguments)}function si(){return(si=Object(s.a)(u.a.mark(function e(t,n){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:ii(t),ni(t)?(t.yu.lu(n),ti(t)):t.yu.set("Unknown");case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}function li(e,t,n){return ci.apply(this,arguments)}function ci(){return(ci=Object(s.a)(u.a.mark(function e(t,n,r){var i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.yu.set("Online"),!(n instanceof dn&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Object(s.a)(u.a.mark(function e(t,n){var r,i,a,o;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=k(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t._u.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t._u.delete(o),t.pu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}},e,null,[[2,16,19,22]])}));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),T("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,hi(t,e.t0);case 11:e.next=29;break;case 13:if(n instanceof hn?t.pu.ut(n):n instanceof fn?t.pu._t(n):t.pu.ht(n),r.isEqual($.min())){e.next=29;break}return e.prev=14,e.next=17,dr(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.pu.yt(t);return n.targetChanges.forEach(function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e._u.get(r);i&&e._u.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(function(t){var n=e._u.get(t);if(n){e._u.set(t,n.withResumeToken(ie.EMPTY_BYTE_STRING,n.snapshotVersion)),ei(e,t);var r=new Yn(n.target,t,1,n.sequenceNumber);Zr(e,r)}}),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 22:e.next=29;break;case 24:return e.prev=24,e.t2=e.catch(14),T("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,hi(t,e.t2);case 29:case"end":return e.stop()}},e,null,[[1,6],[14,24]])}))).apply(this,arguments)}function hi(e,t,n){return fi.apply(this,arguments)}function fi(){return(fi=Object(s.a)(u.a.mark(function e(t,n,r){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Kn(n)){e.next=2;break}throw n;case 2:return t.wu.add(1),e.next=5,Yr(t);case 5:t.yu.set("Offline"),r||(r=function(){return dr(t.localStore)}),t.asyncQueue.enqueueRetryable(Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return T("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.wu.delete(1),e.next=6,Gr(t);case 6:case"end":return e.stop()}},e)})));case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function di(e,t){return pi.apply(this,arguments)}function pi(){return(pi=Object(s.a)(u.a.mark(function e(t,n){var r,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=P(t)).asyncQueue.verifyOperationInProgress(),T("RemoteStore","RemoteStore received new credentials"),i=ri(r),r.wu.add(3),e.next=6,Yr(r);case 6:return i&&r.yu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.wu.delete(3),e.next=12,Gr(r);case 12:case"end":return e.stop()}},e)}))).apply(this,arguments)}function vi(e,t){return yi.apply(this,arguments)}function yi(){return(yi=Object(s.a)(u.a.mark(function e(t,n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=P(t),!n){e.next=7;break}return r.wu.delete(2),e.next=5,Gr(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.wu.add(2),e.next=12,Yr(r);case 12:r.yu.set("Unknown");case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function gi(e){return e.Iu||(e.Iu=function(e,t,n){var r=P(e);return r.iu(),new qr(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:ai.bind(null,e),eo:ui.bind(null,e),zo:li.bind(null,e)}),e.mu.push(function(){var t=Object(s.a)(u.a.mark(function t(n){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Iu.Fo(),ni(e)?ti(e):e.yu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Iu.stop();case 6:ii(e);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())),e.Iu}var mi=function(){function e(t,n,r,i,a){Object(d.a)(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new L,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(function(e){})}return Object(p.a)(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout(function(){return t.handleDelayElapsed()},e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new D(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget(function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then(function(t){return e.deferred.resolve(t)})):Promise.resolve()})}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)})}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function bi(e,t){if(j("AsyncQueue","".concat(t,": ").concat(e)),Kn(e))return new D(R.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var ki=function(){function e(t){Object(d.a)(this,e),this.comparator=t?function(e,n){return t(e,n)||ve.comparator(e.key,n.key)}:function(e,t){return ve.comparator(e.key,t.key)},this.keyedMap=nn(),this.sortedSet=new Me(this.comparator)}return Object(p.a)(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal(function(t,n){return e(t),!1})}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach(function(t){e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}},{key:"size",get:function(){return this.sortedSet.size}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),_i=function(){function e(){Object(d.a)(this,e),this.Eu=new Me(ve.comparator)}return Object(p.a)(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Eu.get(t);n?0!==e.type&&3===n.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==n.type?this.Eu=this.Eu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Eu=this.Eu.remove(t):1===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):N():this.Eu=this.Eu.insert(t,e)}},{key:"Au",value:function(){var e=[];return this.Eu.inorderTraversal(function(t,n){e.push(n)}),e}}]),e}(),wi=function(){function e(t,n,r,i,a,o,u,s){Object(d.a)(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Object(p.a)(e,[{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&yt(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}},{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach(function(e){a.push({type:0,doc:e})}),new e(t,n,ki.emptySet(n),a,r,i,!0,!1)}}]),e}(),Oi=function e(){Object(d.a)(this,e),this.Ru=void 0,this.listeners=[]},Ei=function e(){Object(d.a)(this,e),this.queries=new Jt(function(e){return gt(e)},yt),this.onlineState="Unknown",this.bu=new Set};function Ci(e,t){return Si.apply(this,arguments)}function Si(){return(Si=Object(s.a)(u.a.mark(function e(t,n){var r,i,a,o,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=P(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new Oi),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Ru=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=bi(e.t0,"Initialization of query '".concat(mt(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Pu(r.onlineState),o.Ru&&n.Vu(o.Ru)&&Ii(r);case 14:case"end":return e.stop()}},e,null,[[3,9]])}))).apply(this,arguments)}function Ti(e,t){return ji.apply(this,arguments)}function ji(){return(ji=Object(s.a)(u.a.mark(function e(t,n){var r,i,a,o,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=P(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ii(e){e.bu.forEach(function(e){e.next()})}var xi=function(){function e(t,n,r){Object(d.a)(this,e),this.query=t,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}return Object(p.a)(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=k(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new wi(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),a=!0):this.xu(e,this.onlineState)&&(this.Nu(e),a=!0),this.Du=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}},{key:"xu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.ku||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Cu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Nu",value:function(e){e=wi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}]),e}();var Ni=function e(t){Object(d.a)(this,e),this.key=t},Ai=function e(t){Object(d.a)(this,e),this.key=t},Pi=function(){function e(t,n){Object(d.a)(this,e),this.query=t,this.Uu=n,this.qu=null,this.current=!1,this.Ku=on(),this.mutatedKeys=on(),this.Gu=_t(t),this.Qu=new ki(this.Gu)}return Object(p.a)(e,[{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new _i,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(function(e,t){var c=i.get(e),h=bt(n.query,t)?t:null,f=!!c&&n.mutatedKeys.has(c.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;c&&h?c.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.Hu(c,h)||(r.track({type:2,doc:h}),p=!0,(s&&n.Gu(h,s)>0||l&&n.Gu(h,l)<0)&&(u=!0)):!c&&h?(r.track({type:0,doc:h}),p=!0):c&&!h&&(r.track({type:1,doc:c}),p=!0,(s||l)&&(u=!0)),p&&(h?(o=o.add(h),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){var c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{Qu:o,zu:r,ii:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Au();a.sort(function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return N()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)}),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new wi(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1),Xu:o}:{Xu:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new _i,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach(function(e){return t.Uu=t.Uu.add(e)}),e.modifiedDocuments.forEach(function(e){}),e.removedDocuments.forEach(function(e){return t.Uu=t.Uu.delete(e)}),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=on(),this.Qu.forEach(function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))});var n=[];return t.forEach(function(t){e.Ku.has(t)||n.push(new Ai(t))}),this.Ku.forEach(function(e){t.has(e)||n.push(new Ni(e))}),n}},{key:"ta",value:function(e){this.Uu=e._i,this.Ku=on();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ea",value:function(){return wi.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}},{key:"ju",get:function(){return this.Uu}}]),e}(),Ri=function e(t,n,r){Object(d.a)(this,e),this.query=t,this.targetId=n,this.view=r},Di=function e(t){Object(d.a)(this,e),this.key=t,this.na=!1},Li=function(){function e(t,n,r,i,a,o){Object(d.a)(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sa={},this.ia=new Jt(function(e){return gt(e)},yt),this.ra=new Map,this.oa=new Set,this.ua=new Me(ve.comparator),this.aa=new Map,this.ca=new Or,this.ha={},this.la=new Map,this.fa=nr.yn(),this.onlineState="Unknown",this.da=void 0}return Object(p.a)(e,[{key:"isPrimaryClient",get:function(){return!0===this.da}}]),e}();function Mi(e,t){return Fi.apply(this,arguments)}function Fi(){return(Fi=Object(s.a)(u.a.mark(function e(t,n){var r,i,a,o,s,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=na(t),!(o=r.ia.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ea(),e.next=15;break;case 6:return e.next=8,yr(r.localStore,pt(n));case 8:return s=e.sent,r.isPrimaryClient&&Xr(r.remoteStore,s),l=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,Ui(r,n,i,"current"===l);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Ui(e,t,n,r){return Vi.apply(this,arguments)}function Vi(){return(Vi=Object(s.a)(u.a.mark(function e(t,n,r,i){var a,o,l,c,h,f;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t._a=function(e,n,r){return function(){var e=Object(s.a)(u.a.mark(function e(t,n,r,i){var a,o,s;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.ii,!e.t0){e.next=6;break}return e.next=5,br(t.localStore,n.query,!1).then(function(e){var t=e.documents;return n.view.Wu(t,a)});case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Yi(t,n.targetId,s.Xu),s.snapshot));case 8:case"end":return e.stop()}},e)}));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,br(t.localStore,n,!0);case 3:return a=e.sent,o=new Pi(n,a._i),l=o.Wu(a.documents),c=cn.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),h=o.applyChanges(l,t.isPrimaryClient,c),Yi(t,r,h.Xu),f=new Ri(n,r,o),e.abrupt("return",(t.ia.set(n,f),t.ra.has(r)?t.ra.get(r).push(n):t.ra.set(r,[n]),h.snapshot));case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function zi(e,t){return Bi.apply(this,arguments)}function Bi(){return(Bi=Object(s.a)(u.a.mark(function e(t,n){var r,i,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=P(t),i=r.ia.get(n),!((a=r.ra.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ra.set(i.targetId,a.filter(function(e){return!yt(e,n)})),void r.ia.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,gr(r.localStore,i.targetId,!1).then(function(){r.sharedClientState.clearQueryState(i.targetId),Jr(r.remoteStore,i.targetId),Gi(r,i.targetId)}).catch(rr);case 9:e.next=14;break;case 11:return Gi(r,i.targetId),e.next=14,gr(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}},e)}))).apply(this,arguments)}function qi(e,t){return Hi.apply(this,arguments)}function Hi(){return(Hi=Object(s.a)(u.a.mark(function e(t,n){var r,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(t),e.prev=1,e.next=4,pr(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach(function(e,t){var n=r.aa.get(t);n&&(A(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.na=!0:e.modifiedDocuments.size>0?A(n.na):e.removedDocuments.size>0&&(A(n.na),n.na=!1))}),e.next=8,Ji(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,rr(e.t0);case 14:case"end":return e.stop()}},e,null,[[1,10]])}))).apply(this,arguments)}function Wi(e,t,n){var r=P(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ia.forEach(function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)}),function(e,t){var n=P(e);n.onlineState=t;var r=!1;n.queries.forEach(function(e,n){var i,a=k(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Pu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}}),r&&Ii(n)}(r.eventManager,t),i.length&&r.sa.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Ki(){return(Ki=Object(s.a)(u.a.mark(function e(t,n,r){var i,a,o,s,l,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((i=P(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.aa.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Me(ve.comparator)).insert(o,Ne.newNoDocument(o,$.min())),l=on().add(o),c=new ln($.min(),new Map,new Ve(G),s,l),e.next=9,qi(i,c);case 9:i.ua=i.ua.remove(o),i.aa.delete(n),Xi(i),e.next=16;break;case 14:return e.next=16,gr(i.localStore,n,!1).then(function(){return Gi(i,n,r)}).catch(rr);case 16:case"end":return e.stop()}},e)}))).apply(this,arguments)}function Gi(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=k(e.ra.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ia.delete(a),n&&e.sa.wa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ra.delete(t),e.isPrimaryClient&&e.ca.vi(t).forEach(function(t){e.ca.containsKey(t)||Qi(e,t)})}function Qi(e,t){e.oa.delete(t.path.canonicalString());var n=e.ua.get(t);null!==n&&(Jr(e.remoteStore,n),e.ua=e.ua.remove(t),e.aa.delete(n),Xi(e))}function Yi(e,t,n){var r,i=k(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof Ni?(e.ca.addReference(a.key,t),$i(e,a)):a instanceof Ai?(T("SyncEngine","Document no longer in limbo: "+a.key),e.ca.removeReference(a.key,t),e.ca.containsKey(a.key)||Qi(e,a.key)):N()}}catch(o){i.e(o)}finally{i.f()}}function $i(e,t){var n=t.key,r=n.path.canonicalString();e.ua.get(n)||e.oa.has(r)||(T("SyncEngine","New document in limbo: "+n),e.oa.add(r),Xi(e))}function Xi(e){for(;e.oa.size>0&&e.ua.size<e.maxConcurrentLimboResolutions;){var t=e.oa.values().next().value;e.oa.delete(t);var n=new ve(te.fromString(t)),r=e.fa.next();e.aa.set(r,new Di(n)),e.ua=e.ua.insert(n,r),Xr(e.remoteStore,new Yn(pt(lt(n.path)),r,2,H.A))}}function Ji(e,t,n){return Zi.apply(this,arguments)}function Zi(){return(Zi=Object(s.a)(u.a.mark(function e(t,n,r){var i,a,o,l;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=P(t),a=[],o=[],l=[],e.t0=i.ia.isEmpty(),e.t0){e.next=9;break}return i.ia.forEach(function(e,t){l.push(i._a(t,n,r).then(function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=ur.Ys(t.targetId,e);o.push(n)}}))}),e.next=6,Promise.all(l);case 6:return i.sa.zo(a),e.next=9,function(){var e=Object(s.a)(u.a.mark(function e(t,n){var r,i,a,o,s,l,c,h;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=P(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(e){return Wn.forEach(n,function(t){return Wn.forEach(t.Hs,function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)}).next(function(){return Wn.forEach(t.Js,function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)})})})});case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Kn(e.t0)){e.next=10;break}throw e.t0;case 10:T("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=k(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(l=r.ui.get(s),c=l.snapshotVersion,h=l.withLastLimboFreeSnapshotVersion(c),r.ui=r.ui.insert(s,h))}catch(u){i.e(u)}finally{i.f()}case 13:case"end":return e.stop()}},e,null,[[1,6]])}));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ea(e,t){return ta.apply(this,arguments)}function ta(){return(ta=Object(s.a)(u.a.mark(function e(t,n){var r,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((r=P(t)).currentUser.isEqual(n)){e.next=11;break}return T("SyncEngine","User change. New user:",n.toKey()),e.next=5,hr(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.la.forEach(function(e){e.forEach(function(e){e.reject(new D(R.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.la.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,Ji(r,i.di);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}function na(e){var t=P(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=qi.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=function(e,t){var n=P(e),r=n.aa.get(t);if(r&&r.na)return on().add(r.key);var i=on(),a=n.ra.get(t);if(!a)return i;var o,u=k(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,l=n.ia.get(s);i=i.unionWith(l.view.ju)}}catch(c){u.e(c)}finally{u.f()}return i}.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=function(e,t,n){return Ki.apply(this,arguments)}.bind(null,t),t.sa.zo=function(e,t){var n,r=P(e),i=!1,a=k(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var l,c=k(s.listeners);try{for(c.s();!(l=c.n()).done;)l.value.Vu(o)&&(i=!0)}catch(h){c.e(h)}finally{c.f()}s.Ru=o}}}catch(h){a.e(h)}finally{a.f()}i&&Ii(r)}.bind(null,t.eventManager),t.sa.wa=function(e,t,n){var r=P(e),i=r.queries.get(t);if(i){var a,o=k(i.listeners);try{for(o.s();!(a=o.n()).done;)a.value.onError(n)}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}.bind(null,t.eventManager),t}var ra=function(){function e(){Object(d.a)(this,e),this.synchronizeTabs=!1}return Object(p.a)(e,[{key:"initialize",value:function(){var e=Object(s.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=Vr(t.databaseInfo.databaseId),this.sharedClientState=this.ga(t),this.persistence=this.ya(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.pa(t),this.localStore=this.Ia(t);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"pa",value:function(e){return null}},{key:"Ia",value:function(e){return cr(this.persistence,new sr,e.initialUser,this.M)}},{key:"ya",value:function(e){return new Ir(Nr.Yi,this.M)}},{key:"ga",value:function(e){return new Pr}},{key:"terminate",value:function(){var e=Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),ia=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,[{key:"initialize",value:function(){var e=Object(s.a)(u.a.mark(function e(t,n){var r=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Wi(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=ea.bind(null,this.syncEngine),e.next=12,vi(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}},e,this)}));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new Ei}},{key:"createDatastore",value:function(e){var t,n=Vr(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Fr(t));return function(e,t,n,r){return new Hr(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Wi(o.syncEngine,e,0)},a=Dr.vt()?new Dr:new Rr,new Kr(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new Li(e,t,n,r,i,a);return o&&(u.da=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Object(s.a)(u.a.mark(function e(t){var n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=P(t),T("RemoteStore","RemoteStore shutting down."),n.wu.add(5),e.next=5,Yr(n);case 5:n.gu.shutdown(),n.yu.set("Unknown");case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var aa=function(){function e(t){Object(d.a)(this,e),this.observer=t,this.muted=!1}return Object(p.a)(e,[{key:"next",value:function(e){this.observer.next&&this.Ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Aa",value:function(){this.muted=!0}},{key:"Ea",value:function(e,t){var n=this;this.muted||setTimeout(function(){n.muted||e(t)},0)}}]),e}(),oa=function(){function e(t,n,r,i){var a=this;Object(d.a)(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=O.UNAUTHENTICATED,this.clientId=K.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Object(s.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return T("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,function(e){return T("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)})}return Object(p.a)(e,[{key:"getConfiguration",value:function(){var e=Object(s.a)(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new D(R.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new L;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Object(s.a)(u.a.mark(function n(){var r;return u.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=bi(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}},n,null,[[0,14]])}))),t.promise}}]),e}();function ua(e,t){return sa.apply(this,arguments)}function sa(){return(sa=Object(s.a)(u.a.mark(function e(t,n){var r,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),T("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Object(s.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,hr(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(function(){return t.terminate()}),t.offlineComponents=n;case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}function la(e,t){return ca.apply(this,arguments)}function ca(){return(ca=Object(s.a)(u.a.mark(function e(t,n){var r,i;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,ha(t);case 3:return r=e.sent,T("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener(function(e){return di(n.remoteStore,e)}),t.setAppCheckTokenChangeListener(function(e,t){return di(n.remoteStore,t)}),t.onlineComponents=n;case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ha(e){return fa.apply(this,arguments)}function fa(){return(fa=Object(s.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return T("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,ua(t,new ra);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function da(e){return pa.apply(this,arguments)}function pa(){return(pa=Object(s.a)(u.a.mark(function e(t){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return T("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,la(t,new ia);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}function va(e){return ya.apply(this,arguments)}function ya(){return(ya=Object(s.a)(u.a.mark(function e(t){var n,r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,da(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=Mi.bind(null,n.syncEngine),r.onUnlisten=zi.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ga(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new L;return e.asyncQueue.enqueueAndForget(Object(s.a)(u.a.mark(function i(){return u.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new aa({next:function(n){t.enqueueAndForget(function(){return Ti(e,o)}),n.fromCache&&"server"===r.source?i.reject(new D(R.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new xi(n,a,{includeMetadataChanges:!0,ku:!0});return Ci(e,o)},i.next=3,va(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}},i)}))),r.promise}var ma=new Map;function ba(e,t,n){if(!n)throw new D(R.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function ka(e){if(ve.isDocumentKey(e))throw new D(R.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function _a(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":N()}function wa(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new D(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=_a(e);throw new D(R.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var Oa=function(){function e(t){var n;if(Object(d.a)(this,e),void 0===t.host){if(void 0!==t.ssl)throw new D(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new D(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new D(R.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Object(p.a)(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),Ea=function(){function e(t,n,r){Object(d.a)(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Oa({}),this._settingsFrozen=!1,t instanceof fe?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new D(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fe(e.options.projectId)}(t))}return Object(p.a)(e,[{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new D(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Oa(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new F;switch(e.type){case"gapi":var t=e.client;return A(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new z(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new D(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=ma.get(e);t&&(T("ComponentProvider","Removing Datastore"),ma.delete(e),t.terminate())}(this),Promise.resolve()}},{key:"app",get:function(){if(!this._app)throw new D(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}}]),e}();var Ca=function(){function e(t,n,r){Object(d.a)(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Object(p.a)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}},{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Ta(this.firestore,this.converter,this._key.path.popLast())}}]),e}(),Sa=function(){function e(t,n,r){Object(d.a)(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Object(p.a)(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Ta=function(e){function t(e,n,r){var i;return Object(d.a)(this,t),(i=Object(l.a)(this,Object(c.a)(t).call(this,e,n,lt(r))))._path=r,i.type="collection",i}return Object(h.a)(t,e),Object(p.a)(t,[{key:"withConverter",value:function(e){return new t(this.firestore,e,this._path)}},{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Ca(this.firestore,null,new ve(e))}}]),t}(Sa);function ja(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Object(m.o)(e),ba("collection","path",t),e instanceof Ea){var a=te.fromString.apply(te,[t].concat(r));return ka(a),new Ta(e,null,a)}if(!(e instanceof Ca||e instanceof Ta))throw new D(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(te.fromString.apply(te,[t].concat(r)));return ka(o),new Ta(e.firestore,null,o)}var Ia=function(){function e(){var t=this;Object(d.a)(this,e),this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new zr(this,"async_queue_retry"),this.Qa=function(){var e=Ur();e&&T("AsyncQueue","Visibility state changed to "+e.visibilityState),t.No.Po()};var n=Ur();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Qa)}return Object(p.a)(e,[{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.ja(),this.Wa(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;var t=Ur();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.ja(),this.Ba)return new Promise(function(){});var n=new L;return this.Wa(function(){return t.Ba&&t.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)}).then(function(){return n.promise})}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget(function(){return t.$a.push(e),t.za()})}},{key:"za",value:function(){var e=Object(s.a)(u.a.mark(function e(){var t=this;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.$a.length){e.next=14;break}return e.prev=1,e.next=4,this.$a[0]();case 4:this.$a.shift(),this.No.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Kn(e.t0)){e.next=12;break}throw e.t0;case 12:T("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.$a.length>0&&this.No.Ro(function(){return t.za()});case 14:case"end":return e.stop()}},e,this,[[1,8]])}));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t=this,n=this.Fa.then(function(){return t.qa=!0,e().catch(function(e){throw t.Ua=e,t.qa=!1,j("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(function(e){return t.qa=!1,e})});return this.Fa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.ja(),this.Ga.indexOf(e)>-1&&(t=0);var i=mi.createAndSchedule(this,e,t,n,function(e){return r.Ha(e)});return this.La.push(i),i}},{key:"ja",value:function(){this.Ua&&N()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Ja",value:function(){var e=Object(s.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Fa,e.next=3,t;case 3:if(t!==this.Fa){e.next=0;break}case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"Ya",value:function(e){var t,n=k(this.La);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Xa",value:function(e){var t=this;return this.Ja().then(function(){t.La.sort(function(e,t){return e.targetTimeMs-t.targetTimeMs});var n,r=k(t.La);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Ja()})}},{key:"Za",value:function(e){this.Ga.push(e)}},{key:"Ha",value:function(e){var t=this.La.indexOf(e);this.La.splice(t,1)}},{key:"isShuttingDown",get:function(){return this.Ba}}]),e}();var xa=function(e){function t(e,n,r){var i;return Object(d.a)(this,t),(i=Object(l.a)(this,Object(c.a)(t).call(this,e,n,r))).type="firestore",i._queue=new Ia,i._persistenceKey="name"in e?e.name:"[DEFAULT]",i}return Object(h.a)(t,e),Object(p.a)(t,[{key:"_terminate",value:function(){return this._firestoreClient||Pa(this),this._firestoreClient.terminate()}}]),t}(Ea);function Na(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(v.e)();return Object(v.b)(e,"firestore").getImmediate()}function Aa(e){return e._firestoreClient||Pa(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Pa(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new he(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new oa(e._authCredentials,e._appCheckCredentials,e._queue,r)}var Ra=function(){function e(){Object(d.a)(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new D(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new re(n)}return Object(p.a)(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Da=function(){function e(t){Object(d.a)(this,e),this._byteString=t}return Object(p.a)(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(ie.fromBase64String(t))}catch(t){throw new D(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(ie.fromUint8Array(t))}}]),e}(),La=function(){function e(t,n){if(Object(d.a)(this,e),!isFinite(t)||t<-90||t>90)throw new D(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new D(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Object(p.a)(e,[{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return G(this._lat,e._lat)||G(this._long,e._long)}},{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}}]),e}();var Ma=new RegExp("[~\\*/\\[\\]]");function Fa(e,t,n){if(t.search(Ma)>=0)throw Ua("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return Object(r.a)(Ra,Object(f.a)(t.split(".")))._internalPath}catch(i){throw Ua("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function Ua(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new D(R.INVALID_ARGUMENT,u+e+s)}var Va=function(){function e(t,n,r,i,a){Object(d.a)(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Object(p.a)(e,[{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new za(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(Ba("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Ca(this._firestore,this._converter,this._key)}}]),e}(),za=function(e){function t(){return Object(d.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"data",value:function(){return Object(i.a)(Object(c.a)(t.prototype),"data",this).call(this)}}]),t}(Va);function Ba(e,t){return"string"==typeof t?Fa(e,t):t instanceof Ra?t._internalPath:t._delegate._internalPath}var qa=function(){function e(t,n){Object(d.a)(this,e),this.hasPendingWrites=t,this.fromCache=n}return Object(p.a)(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),Ha=function(e){function t(e,n,r,i,a,o){var u;return Object(d.a)(this,t),(u=Object(l.a)(this,Object(c.a)(t).call(this,e,n,r,i,o)))._firestore=e,u._firestoreImpl=e,u.metadata=a,u}return Object(h.a)(t,e),Object(p.a)(t,[{key:"exists",value:function(){return Object(i.a)(Object(c.a)(t.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new Wa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(Ba("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),t}(Va),Wa=function(e){function t(){return Object(d.a)(this,t),Object(l.a)(this,Object(c.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(p.a)(t,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(i.a)(Object(c.a)(t.prototype),"data",this).call(this,e)}}]),t}(Ha),Ka=function(){function e(t,n,r,i){Object(d.a)(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new qa(i.hasPendingWrites,i.fromCache),this.query=r}return Object(p.a)(e,[{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach(function(r){e.call(t,new Wa(n._firestore,n._userDataWriter,r.key,r,new qa(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))})}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new D(R.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map(function(t){return{type:"added",doc:new Wa(e._firestore,e._userDataWriter,t.doc.key,t.doc,new qa(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}})}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(function(e){return t||3!==e.type}).map(function(t){var n=new Wa(e._firestore,e._userDataWriter,t.doc.key,t.doc,new qa(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Ga(t.type),doc:n,oldIndex:i,newIndex:a}})}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}},{key:"docs",get:function(){var e=[];return this.forEach(function(t){return e.push(t)}),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}}]),e}();function Ga(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return N()}}function Qa(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new D(R.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Ya(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){e=a[i]._apply(e)}return e}var $a=function(){function e(){Object(d.a)(this,e)}return Object(p.a)(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(ge(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(se(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw N()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return J(e.fields,function(e,i){r[e]=n.convertValue(i,t)}),r}},{key:"convertGeoPoint",value:function(e){return new La(ue(e.latitude),ue(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map(function(e){return n.convertValue(e,t)})}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=function e(t){var n=t.mapValue.fields.__previous_value__;return le(n)?e(n):n}(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ce(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=oe(e);return new Y(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=te.fromString(e);A(Vn(n));var r=new fe(n.get(1),n.get(3)),i=new ve(n.popFirst(5));return r.isEqual(t)||j("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();var Xa=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(l.a)(this,Object(c.a)(t).call(this))).firestore=e,n}return Object(h.a)(t,e),Object(p.a)(t,[{key:"convertBytes",value:function(e){return new Da(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ca(this.firestore,null,t)}}]),t}($a);function Ja(e){e=wa(e,Sa);var t=wa(e.firestore,xa),n=Aa(t),r=new Xa(t);return Qa(e._query),ga(n,e._query).then(function(n){return new Ka(t,r,e,n)})}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){E=e}(v.a),Object(v.c)(new y.a("firestore",function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new xa(i,new U(e.getProvider("auth-internal")),new q(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a},"PUBLIC")),Object(v.g)(w,"3.4.9",void 0),Object(v.g)(w,"3.4.9","esm2017")}()}).call(this,n(28))},function(e,t,n){"use strict";var r=n(74);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},,,,,,,,function(e,t,n){"use strict";var r,i=n(0),a=(r=i)&&"object"===typeof r&&"default"in r?r.default:r;function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=!("undefined"===typeof window||!window.document||!window.document.createElement);e.exports=function(e,t,n){if("function"!==typeof e)throw new Error("Expected reducePropsToState to be a function.");if("function"!==typeof t)throw new Error("Expected handleStateChangeOnClient to be a function.");if("undefined"!==typeof n&&"function"!==typeof n)throw new Error("Expected mapStateOnServer to either be undefined or a function.");return function(r){if("function"!==typeof r)throw new Error("Expected WrappedComponent to be a React component.");var s,l=[];function c(){s=e(l.map(function(e){return e.props})),h.canUseDOM?t(s):n&&(s=n(s))}var h=function(e){var t,n;function i(){return e.apply(this,arguments)||this}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.peek=function(){return s},i.rewind=function(){if(i.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var e=s;return s=void 0,l=[],e};var o=i.prototype;return o.UNSAFE_componentWillMount=function(){l.push(this),c()},o.componentDidUpdate=function(){c()},o.componentWillUnmount=function(){var e=l.indexOf(this);l.splice(e,1),c()},o.render=function(){return a.createElement(r,this.props)},i}(i.PureComponent);return o(h,"displayName","SideEffect("+function(e){return e.displayName||e.name||"Component"}(r)+")"),o(h,"canUseDOM",u),h}}},function(e,t){var n="undefined"!==typeof Element,r="function"===typeof Map,i="function"===typeof Set,a="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;e.exports=function(e,t){try{return function e(t,o){if(t===o)return!0;if(t&&o&&"object"==typeof t&&"object"==typeof o){if(t.constructor!==o.constructor)return!1;var u,s,l,c;if(Array.isArray(t)){if((u=t.length)!=o.length)return!1;for(s=u;0!==s--;)if(!e(t[s],o[s]))return!1;return!0}if(r&&t instanceof Map&&o instanceof Map){if(t.size!==o.size)return!1;for(c=t.entries();!(s=c.next()).done;)if(!o.has(s.value[0]))return!1;for(c=t.entries();!(s=c.next()).done;)if(!e(s.value[1],o.get(s.value[0])))return!1;return!0}if(i&&t instanceof Set&&o instanceof Set){if(t.size!==o.size)return!1;for(c=t.entries();!(s=c.next()).done;)if(!o.has(s.value[0]))return!1;return!0}if(a&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(o)){if((u=t.length)!=o.length)return!1;for(s=u;0!==s--;)if(t[s]!==o[s])return!1;return!0}if(t.constructor===RegExp)return t.source===o.source&&t.flags===o.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===o.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===o.toString();if((u=(l=Object.keys(t)).length)!==Object.keys(o).length)return!1;for(s=u;0!==s--;)if(!Object.prototype.hasOwnProperty.call(o,l[s]))return!1;if(n&&t instanceof Element)return!1;for(s=u;0!==s--;)if(("_owner"!==l[s]&&"__v"!==l[s]&&"__o"!==l[s]||!t.$$typeof)&&!e(t[l[s]],o[l[s]]))return!1;return!0}return t!==t&&o!==o}(e,t)}catch(o){if((o.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw o}}},function(e,t,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,t){for(var n,o,u=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var l in n=Object(arguments[s]))i.call(n,l)&&(u[l]=n[l]);if(r){o=r(n);for(var c=0;c<o.length;c++)a.call(n,o[c])&&(u[o[c]]=n[o[c]])}}return u}},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(14);n.d(t,"a",function(){return r.f});Object(r.g)("firebase","9.8.1","app")},function(e,t,n){"use strict";var r=n(29);n.d(t,"a",function(){return r.a})},,,,,,,,,,,function(e,t,n){"use strict";var r={_origin:"https://api.emailjs.com"},i=function(e,t,n){if(!e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!n)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates";return!0},a=n(2),o=function e(t){Object(a.a)(this,e),this.status=t.status,this.text=t.responseText},u=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(i,a){var u=new XMLHttpRequest;u.addEventListener("load",function(e){var t=e.target,n=new o(t);200===n.status||"OK"===n.text?i(n):a(n)}),u.addEventListener("error",function(e){var t=e.target;a(new o(t))}),u.open("POST",r._origin+e,!0),Object.keys(n).forEach(function(e){u.setRequestHeader(e,n[e])}),u.send(t)})};t.a={init:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://api.emailjs.com";r._userID=e,r._origin=t},send:function(e,t,n,a){var o=a||r._userID;i(o,e,t);var s={lib_version:"3.6.2",user_id:o,service_id:e,template_id:t,template_params:n};return u("/api/v1.0/email/send",JSON.stringify(s),{"Content-type":"application/json"})},sendForm:function(e,t,n,a){var o=a||r._userID,s=function(e){var t;if(!(t="string"===typeof e?document.querySelector(e):e)||"FORM"!==t.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of form";return t}(n);i(o,e,t);var l=new FormData(s);return l.append("lib_version","3.6.2"),l.append("service_id",e),l.append("template_id",t),l.append("user_id",o),u("/api/v1.0/email/send-form",l)}}},function(e,t,n){"use strict";var r=n(7),i=n(25);var a=n(27);function o(e){var t="function"===typeof Map?new Map:void 0;return(o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return Object(a.a)(e,arguments,Object(r.a)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Object(i.a)(o,e)})(e)}n.d(t,"a",function(){return o})},,function(e,t,n){"use strict";var r=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||v}function b(){}function k(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||v}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=m.prototype;var _=k.prototype=new b;_.constructor=k,y(_,m.prototype),_.isPureReactComponent=!0;var w=Array.isArray,O=Object.prototype.hasOwnProperty,E={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)O.call(t,i)&&!C.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=n;else if(1<s){for(var l=Array(s),c=0;c<s;c++)l[c]=arguments[c+2];a.children=l}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:r,type:e,key:o,ref:u,props:a,_owner:E.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var j=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function x(e,t,n,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case r:case i:s=!0}}if(s)return o=o(s=e),e=""===a?"."+I(s,0):a,w(o)?(n="",null!=e&&(n=e.replace(j,"$&/")+"/"),x(o,t,n,"",function(e){return e})):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(j,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var l=0;l<e.length;l++){var c=a+I(u=e[l],l);s+=x(u,t,n,c,o)}else if("function"===typeof(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e)))for(e=c.call(e),l=0;!(u=e.next()).done;)s+=x(u=u.value,t,n,c=a+I(u,l++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return x(e,r,"","",function(e){return t.call(n,e,i++)}),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},R={transition:null},D={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:R,ReactCurrentOwner:E};t.Children={map:N,forEach:function(e,t,n){N(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return N(e,function(){t++}),t},toArray:function(e){return N(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=a,t.Profiler=u,t.PureComponent=k,t.StrictMode=o,t.Suspense=h,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=y({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(l in t)O.call(t,l)&&!C.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==s?s[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){s=Array(l);for(var c=0;c<l;c++)s[c]=arguments[c+2];i.children=s}return{$$typeof:r,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.1.0"},function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(75)},function(e,t,n){"use strict";var r=n(0),i=n(76);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){y[e]=new v(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){y[e]=new v(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){y[e]=new v(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){y[e]=new v(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){y[e]=new v(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function m(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,m);y[t]=new v(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,m);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,m);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)}),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)});var k=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),w=Symbol.for("react.portal"),O=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),T=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),A=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var L,M=Object.assign;function F(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function z(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return function e(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case O:return"Fragment";case w:return"Portal";case C:return"Profiler";case E:return"StrictMode";case I:return"Suspense";case x:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case T:return(t.displayName||"Context")+".Consumer";case S:return(t._context.displayName||"Context")+".Provider";case j:var n=t.render;return(t=t.displayName)||(t=""!==(t=n.displayName||n.name||"")?"ForwardRef("+t+")":"ForwardRef"),t;case N:return null!==(n=t.displayName||null)?n:e(t.type)||"Memo";case A:n=t._payload,t=t._init;try{return e(t(n))}catch(r){}}return null}(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Q(e,t){var n=t.checked;return M({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){$(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Z(e,t.type,n):t.hasOwnProperty("defaultValue")&&Z(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Z(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ee=Array.isArray;function te(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return M({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(ee(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function ie(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var se,le,ce=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((se=se||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=se.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return le(e,t)})}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},de=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ve(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){de.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ye=M({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function me(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,we=null,Oe=null;function Ee(e){if(e=fi(e)){if("function"!==typeof _e)throw Error(a(280));var t=e.stateNode;t&&(t=pi(t),_e(e.stateNode,e.type,t))}}function Ce(e){we?Oe?Oe.push(e):Oe=[e]:we=e}function Se(){if(we){var e=we,t=Oe;if(Oe=we=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Te(e,t){return e(t)}function je(){}var Ie=!1;function xe(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Te(e,t,n)}finally{Ie=!1,(null!==we||null!==Oe)&&(je(),Se())}}function Ne(e,t){var n=e.stateNode;if(null===n)return null;var r=pi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Ae=!1;if(c)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Ae=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(le){Ae=!1}var Re=!1,De=null,Le=!1,Me=null,Fe={onError:function(e){Re=!0,De=e}};function Ue(e,t,n,r,i,a,o,u,s){Re=!1,De=null,function(e,t,n,r,i,a,o,u,s){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}.apply(Fe,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Be(e){if(Ve(e)!==e)throw Error(a(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Be(i),e;if(o===r)return Be(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?function e(t){if(5===t.tag||6===t.tag)return t;for(t=t.child;null!==t;){var n=e(t);if(null!==n)return n;t=t.sibling}return null}(e):null}var He=i.unstable_scheduleCallback,We=i.unstable_cancelCallback,Ke=i.unstable_shouldYield,Ge=i.unstable_requestPaint,Qe=i.unstable_now,Ye=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,Xe=i.unstable_UserBlockingPriority,Je=i.unstable_NormalPriority,Ze=i.unstable_LowPriority,et=i.unstable_IdlePriority,tt=null,nt=null;var rt=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(it(e)/at|0)|0},it=Math.log,at=Math.LN2;var ot=64,ut=4194304;function st(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=st(u):0!==(a&=o)&&(r=st(a))}else 0!==(o=n&~i)?r=st(o):0!==a&&(r=st(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-rt(t)),r|=e[n],t&=~i;return r}function ct(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=ot;return 0===(4194240&(ot<<=1))&&(ot=64),e}function dt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-rt(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-rt(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var yt=0;function gt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var mt,bt,kt,_t,wt,Ot=!1,Et=[],Ct=null,St=null,Tt=null,jt=new Map,It=new Map,xt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function At(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":St=null;break;case"mouseover":case"mouseout":Tt=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":It.delete(t.pointerId)}}function Pt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=fi(t))&&bt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Rt(e){var t=hi(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void wt(e.priority,function(){kt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=fi(n))&&bt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Lt(e,t,n){Dt(e)&&n.delete(t)}function Mt(){Ot=!1,null!==Ct&&Dt(Ct)&&(Ct=null),null!==St&&Dt(St)&&(St=null),null!==Tt&&Dt(Tt)&&(Tt=null),jt.forEach(Lt),It.forEach(Lt)}function Ft(e,t){e.blockedOn===t&&(e.blockedOn=null,Ot||(Ot=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Mt)))}function Ut(e){function t(t){return Ft(t,e)}if(0<Et.length){Ft(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Ft(Ct,e),null!==St&&Ft(St,e),null!==Tt&&Ft(Tt,e),jt.forEach(t),It.forEach(t),n=0;n<xt.length;n++)(r=xt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<xt.length&&null===(n=xt[0]).blockedOn;)Rt(n),null===n.blockedOn&&xt.shift()}var Vt=k.ReactCurrentBatchConfig,zt=!0;function Bt(e,t,n,r){var i=yt,a=Vt.transition;Vt.transition=null;try{yt=1,Ht(e,t,n,r)}finally{yt=i,Vt.transition=a}}function qt(e,t,n,r){var i=yt,a=Vt.transition;Vt.transition=null;try{yt=4,Ht(e,t,n,r)}finally{yt=i,Vt.transition=a}}function Ht(e,t,n,r){if(zt){var i=Kt(e,t,n,r);if(null===i)Mr(e,t,r,Wt,n),At(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Pt(Ct,e,t,n,r,i),!0;case"dragenter":return St=Pt(St,e,t,n,r,i),!0;case"mouseover":return Tt=Pt(Tt,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return jt.set(a,Pt(jt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,It.set(a,Pt(It.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(At(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==i;){var a=fi(i);if(null!==a&&mt(a),null===(a=Kt(e,t,n,r))&&Mr(e,t,r,Wt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Mr(e,t,r,null,n)}}var Wt=null;function Kt(e,t,n,r){if(Wt=null,null!==(e=hi(e=ke(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Wt=e,null}function Gt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case $e:return 1;case Xe:return 4;case Je:case Ze:return 16;case et:return 536870912;default:return 16}default:return 16}}var Qt=null,Yt=null,$t=null;function Xt(){if($t)return $t;var e,t,n=Yt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function Jt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Zt(){return!0}function en(){return!1}function tn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Zt:en,this.isPropagationStopped=en,this}return M(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Zt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Zt)},persist:function(){},isPersistent:Zt}),t}var nn,rn,an,on={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=tn(on),sn=M({},on,{view:0,detail:0}),ln=tn(sn),cn=M({},sn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==an&&(an&&"mousemove"===e.type?(nn=e.screenX-an.screenX,rn=e.screenY-an.screenY):rn=nn=0,an=e),nn)},movementY:function(e){return"movementY"in e?e.movementY:rn}}),hn=tn(cn),fn=tn(M({},cn,{dataTransfer:0})),dn=tn(M({},sn,{relatedTarget:0})),pn=tn(M({},on,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=tn(M({},on,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),yn=tn(M({},on,{data:0})),gn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=bn[e])&&!!t[e]}function _n(){return kn}var wn=tn(M({},sn,{key:function(e){if(e.key){var t=gn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Jt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?mn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?Jt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Jt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),On=tn(M({},cn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),En=tn(M({},sn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),Cn=tn(M({},on,{propertyName:0,elapsedTime:0,pseudoElement:0})),Sn=tn(M({},cn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Tn=[9,13,27,32],jn=c&&"CompositionEvent"in window,In=null;c&&"documentMode"in document&&(In=document.documentMode);var xn=c&&"TextEvent"in window&&!In,Nn=c&&(!jn||In&&8<In&&11>=In),An=String.fromCharCode(32),Pn=!1;function Rn(e,t){switch(e){case"keyup":return-1!==Tn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ln=!1;var Mn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Mn[e.type]:"textarea"===t}function Un(e,t,n,r){Ce(r),0<(t=Ur(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,zn=null;function Bn(e){Nr(e,0)}function qn(e){if(K(di(e)))return e}function Hn(e,t){if("change"===e)return t}var Wn=!1;if(c){var Kn;if(c){var Gn="oninput"in document;if(!Gn){var Qn=document.createElement("div");Qn.setAttribute("oninput","return;"),Gn="function"===typeof Qn.oninput}Kn=Gn}else Kn=!1;Wn=Kn&&(!document.documentMode||9<document.documentMode)}function Yn(){Vn&&(Vn.detachEvent("onpropertychange",$n),zn=Vn=null)}function $n(e){if("value"===e.propertyName&&qn(zn)){var t=[];Un(t,zn,e,ke(e)),xe(Bn,t)}}function Xn(e,t,n){"focusin"===e?(Yn(),zn=n,(Vn=t).attachEvent("onpropertychange",$n)):"focusout"===e&&Yn()}function Jn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return qn(zn)}function Zn(e,t){if("click"===e)return qn(t)}function er(e,t){if("input"===e||"change"===e)return qn(t)}var tr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function nr(e,t){if(tr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!tr(e[i],t[i]))return!1}return!0}function rr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ir(e,t){var n,r=rr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=rr(r)}}function ar(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function or(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function ur(e){var t=ar(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&or(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=ir(n,a);var o=ir(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var sr=c&&"documentMode"in document&&11>=document.documentMode,lr=null,cr=null,hr=null,fr=!1;function dr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;fr||null==lr||lr!==G(r)||("selectionStart"in(r=lr)&&or(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},hr&&nr(hr,r)||(hr=r,0<(r=Ur(cr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=lr)))}function pr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var vr={animationend:pr("Animation","AnimationEnd"),animationiteration:pr("Animation","AnimationIteration"),animationstart:pr("Animation","AnimationStart"),transitionend:pr("Transition","TransitionEnd")},yr={},gr={};function mr(e){if(yr[e])return yr[e];if(!vr[e])return e;var t,n=vr[e];for(t in n)if(n.hasOwnProperty(t)&&t in gr)return yr[e]=n[t];return e}c&&(gr=document.createElement("div").style,"AnimationEvent"in window||(delete vr.animationend.animation,delete vr.animationiteration.animation,delete vr.animationstart.animation),"TransitionEvent"in window||delete vr.transitionend.transition);var br=mr("animationend"),kr=mr("animationiteration"),_r=mr("animationstart"),wr=mr("transitionend"),Or=new Map,Er="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cr(e,t){Or.set(e,t),s(t,[e])}for(var Sr=0;Sr<Er.length;Sr++){var Tr=Er[Sr];Cr(Tr.toLowerCase(),"on"+(Tr[0].toUpperCase()+Tr.slice(1)))}Cr(br,"onAnimationEnd"),Cr(kr,"onAnimationIteration"),Cr(_r,"onAnimationStart"),Cr("dblclick","onDoubleClick"),Cr("focusin","onFocus"),Cr("focusout","onBlur"),Cr(wr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ir=new Set("cancel close invalid load scroll toggle".split(" ").concat(jr));function xr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,l){if(Ue.apply(this,arguments),Re){if(!Re)throw Error(a(198));var c=De;Re=!1,De=null,Le||(Le=!0,Me=c)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,l=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;xr(i,u,l),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,l=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;xr(i,u,l),a=s}}}if(Le)throw e=Me,Le=!1,Me=null,e}function Ar(e,t){var n=t[si];void 0===n&&(n=t[si]=new Set);var r=e+"__bubble";n.has(r)||(Lr(t,e,2,!1),n.add(r))}function Pr(e,t,n){var r=0;t&&(r|=4),Lr(n,e,r,t)}var Rr="_reactListening"+Math.random().toString(36).slice(2);function Dr(e){if(!e[Rr]){e[Rr]=!0,o.forEach(function(t){"selectionchange"!==t&&(Ir.has(t)||Pr(t,!1,e),Pr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Rr]||(t[Rr]=!0,Pr("selectionchange",!1,t))}}function Lr(e,t,n,r){switch(Gt(t)){case 1:var i=Bt;break;case 4:i=qt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Ae||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Mr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=hi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}xe(function(){var r=a,i=ke(n),o=[];e:{var u=Or.get(e);if(void 0!==u){var s=un,l=e;switch(e){case"keypress":if(0===Jt(n))break e;case"keydown":case"keyup":s=wn;break;case"focusin":l="focus",s=dn;break;case"focusout":l="blur",s=dn;break;case"beforeblur":case"afterblur":s=dn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=fn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=En;break;case br:case kr:case _r:s=pn;break;case wr:s=Cn;break;case"scroll":s=ln;break;case"wheel":s=Sn;break;case"copy":case"cut":case"paste":s=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=On}var c=0!==(4&t),h=!c&&"scroll"===e,f=c?null!==u?u+"Capture":null:u;c=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==f&&(null!=(v=Ne(p,f))&&c.push(Fr(p,v,d)))),h)break;p=p.return}0<c.length&&(u=new s(u,l,null,n,i),o.push({event:u,listeners:c}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!hi(l)&&!l[ui])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(l=(l=n.relatedTarget||n.toElement)?hi(l):null)&&(l!==(h=Ve(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(s=null,l=r),s!==l)){if(c=hn,v="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=On,v="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==s?u:di(s),d=null==l?u:di(l),(u=new c(v,p+"leave",s,n,i)).target=h,u.relatedTarget=d,v=null,hi(i)===r&&((c=new c(f,p+"enter",l,n,i)).target=d,c.relatedTarget=h,v=c),h=v,s&&l)e:{for(f=l,p=0,d=c=s;d;d=Vr(d))p++;for(d=0,v=f;v;v=Vr(v))d++;for(;0<p-d;)c=Vr(c),p--;for(;0<d-p;)f=Vr(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=Vr(c),f=Vr(f)}c=null}else c=null;null!==s&&zr(o,u,s,c,!1),null!==l&&null!==h&&zr(o,h,l,c,!0)}if("select"===(s=(u=r?di(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Hn;else if(Fn(u))if(Wn)y=er;else{y=Jn;var g=Xn}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=Zn);switch(y&&(y=y(e,r))?Un(o,y,n,i):(g&&g(e,u,r),"focusout"===e&&(g=u._wrapperState)&&g.controlled&&"number"===u.type&&Z(u,"number",u.value)),g=r?di(r):window,e){case"focusin":(Fn(g)||"true"===g.contentEditable)&&(lr=g,cr=r,hr=null);break;case"focusout":hr=cr=lr=null;break;case"mousedown":fr=!0;break;case"contextmenu":case"mouseup":case"dragend":fr=!1,dr(o,n,i);break;case"selectionchange":if(sr)break;case"keydown":case"keyup":dr(o,n,i)}var m;if(jn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Ln?Rn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Nn&&"ko"!==n.locale&&(Ln||"onCompositionStart"!==b?"onCompositionEnd"===b&&Ln&&(m=Xt()):(Yt="value"in(Qt=i)?Qt.value:Qt.textContent,Ln=!0)),0<(g=Ur(r,b)).length&&(b=new yn(b,e,null,n,i),o.push({event:b,listeners:g}),m?b.data=m:null!==(m=Dn(n))&&(b.data=m))),(m=xn?function(e,t){switch(e){case"compositionend":return Dn(t);case"keypress":return 32!==t.which?null:(Pn=!0,An);case"textInput":return(e=t.data)===An&&Pn?null:e;default:return null}}(e,n):function(e,t){if(Ln)return"compositionend"===e||!jn&&Rn(e,t)?(e=Xt(),$t=Yt=Qt=null,Ln=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Nn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&(0<(r=Ur(r,"onBeforeInput")).length&&(i=new yn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=m))}Nr(o,t)})}function Fr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ur(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ne(e,n))&&r.unshift(Fr(e,a,i)),null!=(a=Ne(e,t))&&r.push(Fr(e,a,i))),e=e.return}return r}function Vr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function zr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,l=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==l&&(u=l,i?null!=(s=Ne(n,a))&&o.unshift(Fr(n,s,u)):i||null!=(s=Ne(n,a))&&o.push(Fr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Br=/\r\n?/g,qr=/\u0000|\uFFFD/g;function Hr(e){return("string"===typeof e?e:""+e).replace(Br,"\n").replace(qr,"")}function Wr(e,t,n){if(t=Hr(t),Hr(e)!==t&&n)throw Error(a(425))}function Kr(){}var Gr=null,Qr=null;function Yr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var $r="function"===typeof setTimeout?setTimeout:void 0,Xr="function"===typeof clearTimeout?clearTimeout:void 0,Jr="function"===typeof Promise?Promise:void 0,Zr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof Jr?function(e){return Jr.resolve(null).then(e).catch(ei)}:$r;function ei(e){setTimeout(function(){throw e})}function ti(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function ni(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ri(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ii=Math.random().toString(36).slice(2),ai="__reactFiber$"+ii,oi="__reactProps$"+ii,ui="__reactContainer$"+ii,si="__reactEvents$"+ii,li="__reactListeners$"+ii,ci="__reactHandles$"+ii;function hi(e){var t=e[ai];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ui]||n[ai]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ri(e);null!==e;){if(n=e[ai])return n;e=ri(e)}return t}n=(e=n).parentNode}return null}function fi(e){return!(e=e[ai]||e[ui])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function di(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function pi(e){return e[oi]||null}var vi=[],yi=-1;function gi(e){return{current:e}}function mi(e){0>yi||(e.current=vi[yi],vi[yi]=null,yi--)}function bi(e,t){vi[++yi]=e.current,e.current=t}var ki={},_i=gi(ki),wi=gi(!1),Oi=ki;function Ei(e,t){var n=e.type.contextTypes;if(!n)return ki;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ci(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Si(){mi(wi),mi(_i)}function Ti(e,t,n){if(_i.current!==ki)throw Error(a(168));bi(_i,t),bi(wi,n)}function ji(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,B(e)||"Unknown",i));return M({},n,r)}function Ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ki,Oi=_i.current,bi(_i,e),bi(wi,wi.current),!0}function xi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=ji(e,t,Oi),r.__reactInternalMemoizedMergedChildContext=e,mi(wi),mi(_i),bi(_i,e)):mi(wi),bi(wi,n)}var Ni=null,Ai=!1,Pi=!1;function Ri(e){null===Ni?Ni=[e]:Ni.push(e)}function Di(){if(!Pi&&null!==Ni){Pi=!0;var e=0,t=yt;try{var n=Ni;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ni=null,Ai=!1}catch(i){throw null!==Ni&&(Ni=Ni.slice(e+1)),He($e,Di),i}finally{yt=t,Pi=!1}}return null}var Li=k.ReactCurrentBatchConfig;function Mi(e,t){if(e&&e.defaultProps){for(var n in t=M({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Fi=gi(null),Ui=null,Vi=null,zi=null;function Bi(){zi=Vi=Ui=null}function qi(e){var t=Fi.current;mi(Fi),e._currentValue=t}function Hi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Wi(e,t){Ui=e,zi=Vi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(fu=!0),e.firstContext=null)}function Ki(e){var t=e._currentValue;if(zi!==e)if(e={context:e,memoizedValue:t,next:null},null===Vi){if(null===Ui)throw Error(a(308));Vi=e,Ui.dependencies={lanes:0,firstContext:e}}else Vi=Vi.next=e;return t}var Gi=null,Qi=!1;function Yi(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $i(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Xi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ji(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,qs(e)?(null===(e=n.interleaved)?(t.next=t,null===Gi?Gi=[n]:Gi.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function Zi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function ea(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ta(e,t,n,r){var i=e.updateQueue;Qi=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,l=s.next;s.next=null,null===o?a=l:o.next=l,o=s;var c=e.alternate;null!==c&&((u=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===u?c.firstBaseUpdate=l:u.next=l,c.lastBaseUpdate=s))}if(null!==a){var h=i.baseState;for(o=0,c=l=s=null,u=a;;){var f=u.lane,d=u.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(f=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=v.payload)?p.call(d,h,f):p)||void 0===f)break e;h=M({},h,f);break e;case 2:Qi=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[u]:f.push(u))}else d={eventTime:d,lane:f,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===c?(l=c=d,s=h):c=c.next=d,o|=f;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(f=u).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(s=h),i.baseState=s,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);_s|=o,e.lanes=o,e.memoizedState=h}}function na(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ra=(new r.Component).refs;function ia(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:M({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var aa={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Us(),i=Vs(e),a=Xi(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),Ji(e,a),null!==(t=zs(e,i,r))&&Zi(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Us(),i=Vs(e),a=Xi(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),Ji(e,a),null!==(t=zs(e,i,r))&&Zi(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Us(),r=Vs(e),i=Xi(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),Ji(e,i),null!==(t=zs(e,r,n))&&Zi(t,e,r)}};function oa(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!nr(n,r)||!nr(i,a))}function ua(e,t,n){var r=!1,i=ki,a=t.contextType;return"object"===typeof a&&null!==a?a=Ki(a):(i=Ci(t)?Oi:_i.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ei(e,i):ki),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=aa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function sa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&aa.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ra,Yi(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Ki(a):(a=Ci(t)?Oi:_i.current,i.context=Ei(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(ia(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&aa.enqueueReplaceState(i,i.state,null),ta(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var ca=[],ha=0,fa=null,da=0,pa=[],va=0,ya=null,ga=1,ma="";function ba(e,t){ca[ha++]=da,ca[ha++]=fa,fa=e,da=t}function ka(e,t,n){pa[va++]=ga,pa[va++]=ma,pa[va++]=ya,ya=e;var r=ga;e=ma;var i=32-rt(r)-1;r&=~(1<<i),n+=1;var a=32-rt(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ga=1<<32-rt(t)+i|n<<i|r,ma=a+e}else ga=1<<a|n<<i|r,ma=e}function _a(e){null!==e.return&&(ba(e,1),ka(e,1,0))}function wa(e){for(;e===fa;)fa=ca[--ha],ca[ha]=null,da=ca[--ha],ca[ha]=null;for(;e===ya;)ya=pa[--va],pa[va]=null,ma=pa[--va],pa[va]=null,ga=pa[--va],pa[va]=null}var Oa=null,Ea=null,Ca=!1,Sa=null;function Ta(e,t){var n=pl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ja(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Oa=e,Ea=ni(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Oa=e,Ea=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ya?{id:ga,overflow:ma}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=pl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Oa=e,Ea=null,!0);default:return!1}}function Ia(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function xa(e){if(Ca){var t=Ea;if(t){var n=t;if(!ja(e,t)){if(Ia(e))throw Error(a(418));t=ni(n.nextSibling);var r=Oa;t&&ja(e,t)?Ta(r,n):(e.flags=-4097&e.flags|2,Ca=!1,Oa=e)}}else{if(Ia(e))throw Error(a(418));e.flags=-4097&e.flags|2,Ca=!1,Oa=e}}}function Na(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Oa=e}function Aa(e){if(e!==Oa)return!1;if(!Ca)return Na(e),Ca=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!Yr(e.type,e.memoizedProps)),t&&(t=Ea)){if(Ia(e)){for(e=Ea;e;)e=ni(e.nextSibling);throw Error(a(418))}for(;t;)Ta(e,t),t=ni(t.nextSibling)}if(Na(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ea=ni(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ea=null}}else Ea=Oa?ni(e.stateNode.nextSibling):null;return!0}function Pa(){Ea=Oa=null,Ca=!1}function Ra(e){null===Sa?Sa=[e]:Sa.push(e)}function Da(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:((t=function(e){var t=i.refs;t===ra&&(t=i.refs={}),null===e?delete t[o]:t[o]=e})._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function La(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ma(e){return(0,e._init)(e._payload)}function Fa(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=yl(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=kl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var a=n.type;return a===O?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===A&&Ma(a)===t.type)?((r=i(t,n.props)).ref=Da(e,t,n),r.return=e,r):((r=gl(n.type,n.key,n.props,null,e.mode,r)).ref=Da(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=_l(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,a){return null===t||7!==t.tag?((t=ml(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=kl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=gl(t.type,t.key,t.props,null,e.mode,n)).ref=Da(e,null,t),n.return=e,n;case w:return(t=_l(t,e.mode,n)).return=e,t;case A:return f(e,(0,t._init)(t._payload),n)}if(ee(t)||D(t))return(t=ml(t,e.mode,n,null)).return=e,t;La(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case A:return d(e,t,(i=n._init)(n._payload),r)}if(ee(n)||D(n))return null!==i?null:h(e,t,n,r,null);La(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case A:return p(e,t,n,(0,r._init)(r._payload),i)}if(ee(r)||D(r))return h(t,e=e.get(n)||null,r,i,null);La(t,r)}return null}function v(i,a,u,s){for(var l=null,c=null,h=a,v=a=0,y=null;null!==h&&v<u.length;v++){h.index>v?(y=h,h=null):y=h.sibling;var g=d(i,h,u[v],s);if(null===g){null===h&&(h=y);break}e&&h&&null===g.alternate&&t(i,h),a=o(g,a,v),null===c?l=g:c.sibling=g,c=g,h=y}if(v===u.length)return n(i,h),Ca&&ba(i,v),l;if(null===h){for(;v<u.length;v++)null!==(h=f(i,u[v],s))&&(a=o(h,a,v),null===c?l=h:c.sibling=h,c=h);return Ca&&ba(i,v),l}for(h=r(i,h);v<u.length;v++)null!==(y=p(h,i,v,u[v],s))&&(e&&null!==y.alternate&&h.delete(null===y.key?v:y.key),a=o(y,a,v),null===c?l=y:c.sibling=y,c=y);return e&&h.forEach(function(e){return t(i,e)}),Ca&&ba(i,v),l}function y(i,u,s,l){var c=D(s);if("function"!==typeof c)throw Error(a(150));if(null==(s=c.call(s)))throw Error(a(151));for(var h=c=null,v=u,y=u=0,g=null,m=s.next();null!==v&&!m.done;y++,m=s.next()){v.index>y?(g=v,v=null):g=v.sibling;var b=d(i,v,m.value,l);if(null===b){null===v&&(v=g);break}e&&v&&null===b.alternate&&t(i,v),u=o(b,u,y),null===h?c=b:h.sibling=b,h=b,v=g}if(m.done)return n(i,v),Ca&&ba(i,y),c;if(null===v){for(;!m.done;y++,m=s.next())null!==(m=f(i,m.value,l))&&(u=o(m,u,y),null===h?c=m:h.sibling=m,h=m);return Ca&&ba(i,y),c}for(v=r(i,v);!m.done;y++,m=s.next())null!==(m=p(v,i,y,m.value,l))&&(e&&null!==m.alternate&&v.delete(null===m.key?y:m.key),u=o(m,u,y),null===h?c=m:h.sibling=m,h=m);return e&&v.forEach(function(e){return t(i,e)}),Ca&&ba(i,y),c}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===O&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var l=o.key,c=a;null!==c;){if(c.key===l){if((l=o.type)===O){if(7===c.tag){n(r,c.sibling),(a=i(c,o.props.children)).return=r,r=a;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===A&&Ma(l)===c.type){n(r,c.sibling),(a=i(c,o.props)).ref=Da(r,c,o),a.return=r,r=a;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===O?((a=ml(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=gl(o.type,o.key,o.props,null,r.mode,s)).ref=Da(r,a,o),s.return=r,r=s)}return u(r);case w:e:{for(c=o.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=_l(o,r.mode,s)).return=r,r=a}return u(r);case A:return e(r,a,(c=o._init)(o._payload),s)}if(ee(o))return v(r,a,o,s);if(D(o))return y(r,a,o,s);La(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=kl(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ua=Fa(!0),Va=Fa(!1),za={},Ba=gi(za),qa=gi(za),Ha=gi(za);function Wa(e){if(e===za)throw Error(a(174));return e}function Ka(e,t){switch(bi(Ha,t),bi(qa,e),bi(Ba,za),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}mi(Ba),bi(Ba,t)}function Ga(){mi(Ba),mi(qa),mi(Ha)}function Qa(e){Wa(Ha.current);var t=Wa(Ba.current),n=ue(t,e.type);t!==n&&(bi(qa,e),bi(Ba,n))}function Ya(e){qa.current===e&&(mi(Ba),mi(qa))}var $a=gi(0);function Xa(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ja=[];function Za(){for(var e=0;e<Ja.length;e++)Ja[e]._workInProgressVersionPrimary=null;Ja.length=0}var eo=k.ReactCurrentDispatcher,to=k.ReactCurrentBatchConfig,no=0,ro=null,io=null,ao=null,oo=!1,uo=!1,so=0,lo=0;function co(){throw Error(a(321))}function ho(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!tr(e[n],t[n]))return!1;return!0}function fo(e,t,n,r,i,o){if(no=o,ro=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,eo.current=null===e||null===e.memoizedState?Go:Qo,e=n(r,i),uo){o=0;do{if(uo=!1,so=0,25<=o)throw Error(a(301));o+=1,ao=io=null,t.updateQueue=null,eo.current=Yo,e=n(r,i)}while(uo)}if(eo.current=Ko,t=null!==io&&null!==io.next,no=0,ao=io=ro=null,oo=!1,t)throw Error(a(300));return e}function po(){var e=0!==so;return so=0,e}function vo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ao?ro.memoizedState=ao=e:ao=ao.next=e,ao}function yo(){if(null===io){var e=ro.alternate;e=null!==e?e.memoizedState:null}else e=io.next;var t=null===ao?ro.memoizedState:ao.next;if(null!==t)ao=t,io=e;else{if(null===e)throw Error(a(310));e={memoizedState:(io=e).memoizedState,baseState:io.baseState,baseQueue:io.baseQueue,queue:io.queue,next:null},null===ao?ro.memoizedState=ao=e:ao=ao.next=e}return ao}function go(e,t){return"function"===typeof t?t(e):t}function mo(e){var t=yo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=io,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,l=null,c=o;do{var h=c.lane;if((no&h)===h)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(s=l=f,u=r):l=l.next=f,ro.lanes|=h,_s|=h}c=c.next}while(null!==c&&c!==o);null===l?u=r:l.next=s,tr(r,t.memoizedState)||(fu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,ro.lanes|=o,_s|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function bo(e){var t=yo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);tr(o,t.memoizedState)||(fu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ko(){}function _o(e,t){var n=ro,r=yo(),i=t(),o=!tr(r.memoizedState,i);if(o&&(r.memoizedState=i,fu=!0),r=r.queue,Ao(Eo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==ao&&1&ao.memoizedState.tag){if(n.flags|=2048,To(9,Oo.bind(null,n,r,i,t),void 0,null),null===ps)throw Error(a(349));0!==(30&no)||wo(n,t,i)}return i}function wo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ro.updateQueue)?(t={lastEffect:null,stores:null},ro.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Co(t)&&zs(e,1,-1)}function Eo(e,t,n){return n(function(){Co(t)&&zs(e,1,-1)})}function Co(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!tr(e,n)}catch(r){return!0}}function So(e){var t=vo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:go,lastRenderedState:e},t.queue=e,e=e.dispatch=function(e,t,n){var r=Vs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Bo(e))qo(t,i);else{Ho(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,tr(u,o))return}catch(s){}n=Us(),null!==(e=zs(e,r,n))&&Wo(e,t,r)}}.bind(null,ro,e),[t.memoizedState,e]}function To(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ro.updateQueue)?(t={lastEffect:null,stores:null},ro.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jo(){return yo().memoizedState}function Io(e,t,n,r){var i=vo();ro.flags|=e,i.memoizedState=To(1|t,n,void 0,void 0===r?null:r)}function xo(e,t,n,r){var i=yo();r=void 0===r?null:r;var a=void 0;if(null!==io){var o=io.memoizedState;if(a=o.destroy,null!==r&&ho(r,o.deps))return void(i.memoizedState=To(t,n,a,r))}ro.flags|=e,i.memoizedState=To(1|t,n,a,r)}function No(e,t){return Io(8390656,8,e,t)}function Ao(e,t){return xo(2048,8,e,t)}function Po(e,t){return xo(4,2,e,t)}function Ro(e,t){return xo(4,4,e,t)}function Do(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Lo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,xo(4,4,Do.bind(null,t,e),n)}function Mo(){}function Fo(e,t){var n=yo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ho(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Uo(e,t){var n=yo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ho(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vo(e,t,n){return 0===(21&no)?(e.baseState&&(e.baseState=!1,fu=!0),e.memoizedState=n):(tr(n,t)||(n=ft(),ro.lanes|=n,_s|=n,e.baseState=!0),t)}function zo(){return yo().memoizedState}function Bo(e){var t=e.alternate;return e===ro||null!==t&&t===ro}function qo(e,t){uo=oo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ho(e,t,n){qs(e)?(null===(e=t.interleaved)?(n.next=n,null===Gi?Gi=[t]:Gi.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Wo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Ko={readContext:Ki,useCallback:co,useContext:co,useEffect:co,useImperativeHandle:co,useInsertionEffect:co,useLayoutEffect:co,useMemo:co,useReducer:co,useRef:co,useState:co,useDebugValue:co,useDeferredValue:co,useTransition:co,useMutableSource:co,useSyncExternalStore:co,useId:co,unstable_isNewReconciler:!1},Go={readContext:Ki,useCallback:function(e,t){return vo().memoizedState=[e,void 0===t?null:t],e},useContext:Ki,useEffect:No,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Io(4194308,4,Do.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Io(4194308,4,e,t)},useInsertionEffect:function(e,t){return Io(4,2,e,t)},useMemo:function(e,t){var n=vo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=function(e,t,n){var r=Vs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Bo(e)?qo(t,n):(Ho(e,t,n),null!==(e=zs(e,r,n=Us()))&&Wo(e,t,r))}.bind(null,ro,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vo().memoizedState=e},useState:So,useDebugValue:Mo,useDeferredValue:function(e){return vo().memoizedState=e},useTransition:function(){var e=So(!1),t=e[0];return e=function(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=to.transition;to.transition={};try{e(!1),t()}finally{yt=n,to.transition=r}}.bind(null,e[1]),vo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ro,i=vo();if(Ca){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===ps)throw Error(a(349));0!==(30&no)||wo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,No(Eo.bind(null,r,o,e),[e]),r.flags|=2048,To(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=vo(),t=ps.identifierPrefix;if(Ca){var n=ma;t=":"+t+"R"+(n=(ga&~(1<<32-rt(ga)-1)).toString(32)+n),0<(n=so++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=lo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Qo={readContext:Ki,useCallback:Fo,useContext:Ki,useEffect:Ao,useImperativeHandle:Lo,useInsertionEffect:Po,useLayoutEffect:Ro,useMemo:Uo,useReducer:mo,useRef:jo,useState:function(){return mo(go)},useDebugValue:Mo,useDeferredValue:function(e){return Vo(yo(),io.memoizedState,e)},useTransition:function(){return[mo(go)[0],yo().memoizedState]},useMutableSource:ko,useSyncExternalStore:_o,useId:zo,unstable_isNewReconciler:!1},Yo={readContext:Ki,useCallback:Fo,useContext:Ki,useEffect:Ao,useImperativeHandle:Lo,useInsertionEffect:Po,useLayoutEffect:Ro,useMemo:Uo,useReducer:bo,useRef:jo,useState:function(){return bo(go)},useDebugValue:Mo,useDeferredValue:function(e){var t=yo();return null===io?t.memoizedState=e:Vo(t,io.memoizedState,e)},useTransition:function(){return[bo(go)[0],yo().memoizedState]},useMutableSource:ko,useSyncExternalStore:_o,useId:zo,unstable_isNewReconciler:!1};function $o(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function Xo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Jo,Zo,eu,tu,nu="function"===typeof WeakMap?WeakMap:Map;function ru(e,t,n){(n=Xi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Is||(Is=!0,xs=r),Xo(0,t)},n}function iu(e,t,n){(n=Xi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Xo(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){Xo(0,t),"function"!==typeof r&&(null===Ns?Ns=new Set([this]):Ns.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function au(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new nu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=function(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Us(),e.pingedLanes|=e.suspendedLanes&n,ps===e&&(ys&n)===n&&(4===bs||3===bs&&(130023424&ys)===ys&&500>Qe()-Ss?Js(e,0):Os|=n),Hs(e,t)}.bind(null,e,t,n),t.then(e,e))}function ou(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function uu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Xi(-1,1)).tag=2,Ji(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function su(e,t){if(!Ca)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function lu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function cu(e,t,n){var r=t.pendingProps;switch(wa(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lu(t),null;case 1:return Ci(t.type)&&Si(),lu(t),null;case 3:return r=t.stateNode,Ga(),mi(wi),mi(_i),Za(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Aa(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Sa&&(Ks(Sa),Sa=null))),Zo(e,t),lu(t),null;case 5:Ya(t);var i=Wa(Ha.current);if(n=t.type,null!==e&&null!=t.stateNode)eu(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return lu(t),null}if(e=Wa(Ba.current),Aa(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ai]=t,r[oi]=o,e=0!==(1&t.mode),n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(i=0;i<jr.length;i++)Ar(jr[i],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":Y(r,o),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ar("invalid",r);break;case"textarea":re(r,o),Ar("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var l=o[s];"children"===s?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Wr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Wr(r.textContent,l,e),i=["children",""+l]):u.hasOwnProperty(s)&&null!=l&&"onScroll"===s&&Ar("scroll",r)}switch(n){case"input":W(r),J(r,o,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Kr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ai]=t,e[oi]=r,Jo(e,t,!1,!1),t.stateNode=e;e:{switch(s=me(n,r),n){case"dialog":Ar("cancel",e),Ar("close",e),i=r;break;case"iframe":case"object":case"embed":Ar("load",e),i=r;break;case"video":case"audio":for(i=0;i<jr.length;i++)Ar(jr[i],e);i=r;break;case"source":Ar("error",e),i=r;break;case"img":case"image":case"link":Ar("error",e),Ar("load",e),i=r;break;case"details":Ar("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Ar("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=M({},r,{value:void 0}),Ar("invalid",e);break;case"textarea":re(e,r),i=ne(e,r),Ar("invalid",e);break;default:i=r}for(o in ge(n,i),l=i)if(l.hasOwnProperty(o)){var c=l[o];"style"===o?ve(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&ce(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Ar("scroll",e):null!=c&&b(e,o,c,s))}switch(n){case"input":W(e),J(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?te(e,!!r.multiple,o,!1):null!=r.defaultValue&&te(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Kr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return lu(t),null;case 6:if(e&&null!=t.stateNode)tu(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Wa(Ha.current),Wa(Ba.current),Aa(t)){if(r=t.stateNode,n=t.memoizedProps,r[ai]=t,(o=r.nodeValue!==n)&&null!==(e=Oa))switch(e.tag){case 3:Wr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Wr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ai]=t,t.stateNode=r}return lu(t),null;case 13:if(mi($a),r=t.memoizedState,Ca&&null!==Ea&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Ea;r;)r=ni(r.nextSibling);return Pa(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Aa(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[ai]=t}else Pa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return lu(t),null}return null!==Sa&&(Ks(Sa),Sa=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Aa(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&$a.current)?0===bs&&(bs=3):tl())),null!==t.updateQueue&&(t.flags|=4),lu(t),null);case 4:return Ga(),Zo(e,t),null===e&&Dr(t.stateNode.containerInfo),lu(t),null;case 10:return qi(t.type._context),lu(t),null;case 17:return Ci(t.type)&&Si(),lu(t),null;case 19:if(mi($a),null===(o=t.memoizedState))return lu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)su(o,!1);else{if(0!==bs||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=Xa(e))){for(t.flags|=128,su(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return bi($a,1&$a.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>Ts&&(t.flags|=128,r=!0,su(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Xa(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),su(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Ca)return lu(t),null}else 2*Qe()-o.renderingStartTime>Ts&&1073741824!==n&&(t.flags|=128,r=!0,su(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,n=$a.current,bi($a,r?1&n|2:1&n),t):(lu(t),null);case 22:case 23:return Xs(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&gs)&&(lu(t),6&t.subtreeFlags&&(t.flags|=8192)):lu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}Jo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Zo=function(){},eu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Wa(Ba.current);var a,o=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),o=[];break;case"select":i=M({},i,{value:void 0}),r=M({},r,{value:void 0}),o=[];break;case"textarea":i=ne(e,i),r=ne(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Kr)}for(c in ge(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var s=i[c];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(u.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(s=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==s&&(null!=l||null!=s))if("style"===c)if(s){for(a in s)!s.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&s[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(o||(o=[]),o.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,s=s?s.__html:void 0,null!=l&&s!==l&&(o=o||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(u.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Ar("scroll",e),o||s===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},tu=function(e,t,n,r){n!==r&&(t.flags|=4)};var hu=k.ReactCurrentOwner,fu=!1;function du(e,t,n,r){t.child=null===e?Va(t,null,n,r):Ua(t,e.child,n,r)}function pu(e,t,n,r,i){n=n.render;var a=t.ref;return Wi(t,i),r=fo(e,t,n,r,a,i),n=po(),null===e||fu?(Ca&&n&&_a(t),t.flags|=1,du(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Du(e,t,i))}function vu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||vl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=gl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,yu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:nr)(o,r)&&e.ref===t.ref)return Du(e,t,i)}return t.flags|=1,(e=yl(a,r)).ref=t.ref,e.return=t,t.child=e}function yu(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(nr(a,r)&&e.ref===t.ref){if(fu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Du(e,t,i);0!==(131072&e.flags)&&(fu=!0)}}return bu(e,t,n,r,i)}function gu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},bi(ms,gs),gs|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,bi(ms,gs),gs|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,bi(ms,gs),gs|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,bi(ms,gs),gs|=r;return du(e,t,i,n),t.child}function mu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function bu(e,t,n,r,i){var a=Ci(n)?Oi:_i.current;return a=Ei(t,a),Wi(t,i),n=fo(e,t,n,r,a,i),r=po(),null===e||fu?(Ca&&r&&_a(t),t.flags|=1,du(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Du(e,t,i))}function ku(e,t,n,r,i){if(Ci(n)){var a=!0;Ii(t)}else a=!1;if(Wi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ua(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ki(l):l=Ei(t,l=Ci(n)?Oi:_i.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==l)&&sa(t,o,r,l),Qi=!1;var f=t.memoizedState;o.state=f,ta(t,r,o,i),s=t.memoizedState,u!==r||f!==s||wi.current||Qi?("function"===typeof c&&(ia(t,n,c,r),s=t.memoizedState),(u=Qi||oa(t,n,u,r,f,s,l))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=l,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,$i(e,t),u=t.memoizedProps,l=t.type===t.elementType?u:Mi(t.type,u),o.props=l,h=t.pendingProps,f=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Ki(s):s=Ei(t,s=Ci(n)?Oi:_i.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==h||f!==s)&&sa(t,o,r,s),Qi=!1,f=t.memoizedState,o.state=f,ta(t,r,o,i);var p=t.memoizedState;u!==h||f!==p||wi.current||Qi?("function"===typeof d&&(ia(t,n,d,r),p=t.memoizedState),(l=Qi||oa(t,n,l,r,f,p,s)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=l):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return _u(e,t,n,r,a,i)}function _u(e,t,n,r,i,a){mu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&xi(t,n,!1),Du(e,t,a);r=t.stateNode,hu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ua(t,e.child,null,a),t.child=Ua(t,null,u,a)):du(e,t,u,a),t.memoizedState=r.state,i&&xi(t,n,!0),t.child}function wu(e){var t=e.stateNode;t.pendingContext?Ti(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ti(0,t.context,!1),Ka(e,t.containerInfo)}function Ou(e,t,n,r,i){return Pa(),Ra(i),t.flags|=256,du(e,t,n,r),t.child}var Eu={dehydrated:null,treeContext:null,retryLane:0};function Cu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Su(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Tu(e,t,n){var r,i=t.pendingProps,o=$a.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),bi($a,1&o),null===e)return xa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,u?(i=t.mode,u=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=o):u=bl(o,i,0,null),e=ml(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Cu(n),t.memoizedState=Eu,e):ju(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Nu(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=bl({mode:"visible",children:i.children},o,0,null),(u=ml(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&Ua(t,e.child,null,n),t.child.memoizedState=Cu(n),t.memoizedState=Eu,u);if(0===(1&t.mode))t=Nu(e,t,n,null);else if("$!"===r.data)t=Nu(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),fu||i){if(null!==(i=ps)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,zs(e,i,-1))}tl(),t=Nu(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=function(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),hl(e,n)}.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Ea=ni(r.nextSibling),Oa=t,Ca=!0,Sa=null,null!==n&&(pa[va++]=ga,pa[va++]=ma,pa[va++]=ya,ga=n.id,ma=n.overflow,ya=t),(t=ju(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=xu(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Cu(n):Su(o,n),u.childLanes=e.childLanes&~n,t.memoizedState=Eu,i):(n=Iu(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=xu(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Cu(n):Su(o,n),u.childLanes=e.childLanes&~n,t.memoizedState=Eu,i):(n=Iu(e,t,i.children,n),t.memoizedState=null,n)}function ju(e,t){return(t=bl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Iu(e,t,n,r){var i=e.child;return e=i.sibling,n=yl(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function xu(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=yl(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=yl(o,r):(r=ml(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Nu(e,t,n,r){return null!==r&&Ra(r),Ua(t,e.child,null,n),(e=ju(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Au(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Hi(e.return,t,n)}function Pu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Ru(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(du(e,t,r.children,n),0!==(2&(r=$a.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Au(e,n,t);else if(19===e.tag)Au(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(bi($a,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Xa(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Pu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Xa(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Pu(t,!0,n,null,a);break;case"together":Pu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Du(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),_s|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=yl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=yl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Lu(e,t){switch(wa(t),t.tag){case 1:return Ci(t.type)&&Si(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ga(),mi(wi),mi(_i),Za(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ya(t),null;case 13:if(mi($a),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Pa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return mi($a),null;case 4:return Ga(),null;case 10:return qi(t.type._context),null;case 22:case 23:return Xs(),null;case 24:default:return null}}var Mu=!1,Fu=!1,Uu="function"===typeof WeakSet?WeakSet:Set,Vu=null;function zu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){cl(e,t,r)}else n.current=null}function Bu(e,t,n){try{n()}catch(r){cl(e,t,r)}}var qu=!1;function Hu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Bu(t,n,a)}i=i.next}while(i!==r)}}function Wu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Ku(e){var t=e.ref;if(null!==t){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}"function"===typeof t?t(e):t.current=e}}function Gu(e){var t=e.alternate;null!==t&&(e.alternate=null,Gu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ai],delete t[oi],delete t[si],delete t[li],delete t[ci])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Qu(e){return 5===e.tag||3===e.tag||4===e.tag}function Yu(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||Qu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}var $u=null,Xu=!1;function Ju(e,t,n){for(n=n.child;null!==n;)Zu(e,t,n),n=n.sibling}function Zu(e,t,n){if(nt&&"function"===typeof nt.onCommitFiberUnmount)try{nt.onCommitFiberUnmount(tt,n)}catch(u){}switch(n.tag){case 5:Fu||zu(n,t);case 6:var r=$u,i=Xu;$u=null,Ju(e,t,n),Xu=i,null!==($u=r)&&(Xu?(e=$u,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):$u.removeChild(n.stateNode));break;case 18:null!==$u&&(Xu?(e=$u,n=n.stateNode,8===e.nodeType?ti(e.parentNode,n):1===e.nodeType&&ti(e,n),Ut(e)):ti($u,n.stateNode));break;case 4:r=$u,i=Xu,$u=n.stateNode.containerInfo,Xu=!0,Ju(e,t,n),$u=r,Xu=i;break;case 0:case 11:case 14:case 15:if(!Fu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)?Bu(n,t,o):0!==(4&a)&&Bu(n,t,o)),i=i.next}while(i!==r)}Ju(e,t,n);break;case 1:if(!Fu&&(zu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){cl(n,t,u)}Ju(e,t,n);break;case 21:Ju(e,t,n);break;case 22:1&n.mode?(Fu=(r=Fu)||null!==n.memoizedState,Ju(e,t,n),Fu=r):Ju(e,t,n);break;default:Ju(e,t,n)}}function es(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Uu),t.forEach(function(t){var r=function(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),hl(e,n)}.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ts(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:$u=s.stateNode,Xu=!1;break e;case 3:case 4:$u=s.stateNode.containerInfo,Xu=!0;break e}s=s.return}if(null===$u)throw Error(a(160));Zu(o,u,i),$u=null,Xu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){cl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ns(t,e),t=t.sibling}function ns(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ts(t,e),rs(e),4&r){try{Hu(3,e,e.return),Wu(3,e)}catch(v){cl(e,e.return,v)}try{Hu(5,e,e.return)}catch(v){cl(e,e.return,v)}}break;case 1:ts(t,e),rs(e),512&r&&null!==n&&zu(n,n.return);break;case 5:if(ts(t,e),rs(e),512&r&&null!==n&&zu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(v){cl(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===s&&"radio"===o.type&&null!=o.name&&$(i,o),me(s,u);var c=me(s,o);for(u=0;u<l.length;u+=2){var h=l[u],f=l[u+1];"style"===h?ve(i,f):"dangerouslySetInnerHTML"===h?ce(i,f):"children"===h?he(i,f):b(i,h,f,c)}switch(s){case"input":X(i,o);break;case"textarea":ie(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?te(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?te(i,!!o.multiple,o.defaultValue,!0):te(i,!!o.multiple,o.multiple?[]:"",!1))}i[oi]=o}catch(v){cl(e,e.return,v)}}break;case 6:if(ts(t,e),rs(e),4&r){if(null===e.stateNode)throw Error(a(162));c=e.stateNode,h=e.memoizedProps;try{c.nodeValue=h}catch(v){cl(e,e.return,v)}}break;case 3:if(ts(t,e),rs(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(v){cl(e,e.return,v)}break;case 4:ts(t,e),rs(e);break;case 13:ts(t,e),rs(e),8192&(c=e.child).flags&&null!==c.memoizedState&&(null===c.alternate||null===c.alternate.memoizedState)&&(Ss=Qe()),4&r&&es(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(Fu=(h=Fu)||c,ts(t,e),Fu=h):ts(t,e),rs(e),8192&r){h=null!==e.memoizedState;e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,h?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=d.stateNode,u=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,s.style.display=pe("display",u))}catch(v){cl(e,e.return,v)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=h?"":d.memoizedProps}catch(v){cl(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}if(h&&!c&&0!==(1&e.mode))for(Vu=e,e=e.child;null!==e;){for(c=Vu=e;null!==Vu;){switch(f=(h=Vu).child,h.tag){case 0:case 11:case 14:case 15:Hu(4,h,h.return);break;case 1:if(zu(h,h.return),"function"===typeof(o=h.stateNode).componentWillUnmount){d=h,p=h.return;try{i=d,o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(v){cl(d,p,v)}}break;case 5:zu(h,h.return);break;case 22:if(null!==h.memoizedState){os(c);continue}}null!==f?(f.return=h,Vu=f):os(c)}e=e.sibling}}break;case 19:ts(t,e),rs(e),4&r&&es(e);break;case 21:break;default:ts(t,e),rs(e)}}function rs(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(Qu(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,Yu(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;!function e(t,n,r){var i=t.tag;if(5===i||6===i)t=t.stateNode,n?8===r.nodeType?r.parentNode.insertBefore(t,n):r.insertBefore(t,n):(8===r.nodeType?(n=r.parentNode).insertBefore(t,r):(n=r).appendChild(t),null!==(r=r._reactRootContainer)&&void 0!==r||null!==n.onclick||(n.onclick=Kr));else if(4!==i&&null!==(t=t.child))for(e(t,n,r),t=t.sibling;null!==t;)e(t,n,r),t=t.sibling}(e,Yu(e),o);break;default:throw Error(a(161))}}catch(u){cl(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function is(e,t,n){Vu=e,function e(t,n,r){for(var i=0!==(1&t.mode);null!==Vu;){var a=Vu,o=a.child;if(22===a.tag&&i){var u=null!==a.memoizedState||Mu;if(!u){var s=a.alternate,l=null!==s&&null!==s.memoizedState||Fu;s=Mu;var c=Fu;if(Mu=u,(Fu=l)&&!c)for(Vu=a;null!==Vu;)l=(u=Vu).child,22===u.tag&&null!==u.memoizedState?us(a):null!==l?(l.return=u,Vu=l):us(a);for(;null!==o;)Vu=o,e(o,n,r),o=o.sibling;Vu=a,Mu=s,Fu=c}as(t)}else 0!==(8772&a.subtreeFlags)&&null!==o?(o.return=a,Vu=o):as(t)}}(e,t,n)}function as(e){for(;null!==Vu;){var t=Vu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Fu||Wu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Fu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Mi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&na(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}na(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Ut(f)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}Fu||512&t.flags&&Ku(t)}catch(d){cl(t,t.return,d)}}if(t===e){Vu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Vu=n;break}Vu=t.return}}function os(e){for(;null!==Vu;){var t=Vu;if(t===e){Vu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Vu=n;break}Vu=t.return}}function us(e){for(;null!==Vu;){var t=Vu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Wu(4,t)}catch(s){cl(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){cl(t,i,s)}}var a=t.return;try{Ku(t)}catch(s){cl(t,a,s)}break;case 5:var o=t.return;try{Ku(t)}catch(s){cl(t,o,s)}}}catch(s){cl(t,t.return,s)}if(t===e){Vu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Vu=u;break}Vu=t.return}}var ss,ls=Math.ceil,cs=k.ReactCurrentDispatcher,hs=k.ReactCurrentOwner,fs=k.ReactCurrentBatchConfig,ds=0,ps=null,vs=null,ys=0,gs=0,ms=gi(0),bs=0,ks=null,_s=0,ws=0,Os=0,Es=null,Cs=null,Ss=0,Ts=1/0,js=null,Is=!1,xs=null,Ns=null,As=!1,Ps=null,Rs=0,Ds=0,Ls=null,Ms=-1,Fs=0;function Us(){return 0!==(6&ds)?Qe():-1!==Ms?Ms:Ms=Qe()}function Vs(e){return 0===(1&e.mode)?1:0!==(2&ds)&&0!==ys?ys&-ys:null!==Li.transition?(0===Fs&&(Fs=ft()),Fs):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Gt(e.type)}function zs(e,t,n){if(50<Ds)throw Ds=0,Ls=null,Error(a(185));var r=Bs(e,t);return null===r?null:(pt(r,t,n),0!==(2&ds)&&r===ps||(r===ps&&(0===(2&ds)&&(ws|=t),4===bs&&Gs(r,ys)),Hs(r,n),1===t&&0===ds&&0===(1&e.mode)&&(Ts=Qe()+500,Ai&&Di())),r)}function Bs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function qs(e){return(null!==ps||null!==Gi)&&0!==(1&e.mode)&&0===(2&ds)}function Hs(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-rt(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=ct(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=lt(e,e===ps?ys:0);if(0===r)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){Ai=!0,Ri(e)}(Qs.bind(null,e)):Ri(Qs.bind(null,e)),Zr(function(){0===ds&&Di()}),n=null;else{switch(gt(r)){case 1:n=$e;break;case 4:n=Xe;break;case 16:n=Je;break;case 536870912:n=et;break;default:n=Je}n=fl(n,function e(t,n){Ms=-1;Fs=0;if(0!==(6&ds))throw Error(a(327));var r=t.callbackNode;if(sl()&&t.callbackNode!==r)return null;var i=lt(t,t===ps?ys:0);if(0===i)return null;if(0!==(30&i)||0!==(i&t.expiredLanes)||n)n=nl(t,i);else{n=i;var o=ds;ds|=2;var u=el();for(ps===t&&ys===n||(js=null,Ts=Qe()+500,Js(t,n));;)try{il();break}catch(l){Zs(t,l)}Bi(),cs.current=u,ds=o,null!==vs?n=0:(ps=null,ys=0,n=bs)}if(0!==n){if(2===n&&(0!==(o=ht(t))&&(i=o,n=Ws(t,o))),1===n)throw r=ks,Js(t,0),Gs(t,i),Hs(t,Qe()),r;if(6===n)Gs(t,i);else{if(o=t.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!tr(a(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(n=nl(t,i))&&(0!==(u=ht(t))&&(i=u,n=Ws(t,u))),1===n))throw r=ks,Js(t,0),Gs(t,i),Hs(t,Qe()),r;switch(t.finishedWork=o,t.finishedLanes=i,n){case 0:case 1:throw Error(a(345));case 2:ul(t,Cs,js);break;case 3:if(Gs(t,i),(130023424&i)===i&&10<(n=Ss+500-Qe())){if(0!==lt(t,0))break;if(((o=t.suspendedLanes)&i)!==i){Us(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=$r(ul.bind(null,t,Cs,js),n);break}ul(t,Cs,js);break;case 4:if(Gs(t,i),(4194240&i)===i)break;for(n=t.eventTimes,o=-1;0<i;){var s=31-rt(i);u=1<<s,(s=n[s])>o&&(o=s),i&=~u}if(i=o,10<(i=(120>(i=Qe()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*ls(i/1960))-i)){t.timeoutHandle=$r(ul.bind(null,t,Cs,js),i);break}ul(t,Cs,js);break;case 5:ul(t,Cs,js);break;default:throw Error(a(329))}}}Hs(t,Qe());return t.callbackNode===r?e.bind(null,t):null}.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ws(e,t){var n=Es;return e.current.memoizedState.isDehydrated&&(Js(e,t).flags|=256),2!==(e=nl(e,t))&&(t=Cs,Cs=n,null!==t&&Ks(t)),e}function Ks(e){null===Cs?Cs=e:Cs.push.apply(Cs,e)}function Gs(e,t){for(t&=~Os,t&=~ws,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-rt(t),r=1<<n;e[n]=-1,t&=~r}}function Qs(e){if(0!==(6&ds))throw Error(a(327));sl();var t=lt(e,0);if(0===(1&t))return Hs(e,Qe()),null;var n=nl(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=Ws(e,r))}if(1===n)throw n=ks,Js(e,0),Gs(e,t),Hs(e,Qe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ul(e,Cs,js),Hs(e,Qe()),null}function Ys(e,t){var n=ds;ds|=1;try{return e(t)}finally{0===(ds=n)&&(Ts=Qe()+500,Ai&&Di())}}function $s(e){null!==Ps&&0===Ps.tag&&0===(6&ds)&&sl();var t=ds;ds|=1;var n=fs.transition,r=yt;try{if(fs.transition=null,yt=1,e)return e()}finally{yt=r,fs.transition=n,0===(6&(ds=t))&&Di()}}function Xs(){gs=ms.current,mi(ms)}function Js(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Xr(n)),null!==vs)for(n=vs.return;null!==n;){var r=n;switch(wa(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Si();break;case 3:Ga(),mi(wi),mi(_i),Za();break;case 5:Ya(r);break;case 4:Ga();break;case 13:case 19:mi($a);break;case 10:qi(r.type._context);break;case 22:case 23:Xs()}n=n.return}if(ps=e,vs=e=yl(e.current,null),ys=gs=t,bs=0,ks=null,Os=ws=_s=0,Cs=Es=null,null!==Gi){for(t=0;t<Gi.length;t++)if(null!==(r=(n=Gi[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Gi=null}return e}function Zs(e,t){for(;;){var n=vs;try{if(Bi(),eo.current=Ko,oo){for(var r=ro.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}oo=!1}if(no=0,ao=io=ro=null,uo=!1,so=0,hs.current=null,null===n||null===n.return){bs=1,ks=t,vs=null;break}e:{var o=e,u=n.return,s=n,l=t;if(t=ys,s.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,h=s,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=ou(u);if(null!==p){p.flags&=-257,uu(p,u,s,0,t),1&p.mode&&au(o,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(l),t.updateQueue=y}else v.add(l);break e}if(0===(1&t)){au(o,c,t),tl();break e}l=Error(a(426))}else if(Ca&&1&s.mode){var g=ou(u);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),uu(g,u,s,0,t),Ra(l);break e}}o=l,4!==bs&&(bs=2),null===Es?Es=[o]:Es.push(o),l=$o(l,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ea(s,ru(0,l,t));break e;case 1:o=l;var m=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof m.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ns||!Ns.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,ea(s,iu(s,o,t));break e}}s=s.return}while(null!==s)}ol(n)}catch(k){t=k,vs===n&&null!==n&&(vs=n=n.return);continue}break}}function el(){var e=cs.current;return cs.current=Ko,null===e?Ko:e}function tl(){0!==bs&&3!==bs&&2!==bs||(bs=4),null===ps||0===(268435455&_s)&&0===(268435455&ws)||Gs(ps,ys)}function nl(e,t){var n=ds;ds|=2;var r=el();for(ps===e&&ys===t||(js=null,Js(e,t));;)try{rl();break}catch(i){Zs(e,i)}if(Bi(),ds=n,cs.current=r,null!==vs)throw Error(a(261));return ps=null,ys=0,bs}function rl(){for(;null!==vs;)al(vs)}function il(){for(;null!==vs&&!Ke();)al(vs)}function al(e){var t=ss(e.alternate,e,gs);e.memoizedProps=e.pendingProps,null===t?ol(e):vs=t,hs.current=null}function ol(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=cu(n,t,gs)))return void(vs=n)}else{if(null!==(n=Lu(n,t)))return n.flags&=32767,void(vs=n);if(null===e)return bs=6,void(vs=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(vs=t);vs=t=e}while(null!==t);0===bs&&(bs=5)}function ul(e,t,n){var r=yt,i=fs.transition;try{fs.transition=null,yt=1,function(e,t,n,r){do{sl()}while(null!==Ps);if(0!==(6&ds))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-rt(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===ps&&(vs=ps=null,ys=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||As||(As=!0,fl(Je,function(){return sl(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=fs.transition,fs.transition=null;var u=yt;yt=1;var s=ds;ds|=4,hs.current=null,function(e,t){if(Gr=zt,or(e=ar())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var u=0,s=-1,l=-1,c=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(s=u+i),f!==o||0!==r&&3!==f.nodeType||(l=u+r),3===f.nodeType&&(u+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++c===i&&(s=u),d===o&&++h===r&&(l=u),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===s||-1===l?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Qr={focusedElem:e,selectionRange:n},zt=!1,Vu=t;null!==Vu;)if(e=(t=Vu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Vu=e;else for(;null!==Vu;){t=Vu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:break;case 1:if(null!==v){var y=v.memoizedProps,g=v.memoizedState,m=t.stateNode,b=m.getSnapshotBeforeUpdate(t.elementType===t.type?y:Mi(t.type,y),g);m.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var k=t.stateNode.containerInfo;if(1===k.nodeType)k.textContent="";else if(9===k.nodeType){var _=k.body;null!=_&&(_.textContent="")}break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(w){cl(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Vu=e;break}Vu=t.return}v=qu,qu=!1}(e,n),ns(n,e),ur(Qr),zt=!!Gr,Qr=Gr=null,e.current=n,is(n,e,i),Ge(),ds=s,yt=u,fs.transition=o}else e.current=n;if(As&&(As=!1,Ps=e,Rs=i),0===(o=e.pendingLanes)&&(Ns=null),function(e){if(nt&&"function"===typeof nt.onCommitFiberRoot)try{nt.onCommitFiberRoot(tt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),Hs(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(Is)throw Is=!1,e=xs,xs=null,e;0!==(1&Rs)&&0!==e.tag&&sl(),0!==(1&(o=e.pendingLanes))?e===Ls?Ds++:(Ds=0,Ls=e):Ds=0,Di()}(e,t,n,r)}finally{fs.transition=i,yt=r}return null}function sl(){if(null!==Ps){var e=gt(Rs),t=fs.transition,n=yt;try{if(fs.transition=null,yt=16>e?16:e,null===Ps)var r=!1;else{if(e=Ps,Ps=null,Rs=0,0!==(6&ds))throw Error(a(331));var i=ds;for(ds|=4,Vu=e.current;null!==Vu;){var o=Vu,u=o.child;if(0!==(16&Vu.flags)){var s=o.deletions;if(null!==s){for(var l=0;l<s.length;l++){var c=s[l];for(Vu=c;null!==Vu;){var h=Vu;switch(h.tag){case 0:case 11:case 15:Hu(8,h,o)}var f=h.child;if(null!==f)f.return=h,Vu=f;else for(;null!==Vu;){var d=(h=Vu).sibling,p=h.return;if(Gu(h),h===c){Vu=null;break}if(null!==d){d.return=p,Vu=d;break}Vu=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var g=y.sibling;y.sibling=null,y=g}while(null!==y)}}Vu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Vu=u;else e:for(;null!==Vu;){if(0!==(2048&(o=Vu).flags))switch(o.tag){case 0:case 11:case 15:Hu(9,o,o.return)}var m=o.sibling;if(null!==m){m.return=o.return,Vu=m;break e}Vu=o.return}}var b=e.current;for(Vu=b;null!==Vu;){var k=(u=Vu).child;if(0!==(2064&u.subtreeFlags)&&null!==k)k.return=u,Vu=k;else e:for(u=b;null!==Vu;){if(0!==(2048&(s=Vu).flags))try{switch(s.tag){case 0:case 11:case 15:Wu(9,s)}}catch(w){cl(s,s.return,w)}if(s===u){Vu=null;break e}var _=s.sibling;if(null!==_){_.return=s.return,Vu=_;break e}Vu=s.return}}if(ds=i,Di(),nt&&"function"===typeof nt.onPostCommitFiberRoot)try{nt.onPostCommitFiberRoot(tt,e)}catch(w){}r=!0}return r}finally{yt=n,fs.transition=t}}return!1}function ll(e,t,n){Ji(e,t=ru(0,t=$o(n,t),1)),t=Us(),null!==(e=Bs(e,1))&&(pt(e,1,t),Hs(e,t))}function cl(e,t,n){if(3===e.tag)ll(e,e,n);else for(;null!==t;){if(3===t.tag){ll(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ns||!Ns.has(r))){Ji(t,e=iu(t,e=$o(n,e),1)),e=Us(),null!==(t=Bs(t,1))&&(pt(t,1,e),Hs(t,e));break}}t=t.return}}function hl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=Us();null!==(e=Bs(e,t))&&(pt(e,t,n),Hs(e,n))}function fl(e,t){return He(e,t)}function dl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pl(e,t,n,r){return new dl(e,t,n,r)}function vl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function yl(e,t){var n=e.alternate;return null===n?((n=pl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function gl(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)vl(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case O:return ml(n.children,i,o,t);case E:u=8,i|=8;break;case C:return(e=pl(12,n,t,2|i)).elementType=C,e.lanes=o,e;case I:return(e=pl(13,n,t,i)).elementType=I,e.lanes=o,e;case x:return(e=pl(19,n,t,i)).elementType=x,e.lanes=o,e;case P:return bl(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:u=10;break e;case T:u=9;break e;case j:u=11;break e;case N:u=14;break e;case A:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=pl(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function ml(e,t,n,r){return(e=pl(7,e,r,t)).lanes=n,e}function bl(e,t,n,r){return(e=pl(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={},e}function kl(e,t,n){return(e=pl(6,e,null,t)).lanes=n,e}function _l(e,t,n){return(t=pl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function wl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dt(0),this.expirationTimes=dt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ol(e,t,n,r,i,a,o,u,s){return e=new wl(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=pl(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Yi(a),e}function El(e){if(!e)return ki;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ci(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ci(n))return ji(e,n,t)}return t}function Cl(e,t,n,r,i,a,o,u,s){return(e=Ol(n,r,!0,e,0,a,0,u,s)).context=El(null),n=e.current,(a=Xi(r=Us(),i=Vs(n))).callback=void 0!==t&&null!==t?t:null,Ji(n,a),e.current.lanes=i,pt(e,i,r),Hs(e,r),e}function Sl(e,t,n,r){var i=t.current,a=Us(),o=Vs(i);return n=El(n),null===t.context?t.context=n:t.pendingContext=n,(t=Xi(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),Ji(i,t),null!==(e=zs(i,o,a))&&Zi(e,i,o),o}function Tl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function jl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Il(e,t){jl(e,t),(e=e.alternate)&&jl(e,t)}ss=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||wi.current)fu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return fu=!1,function(e,t,n){switch(t.tag){case 3:wu(t),Pa();break;case 5:Qa(t);break;case 1:Ci(t.type)&&Ii(t);break;case 4:Ka(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;bi(Fi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(bi($a,1&$a.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Tu(e,t,n):(bi($a,1&$a.current),null!==(e=Du(e,t,n))?e.sibling:null);bi($a,1&$a.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ru(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),bi($a,$a.current),r)break;return null;case 22:case 23:return t.lanes=0,gu(e,t,n)}return Du(e,t,n)}(e,t,n);fu=0!==(131072&e.flags)}else fu=!1,Ca&&0!==(1048576&t.flags)&&ka(t,da,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ei(t,_i.current);Wi(t,n),i=fo(null,t,r,e,i,n);var o=po();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ci(r)?(o=!0,Ii(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Yi(t),i.updater=aa,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=_u(null,t,r,!0,o,n)):(t.tag=0,Ca&&o&&_a(t),du(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return vl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===j)return 11;if(e===N)return 14}return 2}(r),e=Mi(r,e),i){case 0:t=bu(null,t,r,e,n);break e;case 1:t=ku(null,t,r,e,n);break e;case 11:t=pu(null,t,r,e,n);break e;case 14:t=vu(null,t,r,Mi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,bu(e,t,r,i=t.elementType===r?i:Mi(r,i),n);case 1:return r=t.type,i=t.pendingProps,ku(e,t,r,i=t.elementType===r?i:Mi(r,i),n);case 3:e:{if(wu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,$i(e,t),ta(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ou(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Ou(e,t,r,n,i=Error(a(424)));break e}for(Ea=ni(t.stateNode.containerInfo.firstChild),Oa=t,Ca=!0,Sa=null,n=Va(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Pa(),r===i){t=Du(e,t,n);break e}du(e,t,r,n)}t=t.child}return t;case 5:return Qa(t),null===e&&xa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,Yr(r,i)?u=null:null!==o&&Yr(r,o)&&(t.flags|=32),mu(e,t),du(e,t,u,n),t.child;case 6:return null===e&&xa(t),null;case 13:return Tu(e,t,n);case 4:return Ka(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ua(t,null,r,n):du(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,pu(e,t,r,i=t.elementType===r?i:Mi(r,i),n);case 7:return du(e,t,t.pendingProps,n),t.child;case 8:case 12:return du(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,bi(Fi,r._currentValue),r._currentValue=u,null!==o)if(tr(o.value,u)){if(o.children===i.children&&!wi.current){t=Du(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var l=s.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Xi(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Hi(o.return,n,t),s.lanes|=n;break}l=l.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Hi(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}du(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Wi(t,n),r=r(i=Ki(i)),t.flags|=1,du(e,t,r,n),t.child;case 14:return i=Mi(r=t.type,t.pendingProps),vu(e,t,r,i=Mi(r.type,i),n);case 15:return yu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Mi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ci(r)?(e=!0,Ii(t)):e=!1,Wi(t,n),ua(t,r,i),la(t,r,i,n),_u(null,t,r,!0,e,n);case 19:return Ru(e,t,n);case 22:return gu(e,t,n)}throw Error(a(156,t.tag))};var xl="function"===typeof reportError?reportError:function(e){console.error(e)};function Nl(e){this._internalRoot=e}function Al(e){this._internalRoot=e}function Pl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Rl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Dl(){}function Ll(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Tl(o);u.call(e)}}Sl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Tl(o);a.call(e)}}var o=Cl(t,r,e,0,null,!1,0,"",Dl);return e._reactRootContainer=o,e[ui]=o.current,Dr(8===e.nodeType?e.parentNode:e),$s(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Tl(s);u.call(e)}}var s=Ol(e,0,!1,null,0,!1,0,"",Dl);return e._reactRootContainer=s,e[ui]=s.current,Dr(8===e.nodeType?e.parentNode:e),$s(function(){Sl(t,s,n,r)}),s}(n,t,e,i,r);return Tl(o)}Al.prototype.render=Nl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Sl(e,t,null,null)},Al.prototype.unmount=Nl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;$s(function(){Sl(null,e,null,null)}),t[ui]=null}},Al.prototype.unstable_scheduleHydration=function(e){if(e){var t=_t();e={blockedOn:null,target:e,priority:t};for(var n=0;n<xt.length&&0!==t&&t<xt[n].priority;n++);xt.splice(n,0,e),0===n&&Rt(e)}},mt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=st(t.pendingLanes);0!==n&&(vt(t,1|n),Hs(t,Qe()),0===(6&ds)&&(Ts=Qe()+500,Di()))}break;case 13:var r=Us();$s(function(){return zs(e,1,r)}),Il(e,1)}},bt=function(e){13===e.tag&&(zs(e,134217728,Us()),Il(e,134217728))},kt=function(e){if(13===e.tag){var t=Us(),n=Vs(e);zs(e,n,t),Il(e,n)}},_t=function(){return yt},wt=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},_e=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=pi(r);if(!i)throw Error(a(90));K(r),X(r,i)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&te(e,!!n.multiple,t,!1)}},Te=Ys,je=$s;var Ml={usingClientEntryPoint:!1,Events:[fi,di,pi,Ce,Se,Ys]},Fl={findFiberByHostInstance:hi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},Ul={bundleType:Fl.bundleType,version:Fl.version,rendererPackageName:Fl.rendererPackageName,rendererConfig:Fl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:k.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:Fl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Vl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vl.isDisabled&&Vl.supportsFiber)try{tt=Vl.inject(Ul),nt=Vl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ml,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Pl(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Pl(e))throw Error(a(299));var n=!1,r="",i=xl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Ol(e,1,!1,null,0,n,0,r,i),e[ui]=t.current,Dr(8===e.nodeType?e.parentNode:e),new Nl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return $s(e)},t.hydrate=function(e,t,n){if(!Rl(t))throw Error(a(200));return Ll(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Pl(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=xl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Cl(t,null,e,1,null!=n?n:null,i,0,o,u),e[ui]=t.current,Dr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Al(t)},t.render=function(e,t,n){if(!Rl(t))throw Error(a(200));return Ll(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Rl(e))throw Error(a(40));return!!e._reactRootContainer&&($s(function(){Ll(null,null,e,!1,function(){e._reactRootContainer=null,e[ui]=null})}),!0)},t.unstable_batchedUpdates=Ys,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Rl(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Ll(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},function(e,t,n){"use strict";e.exports=n(77)},function(e,t,n){"use strict";(function(e){function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],l=u+1,c=e[l];if(0>a(s,n))l<i&&0>a(c,s)?(e[r]=c,e[l]=n,r=l):(e[r]=s,e[u]=n,r=u);else{if(!(l<i&&0>a(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var l=[],c=[],h=1,f=null,d=3,p=!1,v=!1,y=!1,g="function"===typeof setTimeout?setTimeout:null,m="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof e?e:null;function k(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function _(e){if(y=!1,k(e),!v)if(null!==r(l))v=!0,P(w);else{var t=r(c);null!==t&&R(_,t.startTime-e)}}function w(e,n){v=!1,y&&(y=!1,m(S),S=-1),p=!0;var a=d;try{for(k(n),f=r(l);null!==f&&(!(f.expirationTime>n)||e&&!I());){var o=f.callback;if("function"===typeof o){f.callback=null,d=f.priorityLevel;var u=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?f.callback=u:f===r(l)&&i(l),k(n)}else i(l);f=r(l)}if(null!==f)var s=!0;else{var h=r(c);null!==h&&R(_,h.startTime-n),s=!1}return s}finally{f=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var O,E=!1,C=null,S=-1,T=5,j=-1;function I(){return!(t.unstable_now()-j<T)}function x(){if(null!==C){var e=t.unstable_now();j=e;var n=!0;try{n=C(!0,e)}finally{n?O():(E=!1,C=null)}}else E=!1}if("function"===typeof b)O=function(){b(x)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,A=N.port2;N.port1.onmessage=x,O=function(){A.postMessage(null)}}else O=function(){g(x,0)};function P(e){C=e,E||(E=!0,O())}function R(e,n){S=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,P(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(c,e),null===r(l)&&e===r(c)&&(y?(m(S),S=-1):y=!0,R(_,a-o))):(e.sortIndex=u,n(l,e),v||p||(v=!0,P(w))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}}).call(this,n(78).setImmediate)},function(e,t,n){(function(e){var r="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||window,i=Function.prototype.apply;function a(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new a(i.call(setTimeout,r,arguments),clearTimeout)},t.setInterval=function(){return new a(i.call(setInterval,r,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},a.prototype.unref=a.prototype.ref=function(){},a.prototype.close=function(){this._clearFn.call(r,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(79),t.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof e&&e.clearImmediate||this&&this.clearImmediate}).call(this,n(26))},function(e,t,n){(function(e,t){!function(e,n){"use strict";if(!e.setImmediate){var r,i=1,a={},o=!1,u=e.document,s=Object.getPrototypeOf&&Object.getPrototypeOf(e);s=s&&s.setTimeout?s:e,"[object process]"==={}.toString.call(e.process)?r=function(e){t.nextTick(function(){c(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"===typeof n.data&&0===n.data.indexOf(t)&&c(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),r=function(n){e.postMessage(t+n,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){c(e.data)},r=function(t){e.port2.postMessage(t)}}():u&&"onreadystatechange"in u.createElement("script")?function(){var e=u.documentElement;r=function(t){var n=u.createElement("script");n.onreadystatechange=function(){c(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():r=function(e){setTimeout(c,0,e)},s.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var o={callback:e,args:t};return a[i]=o,r(i),i++},s.clearImmediate=l}function l(e){delete a[e]}function c(e){if(o)setTimeout(c,0,e);else{var t=a[e];if(t){o=!0;try{!function(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}(t)}finally{l(e),o=!1}}}}}("undefined"===typeof self?"undefined"===typeof e?this:e:self)}).call(this,n(26),n(28))},function(e,t,n){var r=function(){return this||"object"===typeof self&&self}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,a=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,e.exports=n(81),i)r.regeneratorRuntime=a;else try{delete r.regeneratorRuntime}catch(o){r.regeneratorRuntime=void 0}},function(e,t){!function(t){"use strict";var n,r=Object.prototype,i=r.hasOwnProperty,a="function"===typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag",l="object"===typeof e,c=t.regeneratorRuntime;if(c)l&&(e.exports=c);else{(c=t.regeneratorRuntime=l?e.exports:{}).wrap=k;var h="suspendedStart",f="suspendedYield",d="executing",p="completed",v={},y={};y[o]=function(){return this};var g=Object.getPrototypeOf,m=g&&g(g(N([])));m&&m!==r&&i.call(m,o)&&(y=m);var b=E.prototype=w.prototype=Object.create(y);O.prototype=b.constructor=E,E.constructor=O,E[s]=O.displayName="GeneratorFunction",c.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===O||"GeneratorFunction"===(t.displayName||t.name))},c.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,E):(e.__proto__=E,s in e||(e[s]="GeneratorFunction")),e.prototype=Object.create(b),e},c.awrap=function(e){return{__await:e}},C(S.prototype),S.prototype[u]=function(){return this},c.AsyncIterator=S,c.async=function(e,t,n,r){var i=new S(k(e,t,n,r));return c.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},C(b),b[s]="Generator",b[o]=function(){return this},b.toString=function(){return"[object Generator]"},c.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},c.values=N,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,i){return u.type="throw",u.arg=e,t.next=r,i&&(t.method="next",t.arg=n),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=i.call(o,"catchLoc"),l=i.call(o,"finallyLoc");if(s&&l){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:N(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),v}}}function k(e,t,n,r){var i=t&&t.prototype instanceof w?t:w,a=Object.create(i.prototype),o=new x(r||[]);return a._invoke=function(e,t,n){var r=h;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=T(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=_(e,t,n);if("normal"===s.type){if(r=n.done?p:f,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function _(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(r){return{type:"throw",arg:r}}}function w(){}function O(){}function E(){}function C(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function S(e){var t;this._invoke=function(n,r){function a(){return new Promise(function(t,a){!function t(n,r,a,o){var u=_(e[n],e,r);if("throw"!==u.type){var s=u.arg,l=s.value;return l&&"object"===typeof l&&i.call(l,"__await")?Promise.resolve(l.__await).then(function(e){t("next",e,a,o)},function(e){t("throw",e,a,o)}):Promise.resolve(l).then(function(e){s.value=e,a(s)},function(e){return t("throw",e,a,o)})}o(u.arg)}(n,r,t,a)})}return t=t?t.then(a,a):a()}}function T(e,t){var r=e.iterator[t.method];if(r===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=n,T(e,t),"throw"===t.method))return v;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=_(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,v;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,v):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,v)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function N(e){if(e){var t=e[o];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(i.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=n,t.done=!0,t};return a.next=a}}return{next:A}}function A(){return{value:n,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},function(e,t,n){"use strict";var r=n(83);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},,,,,,,function(e,t,n){"use strict";var r=n(0),i={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function a(e){var t=function(e){if("number"===typeof e)return{value:e,unit:"px"};var t,n=(e.match(/^[0-9.]*/)||"").toString();t=n.includes(".")?parseFloat(n):parseInt(n,10);var r=(e.match(/[^0-9]*$/)||"").toString();return i[r]?{value:t,unit:r}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}(e);return"".concat(t.value).concat(t.unit)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},u=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},s=function(e,t,n){var r="react-spinners-".concat(e,"-").concat(n);if("undefined"==typeof window||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var a=i.sheet,o="\n    @keyframes ".concat(r," {\n      ").concat(t,"\n    }\n  ");return a&&a.insertRule(o,0),r}("BounceLoader","0% {transform: scale(0)} 50% {transform: scale(1.0)} 100% {transform: scale(0)}","bounce");t.a=function(e){var t=e.loading,n=void 0===t||t,i=e.color,l=void 0===i?"#000000":i,c=e.speedMultiplier,h=void 0===c?1:c,f=e.cssOverride,d=void 0===f?{}:f,p=e.size,v=void 0===p?60:p,y=u(e,["loading","color","speedMultiplier","cssOverride","size"]),g=function(e){var t=1===e?"".concat(1/h,"s"):"0s";return{position:"absolute",height:a(v),width:a(v),backgroundColor:l,borderRadius:"100%",opacity:.6,top:0,left:0,animationFillMode:"both",animation:"".concat(s," ").concat(2.1/h,"s ").concat(t," infinite ease-in-out")}},m=o({display:"inherit",position:"relative",width:a(v),height:a(v)},d);return n?r.createElement("span",o({style:m},y),r.createElement("span",{style:g(1)}),r.createElement("span",{style:g(2)})):null}}]]);
//# sourceMappingURL=1.df046f28.chunk.js.map